(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{1020:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n(15),a=n(16),o=n(17),r=n(18),c=n(9),s=n(1),l=n(0),u=n(3),d=n.n(u),b=n(86),h=n(36),f=n(413),p=n(1085),m=n(1117);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(c.a)(e);if(t){var a=Object(c.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(r.a)(this,n)}}var O=function(e){Object(o.a)(n,e);var t=v(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.memberHashId,n=e.isModalShow,i=e.handleCloseModal;return Object(s.b)(b.b,{className:"ChatBoxModal",spread:!0,onClose:i,contentClassName:"ChatBoxModal-content",closeButton:Object(s.b)(h.c,{preset:"plain",className:"ChatBoxModal-closeButton",onClick:i,"aria-label":"关闭",children:Object(s.b)(f.a,{className:"ChatBoxModal-closeIcon"})}),children:n&&Object(s.b)(p.a,{handleReceiveMessage:this.handleReceiveMessage,children:Object(s.b)(m.a,{type:"default",senderId:t,className:"Chat-ChatBox"},t)})})}}]),n}(l.Component);O.propTypes={memberHashId:d.a.string,handleCloseModal:d.a.func,isModalShow:d.a.bool}},1032:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var i=n(21),a=n.n(i),o=n(23),r=n.n(o),c=n(22),s=n.n(c),l=n(25),u=n.n(l),d=n(14),b=n.n(d),h=n(53),f=n.n(h),p=n(0),m=n(12),v=n.n(m),O=n(36),j=n(7);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return u()(this,n)}}var y=function(e){s()(n,e);var t=g(n);function n(){var e;a()(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleClick=function(){var t=e.props;(0,t.onSelect)(t.page)},e}return r()(n,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.isCurrent,i=e.className;return Object(j.g)(O.c,{preset:O.b.Plain,className:v()("PaginationButton",{"PaginationButton--current":n},i),onClick:this.handleClick,disabled:n},t)}}]),n}(p.Component);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return u()(this,n)}}var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Array.from({length:t},(function(t,n){return n+e}))},x=function(e){s()(n,e);var t=w(n);function n(){return a()(this,n),t.apply(this,arguments)}return r()(n,[{key:"render",value:function(){var e,t=this.props,n=t.onSelect,i=t.className,a=t.clickCallback,o=this.props.current,r=this.props.total,c=a&&(e=a,function(){e.apply(void 0,arguments)})||n,s=function(e,t){var n="...";return t<=5?C(1,t):e>t-3?[1,n].concat(f()(C(t-3,3)),[t]):e<=3?[1].concat(f()(C(2,3)),[n,t]):[1,n].concat(f()(C(e-Math.floor(1.5),3)),[n,t])}(o,r);return Object(j.g)("div",{className:v()("Pagination",i)},o>1&&o<=r&&Object(j.g)(y,{className:"PaginationButton-prev",onSelect:c,text:"上一页",page:o-1}),s.map((function(e,t){return"number"==typeof e?Object(j.g)(y,{onSelect:c,text:e,page:e,key:t,isCurrent:o===e}):Object(j.g)("button",{disabled:!0,key:t,className:"PaginationButton PaginationButton--ellipsis"},e)})),o>0&&o<r&&Object(j.g)(y,{className:"PaginationButton-next",onSelect:c,text:"下一页",page:o+1}))}}]),n}(p.Component);x.defaultProps={current:1,total:1,onSelect:function(){}}},1047:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n(15),a=n(16),o=n(17),r=n(18),c=n(9),s=n(1),l=n(3),u=n.n(l),d=n(0),b=n(1032),h=n(13),f=n(5);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(c.a)(e);if(t){var a=Object(c.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(r.a)(this,n)}}var m=function(e){Object(o.a)(n,e);var t=p(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isDrained,n=e.page,i=e.prePage,a=e.onLoad,o=e.isNextLoaded;t||a(Object(f.c)(n),i),o||a(Object(f.c)(n+1),i)}},{key:"componentWillReceiveProps",value:function(e){var t=e.isFetching,n=e.isDrained,i=e.isNextLoaded,a=e.page,o=e.prePage,r=e.onLoad,c=e.total;n||t||r(Object(f.c)(a),o),!i&&a<c&&a!==this.props.page&&r(Object(f.c)(a+1),o)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.total,i=e.page,a=e.onPaginationClick,o=e.isFetching,r=e.placeholder;return Object(s.c)("div",{children:[t,o&&r,n>1&&Object(s.b)(b.a,{current:i,total:n,clickCallback:a})]})}}]),n}(d.Component);m.propTypes={isFetching:u.a.bool.isRequired,isDrained:u.a.bool.isRequired,onLoad:u.a.func.isRequired,total:u.a.number,page:u.a.number,prePage:u.a.number,placeholder:u.a.node,onPaginationClick:u.a.func.isRequired,isNextLoaded:u.a.bool},m.defaultProps={prePage:h.b,page:1}},1078:function(e,t,n){"use strict";var i=n(15),a=n(16),o=n(17),r=n(18),c=n(9),s=n(1),l=n(3),u=n.n(l),d=n(0),b=n(26),h=n(12),f=n.n(h),p=n(1384),m=n(36),v=n(898),O=n(282),j=n(77),g=n(880),y=n(35),w=n(29),C=n(1020),x=n(30);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(c.a)(e);if(t){var a=Object(c.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(r.a)(this,n)}}var A=function(e){Object(o.a)(n,e);var t=k(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={modalShown:!1},e.handleSendMessage=function(){var t=e.props,n=t.onModalOpen,i=t.user.allowMessage,a=t.dispatch,o=t.doNotCheckAllowMessageSetting;i||void 0===i&&o?(e.setState({modalShown:!0}),n&&n()):a(Object(w.h)(x.V.blocked,"red")),y.a.trackEvent(Object(j.a)(e),{action:"Message",element:"Button",is_intent:!0})},e.handleCloseModal=function(){var t=e.props.onModalClose;e.setState({modalShown:!1}),t&&t()},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.preset,i=e.color,a=e.icon,o=e.label,r=e.className,c=e.tooltip,l=e.tooltipPreset,u=this.state.modalShown,d="3d198a56310c02c4a83efb9f4a4c027e"===t.id;return Object(s.c)(s.a,{children:[Object(s.b)(m.c,{preset:n,color:i,className:r,icon:a,label:o,onClick:this.context.authRequired(this.handleSendMessage,d?x.X.serviceAccountMessage:x.X.message),"data-tooltip":c,"aria-label":c,"data-tooltip-preset":l}),Object(s.b)(C.a,{memberHashId:t.id,handleCloseModal:this.handleCloseModal,isModalShow:u})]})}}]),n}(d.Component);A.propTypes={onModalOpen:u.a.func,onModalClose:u.a.func},A.defaultProps={preset:"outline",color:"grey",icon:g.a,label:"发私信",doNotCheckAllowMessageSetting:!1},A.contextTypes={authRequired:u.a.func};var S=Object(b.connect)()(A),R=n(140);function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(c.a)(e);if(t){var a=Object(c.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(r.a)(this,n)}}var T=function(e){Object(o.a)(n,e);var t=N(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={reportModalShown:!1},e.handleShieldUser=function(){var t=e.props,n=t.user.urlToken,i=t.updateUserBlocking,a=t.showNotification;i(n,!1).then((function(){return a("屏蔽已取消")}))},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.user,i=t.user,a=i.urlToken,o=i.isBlocking,r=i.isOrg,c=t.canShowMutualFollowStatus,l=t.className,u=t.buttonClassName,d=t.onModalOpen,b=t.onModalClose,h=this.context.authRequired,j=this.state.reportModalShown,g=f()("MemberButtonGroup",l);return o?Object(s.c)("div",{className:g,children:[Object(s.c)(m.c,{className:u,preset:"primary",color:"red",onClick:this.handleShieldUser,children:[Object(s.b)(p.a,{center:!0,text:!0})," 已屏蔽"]}),!r&&Object(s.c)(m.c,{className:u,onClick:h((function(){e.setState({reportModalShown:!0}),d&&d()}),x.X.report),children:["举报用户",Object(s.b)(O.a,{shown:j,onClose:function(){e.setState({reportModalShown:!1}),b&&b()},type:"member",urlToken:a,zaEnabled:!0})]})]}):Object(s.c)("div",{className:g,children:[Object(s.b)(v.a,{id:a,type:n.type,gender:n.gender,isFollowing:n.isFollowing,isFollowed:n.isFollowed,canShowMutualFollowStatus:c,className:u,preset:v.a.PRESETS.primary}),Object(s.b)(S,{user:n,className:u,onModalOpen:d,onModalClose:b})]})}}]),n}(d.Component);T.contextTypes={authRequired:u.a.func},T.propTypes={user:u.a.object.isRequired,buttonClassName:u.a.string,onModalOpen:u.a.func,onModalClose:u.a.func};t.a=Object(b.connect)(null,{updateUserBlocking:R.o,showNotification:w.h})(T)},1127:function(e,t,n){"use strict";var i=n(0),a=n(41),o=Object(i.createContext)({}),r=n(115);t.a=Object(a.withRouter)((function(e){var t=e.to,n=e.router,a=Object(i.useContext)(o);return a.url||(a.url=t),Object(i.useEffect)((function(){Object(r.isAbsoluteUrl)(t)?window.location.replace(t):n.replace(t)}),[n,t]),null}))},1151:function(e,t,n){"use strict";var i=n(15),a=n(16),o=n(17),r=n(18),c=n(9),s=n(1),l=n(3),u=n.n(l),d=n(0),b=n(61),h=n(139),f=n(178),p=n(1309),m=n(894),v=n(928),O=n(923),j=n(898),g=n(916),y=n(899),w=n(415);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(c.a)(e);if(t){var a=Object(c.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(r.a)(this,n)}}var x=function(e){Object(o.a)(n,e);var t=C(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={commentPattern:"fixed",commentsShown:!1,commentsAutoFocus:!0},e.handleCommentsShown=function(t,n){e.setState(n)},e.handleCommentsHide=function(){e.setState({commentsShown:!1})},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.preset,i=t.favlist,a=t.favlist,o=a.id,r=a.type,c=a.title,l=a.updatedTime,u=a.answerCount,d=a.followerCount,w=a.isFollowing,C=a.isPublic,x=a.creator,k=void 0===x?{}:x,A=a.commentCount,S=t.status,R=t.action,N=t.lastreadTouchable,T=t.zaInfos,B=T.follow,E=T.options,I=t.renderOptions,q=this.state,z=q.commentsShown,M=q.commentsAutoFocus,P=q.commentPattern,L="/collection/".concat(o),D=Object(s.b)("a",{href:L,target:"_blank",rel:"noopener noreferrer",children:c});if(n===m.c.plain)return Object(s.b)(m.e,{data:i,link:L,title:D});var Q={id:o,type:r};return n===m.c.default?Object(s.b)(m.e,{data:i,link:L,title:Object(s.c)(b.Flex,{alignItems:"center",children:[D,!C&&Object(s.b)(b.Text,{color:"GBL05A",ml:".3em",children:Object(s.b)(p.a,{center:!0,size:18})})]}),meta:S||Object(s.c)(m.d,{children:["".concat(Object(h.toDateString)(l)," 更新"),"".concat(Object(f.formatNumber)(u)," 条内容"),"".concat(Object(f.formatNumber)(d)," 人关注")]}),extra:R}):Object(s.c)(m.e,{data:i,link:L,onRef:function(t){e.contentItem=t},title:D,lastreadTouchable:N,children:[Object(s.c)(m.b,{children:[Object(s.c)("div",{children:[Object(s.b)("span",{children:"关注数："}),Object(f.formatNumber)(d)]}),Object(s.c)("div",{children:[Object(s.b)("span",{children:"最后更新于："}),Object(h.toDateString)(l)]}),Object(s.c)("div",{children:[Object(s.b)("span",{children:"作者："}),Object(s.b)(y.a,{user:k})]})]},"favlist-item-cells"),Object(s.c)(m.a,{children:[Object(s.b)(j.a,Object.assign(Object.assign({},Q),{},{isFollowing:w,zaId:B})),Object(s.b)(v.a,{onClick:this.handleCommentsShown,commentsShown:z,count:A}),Object(s.b)(g.a,Object.assign(Object.assign({},Q),{},{title:c,authorName:k&&k.name})),I&&I((function(){return e.contentItem}),E)]},"favlist-item-actions"),Object(s.b)(O.a,{parent:i,commentPattern:P,shown:z,autoFocus:M,onClose:this.handleCommentsHide})]})}}]),n}(d.Component);x.propTypes={preset:u.a.oneOf(Object.values(m.c)),zaInfos:u.a.shape({follow:u.a.number,options:u.a.number}),renderOptions:u.a.func},x.defaultProps={preset:m.c.default,zaInfos:{}},t.a=Object(w.b)((function(e){var t=e.favlist,n=e.trackCardShow,i=void 0===n||n;return{module:"CollectionItem",card:{content:{type:"Collection",token:String(t.id),item_num:t.answerCount,follower_num:t.followerCount,publish_timestamp:1e3*t.updateTime,author_member_hash_id:(t.creator||{}).id}},trackCardShow:i}}))(x)},1167:function(e,t,n){"use strict";var i=n(33),a=n(15),o=n(16),r=n(17),c=n(18),s=n(9),l=n(1),u=n(0),d=n(12),b=n.n(d),h=n(41),f=n(36),p=["to","className","children"];function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(c.a)(this,n)}}var v=function(e){Object(r.a)(n,e);var t=m(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.to,n=e.className,a=e.children,o=Object(i.default)(e,p),r=b()("QuestionMainAction",n);return t?Object(l.b)(h.Link,Object.assign(Object.assign({to:t,className:r},o),{},{children:a})):Object(l.b)(f.c,Object.assign(Object.assign({className:r},o),{},{children:a}))}}]),n}(u.Component);t.a=v},1201:function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var i=n(49),a=n(1),o=n(0),r=n(63),c=n.n(r),s=Object(o.createContext)([!0,c.a,c.a]);s.displayName="DisplayPriorityContext";var l=function(){return Object(o.useContext)(s)},u=function(e){var t=e.children,n=e.readyStatus,i=e.shownStatus,r=e.index,c=e.setReadyStatusList,l=Object(o.useRef)(n);Object(o.useEffect)((function(){l.current=n}),[n]);var u=Object(o.useCallback)((function(){"pending"===l.current&&c((function(e){return e.map((function(e,t){return t===r?"resolved":e}))}))}),[c,r]),d=Object(o.useCallback)((function(){"pending"===l.current&&c((function(e){return e.map((function(e,t){return t===r?"rejected":e}))}))}),[c,r]),b=Object(o.useMemo)((function(){return[i,u,d]}),[i,u,d]);return Object(a.b)(s.Provider,{value:b,children:t})};t.a=function(e){var t=e.children,n=Object(o.useState)((function(){return o.Children.map(t,(function(){return"pending"}))})),r=Object(i.a)(n,2),c=r[0],s=r[1],l=Object(o.useMemo)((function(){var e=!1;return c.map((function(t){return!e&&("rejected"!==t&&(e=!0,"pending"!==t))}))}),[c]);return Object(a.b)(a.a,{children:o.Children.map(t,(function(e,t){return Object(a.b)(u,{readyStatus:c[t],shownStatus:l[t],index:t,setReadyStatusList:s,children:e},t)}))})}},1204:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return j}));var i=n(33),a=n(1),o=n(61),r=n(74),c=n(2158),s=n(1089),l=n(178),u=n(1481),d=n(83),b=n(205),h=n(891),f=["item","className","renderTimeTopic"],p=["item"],m={"火爆":"GRD01A","飙升":"GRD03A","热议":"GRD10A","上升":"GYL01A","新题":"GBL08A"},v=function(e){var t=e.item,n=e.className,r=e.renderTimeTopic,c=void 0!==r&&r,s=Object(i.default)(e,f),b=t.question,p=b.url,v=b.title,O=b.topics,j=b.label,g=b.created,y=b.highlightTitle,w=t.reaction;return Object(a.c)(o.Box,Object.assign(Object.assign({flexBasis:"353px",className:n,pr:"43px"},s),{},{children:[Object(a.b)(h.a,{href:p,zaType:"Card",target:"_blank",children:Object(a.c)(o.Box,{css:function(e){return Object.assign(Object.assign({},Object(d.d)(2)),{},{fontSize:"15px",color:e.colors.GBK03A,fontWeight:500,lineHeight:"21px"})},children:[Boolean(j)&&Object(a.b)(o.Box,{p:"2px 4px",css:function(e){return{background:e.colorMod(e.colors[m[j]]).alpha(.14),border:"1px solid ".concat(e.colorMod(e.colors[m[j]]).alpha(.1)),borderRadius:"2px",fontSize:"12px",color:e.colors[m[j]],display:"inline-block",lineHeight:"12px",marginRight:"2px",fontWeight:"500",position:"relative",top:"-2px"}},children:j}),c?Object(a.b)("span",{css:function(e){return{"& em":{color:e.colors.GRD03A,fontStyle:"normal"}}},dangerouslySetInnerHTML:{__html:y}}):v]})}),Object(a.c)(o.Box,{mt:"10px",css:{height:null!=O&&O.length||c?"23px":"0px",overflow:"hidden"},children:[null==O?void 0:O.map((function(e){var t=e.name,n=e.urlToken;return Object(a.c)(h.a,{href:"https://www.zhihu.com/topic/".concat(n),zaType:"Tag",target:"_blank",css:function(e){return{display:"inline-block",padding:"3px 6px",background:e.colors.GBK10A,fontSize:"12px",lineHeight:"17px",fontWeight:"400",color:e.colors.GBK04A,whiteSpace:"nowrap","&:nth-of-type(n + 2)":{marginLeft:8}}},children:["#",t]},n)})),c&&Object(a.b)(o.Text,{color:"GBK06A",fontSize:"13px",mt:O?"10px":"0px",children:O?"提问时间：".concat(u.a(1e3*g,"yyyy-MM-dd")):"".concat(Object(l.cnNiceNumber)((null==w?void 0:w.answerNum)||0)," 回答 · ").concat(Object(l.cnNiceNumber)((null==w?void 0:w.followNum)||0)," 关注")})]})]}))},O=function(e){var t=e.item,n=Object(i.default)(e,p),l=t.question,u=l.token,d=l.haveAnswer,h=l.questionAnswerUrl,f="https://www.zhihu.com/question/".concat(u,"?write");return Object(a.b)(o.Flex,Object.assign(Object.assign({justifyContent:"center",flexBasis:"131px"},n),{},{children:Object(a.b)(r.a,{zaType:"Button",zaText:!0,zaAction:"OpenUrl",extra:{link:{get url(){return d?h:f}}},children:d?Object(a.b)(b.a,{icon:c.a,label:"查看回答",href:h,target:"_blank",css:{padding:"0 9px"}}):Object(a.b)(b.a,{className:"QuestionItem-footer--writeAnswerButton",label:"写回答",icon:s.a,href:f,target:"_blank"})})}))},j=function(e){var t=e.score,n=e.level,i=e.Icon,r=e.color;return Object(a.c)(o.Box,{children:[Object(a.c)(o.Text,{color:"GBK03A",fontSize:"14px",lineHeight:"18px",fontWeight:"400",children:[t.toFixed(1)," 分"]}),Object(a.b)(o.Flex,{mt:"8px",alignItems:"center",children:new Array(5).fill().map((function(e,t){return Object(a.c)(o.Box,{css:{position:"relative"},children:[Object(a.b)(i,{size:12,css:function(e){return Object.assign({color:e.colors[r]},t+1>n&&{opacity:"0.2"})}}),t+1===Math.ceil(n)&&Object(a.b)(i,{size:12,css:function(e){return{color:e.colors[r],position:"absolute",left:"0",top:"3px",clip:"rect(0, ".concat(n%1*12,"px, 12px, 0px)")}}})]},t)}))})]})}},1206:function(e,t,n){"use strict";t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=s(n(1432)),o=s(n(0)),r=s(n(3)),c=(s(n(1433)),n(1434));function s(e){return e&&e.__esModule?e:{default:e}}r.default.any,r.default.func,r.default.node;var l=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return o.performAppear=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(o._handleDoneAppearing.bind(o,e,t)):o._handleDoneAppearing(e,t)},o._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete o.currentlyTransitioningKeys[e];var n=(0,c.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performEnter=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(o._handleDoneEntering.bind(o,e,t)):o._handleDoneEntering(e,t)},o._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete o.currentlyTransitioningKeys[e];var n=(0,c.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performLeave=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(o._handleDoneLeaving.bind(o,e,t)):o._handleDoneLeaving(e,t)},o._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete o.currentlyTransitioningKeys[e];var n=(0,c.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)?o.keysToEnter.push(e):o.setState((function(t){var n=i({},t.children);return delete n[e],{children:n}}))},o.childRefs=Object.create(null),o.state={children:(0,c.getChildMapping)(n.children)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,c.getChildMapping)(e.children),n=this.state.children;for(var i in this.setState({children:(0,c.mergeChildMappings)(n,t)}),t){var a=n&&n.hasOwnProperty(i);!t[i]||a||this.currentlyTransitioningKeys[i]||this.keysToEnter.push(i)}for(var o in n){var r=t&&t.hasOwnProperty(o);!n[o]||r||this.currentlyTransitioningKeys[o]||this.keysToLeave.push(o)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach((function(t){return e.performEnter(t,e.childRefs[t])}));var n=this.keysToLeave;this.keysToLeave=[],n.forEach((function(t){return e.performLeave(t,e.childRefs[t])}))},t.prototype.render=function(){var e=this,t=[],n=function(n){var i=e.state.children[n];if(i){var r="string"!=typeof i.ref,c=e.props.childFactory(i),s=function(t){e.childRefs[n]=t};c===i&&r&&(s=(0,a.default)(i.ref,s)),t.push(o.default.cloneElement(c,{key:n,ref:s}))}};for(var r in this.state.children)n(r);var c=i({},this.props);return delete c.transitionLeave,delete c.transitionName,delete c.transitionAppear,delete c.transitionEnter,delete c.childFactory,delete c.transitionLeaveTimeout,delete c.transitionEnterTimeout,delete c.transitionAppearTimeout,delete c.component,o.default.createElement(this.props.component,c,t)},t}(o.default.Component);l.displayName="TransitionGroup",l.propTypes={},l.defaultProps={component:"span",childFactory:function(e){return e}},t.default=l,e.exports=t.default},1207:function(e,t,n){"use strict";var i=n(143);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,a.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var a=i(n(1208));e.exports=t.default},1208:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},1209:function(e,t,n){"use strict";function i(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=i(e.className,t):e.setAttribute("class",i(e.className&&e.className.baseVal||"",t))}},1210:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=i,e.exports=t.default},1211:function(e,t,n){"use strict";t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}};a(n(0));var i=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}t.nameShape=i.default.oneOfType([i.default.string,i.default.shape({enter:i.default.string,leave:i.default.string,active:i.default.string}),i.default.shape({enter:i.default.string,enterActive:i.default.string,leave:i.default.string,leaveActive:i.default.string,appear:i.default.string,appearActive:i.default.string})])},1230:function(e,t,n){"use strict";var i=n(15),a=n(16),o=n(17),r=n(18),c=n(9),s=n(1),l=n(0),u=n(26),d=n(49),b=n(77),h=n(3),f=n.n(h),p=n(12),m=n.n(p),v=n(106),O=n.n(v),j=n(35),g=n(206),y=n(36),w=n(157),C=n(872),x=n(889),k=n(917),A=n(159),S=n(425),R=n(415),N=n(903),T=n(1167),B=n(41),E=n(74),I=n(178),q=n(419),z=n(949),M=n(975);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(c.a)(e);if(t){var a=Object(c.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(r.a)(this,n)}}var L=function(e,t){return e&&e.replace(new RegExp(null==t?void 0:t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),(function(e){return"<em>".concat(e,"</em>")}))},D=function(e){Object(o.a)(n,e);var t=P(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={mounted:!1},e.handleInvite=function(){var t=e.props,n=t.user.urlToken,i=t.onInvite;j.a.trackEvent(Object(b.a)(e),{id:3314}),i(n)},e.getContainer=function(){return document.querySelector(".Modal-content .QuestionInvitation-content")},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.contributionsCount,i=e.topic,a=e.isInvited,o=e.keyword,r=e.reason,c=t.name,l=Object.assign(Object.assign({},t),{},{name:Object(s.b)(q.a,{inline:!0,html:L(c,o)})}),u=Object(s.b)(M.a,{user:l,status:r||(n?Object(s.c)("div",{children:["在话题 ",Object(s.b)(z.a,{topic:i})," 下有 ",Object(s.c)(B.Link,{to:"/people/".concat(t.urlToken,"/answers/topic/").concat(i.id),children:[Object(I.formatNumber)(n)," 个回答"]})]}):Object(s.b)(q.a,{html:t.headline})),action:Object(s.b)(E.a,{as:y.c,zaText:!0,zaType:"Button",zaAction:"Invite",color:a?void 0:"blue",disabled:a,onClick:this.handleInvite,children:a?"已邀请":"邀请回答"}),meta:null}),d={module:"UserItem",index:this.props.index,content:{member_hash_id:t.id},view:{id:o?4436:4437},extra:{search:{raw_query:o||""}},trackCardShow:!0};return this.state.mounted?Object(s.b)(R.a,Object.assign(Object.assign({getContainer:this.getContainer},d),{},{children:u})):u}}]),n}(l.Component),Q=n(894),H=n(38);function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(c.a)(e);if(t){var a=Object(c.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(r.a)(this,n)}}var U=function(e){Object(o.a)(n,e);var t=F(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleClick=function(){var t=e.props,n=t.questionId,i=t.closeAutoInvite,a=t.openAutoInvite;return"close"===t.item.status?(j.a.trackEvent(null,{id:3313}),a(n)):i(n)},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props.item,t=void 0===e?{}:e,n=t.avatar,i=t.description,a=t.status,o=t.title,r="close"===a;return Object(s.b)(Q.e,{data:t,image:Object(s.b)(g.a,{size:38,url:n}),title:o,meta:Object(s.b)(Q.d,{children:i}),className:"AutoInviteItem-wrapper--desktop",extra:Object(s.b)(y.c,{preset:"link",className:r?"AutoInviteItem-button--closed":"AutoInviteItem-button--open",onClick:this.handleClick,children:r?"开启邀请":"已开启"})})}}]),n}(l.Component);U.propTypes={questionId:f.a.number.isRequired,item:f.a.object};var V=Object(u.connect)(null,{openAutoInvite:H.V,closeAutoInvite:H.d})(U),_=n(1058);function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(c.a)(e);if(t){var a=Object(c.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(r.a)(this,n)}}var W=function(e){var t=e.user;return Object(s.b)("div",{className:"InviteeItem",children:Object(s.c)("div",{className:"InviteeItem-content",children:[Object(s.b)(g.a,{url:t.avatarUrl,size:32,className:"InviteeItem-image"}),Object(s.b)("h4",{className:"InviteeItem-title",children:t.name})]})})},K=function(e){Object(o.a)(n,e);var t=G(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={expanded:!1,keyword:null},e.onChange=O()((function(t){e.props.onChange(t)}),300),e.handleChange=function(t){var n=t.target.value;e.setState({keyword:n}),n&&e.onChange(n)},e.handleExpand=function(){j.a.trackEvent(Object(b.a)(e),{action:"LoadMore",element:"Button"}),e.setState({expanded:!0})},e.handleInvite=function(t){var n=e.state.keyword;return(0,e.props.onInvite)(t,n)},e}return Object(a.a)(n,[{key:"renderHeader",value:function(){var e=this.props,t=e.invitees,n=(e.expandCount,Object(s.b)(w.a,{className:"QuestionInvitation-input",placeholder:"搜索你想邀请的人",onChange:this.handleChange,after:Object(s.b)(C.a,{size:18,fill:"grey"}),"data-tooltip":"也可以搜索职业、公司等资料","aria-label":"也可以搜索职业、公司等资料","data-tooltip-position":"bottom"})),i=[t.length?Object(s.c)("span",{children:["你已邀请 ",Object(s.b)(A.a,{toggler:Object(s.c)(y.c,{className:"Invitees-toggler",preset:"plain",children:[Object(s.b)("span",{className:"Invitees-togglerUsers",children:t.slice(0,2).map((function(e,t){return Object(s.c)("span",{children:[0===t?"":"、",Object(s.b)("span",{children:e.name})]},t)}))}),t.length>2&&" 等 ".concat(t.length," 人")]}),toggleEvent:"hover",targetClassName:"Invitees-popover",arrowed:!0,children:Object(s.b)("div",{className:"Invitees",children:t.map((function(e){return Object(s.b)(W,{user:e},e.urlToken)}))})})]}):Object(s.b)("h2",{className:"QuestionInvitation-title",children:"你可以邀请下面用户，快速获得回答"}),n],a=Object(d.a)(i,2),o=a[0],r=a[1];return Object(s.b)(_.a,{header:o,options:r})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isFetching,i=t.isDrained,a=t.items,o=t.searchItems,r=t.expandCount,c=t.autoInvitationItem,l=t.question,u=(l=void 0===l?{}:l).id,d=this.state,b=d.expanded,h=d.keyword,f=h?o:a,p=Boolean((void 0===r||r>0)&&!h&&f.length&&c&&c.status),v=p?r-1:r,O=!v||b,j=r?x.d:"div";return Object(s.c)(j,{className:"QuestionInvitation",children:[this.renderHeader(),n?Object(s.b)("div",{className:m()("QuestionInvitation-content","QuestionInvitation-content--centered"),children:Object(s.b)(S.a,{})}):Object(s.c)("div",{className:m()("QuestionInvitation-content",{"QuestionInvitation-content--centered":!f.length}),children:[f.length?Object(s.b)(R.a,{module:"UserList",children:Object(s.c)(k.b,{children:[p&&Object(s.b)(V,{questionId:u,item:c}),(O?f:f.slice(0,v)).map((function(t){return Object(s.b)(k.a,{className:m()({"List-item--mobile":!1}),children:Object(s.b)(D,Object.assign(Object.assign({},t),{},{keyword:h,onInvite:e.handleInvite}))},t.user.urlToken)}))]})}):Object(s.c)(N.k,{children:[Object(s.b)(N.f,{}),Object(s.b)("div",{children:i?"没有可以邀请的人":"没有找到你想邀请的人"})]}),f.length>v&&!O&&Object(s.b)(T.a,{onClick:this.handleExpand,children:"更多推荐结果"})]})]})}}]),n}(l.Component);K.propTypes={expandCount:f.a.number,items:f.a.array,searchItems:f.a.array,onInvite:f.a.func.isRequired};var Z=Object(R.b)({module:"InvitationFrame"})(K),J=n(121);function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(c.a)(e);if(t){var a=Object(c.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(r.a)(this,n)}}var X=function(e){Object(o.a)(n,e);var t=Y(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleChange=function(t){var n=e.props,i=n.question.id;(0,n.loadItems)(i,"invitationCandidates",{keyword:t})},e.handleInvite=function(t,n){e.props.updateInvitation(e.props.question.id,t,n?"search":"normal")},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.question,n=t.id,i=t.status,a=(i=void 0===i?{}:i).isLocked,o=i.isClose,r=i.isEvaluate,c=i.isSuggest,s=e.loadItems,l=e.loadAutoInvitation;e.isDrained||a||o||r||c||(s(n,"invitationCandidates"),s(n,"invitees"),l(n))}},{key:"render",value:function(){var e=this.props.question.status,t=e.isLocked,n=e.isClose,i=e.isEvaluate,a=e.isSuggest;return t||n||i||a?null:Object(s.b)(Z,Object.assign({onChange:this.handleChange,onInvite:this.handleInvite},this.props))}}]),n}(l.Component);t.a=Object(u.connect)((function(e,t){var n=t.question.id,i=e.entities,a=i.users,o=i.topics,r=e.question,c=r.invitationCandidates,s=r.invitees,l=r.autoInvitation,u=function(e){var t=e.member,n=e.isInvited,i=e.topicContributions,r=e.reason,c=i&&i.sort((function(e,t){return t.contributionsCount-e.contributionsCount}))[0]||{},s=c.topic,l=c.contributionsCount;return{user:a[t],topic:o[s],isInvited:n,contributionsCount:l,reason:r}},d=c[n]||{isFetching:!1,isDrained:!1,items:[],searchItems:[]},b=d.isFetching,h=d.isDrained,f=d.items,p=d.searchItems,m=(s[n]||{items:[]}).items;return{isFetching:b,isDrained:h,items:f.map(u),searchItems:p.map(u),invitees:m.map((function(e){return a[e]})),autoInvitationItem:l[n]}}),{loadItems:J.R,updateInvitation:J.mb,loadAutoInvitation:J.G})(X)},1233:function(e,t,n){"use strict";var i=n(1),a=n(0),o=n.n(a),r=n(98),c=Object.assign;var s=function(e){return o.a.createElement(r.a,c({viewBox:"0 0 15 15"},e),o.a.createElement("g",{fill:"#ffab2e",fillRule:"evenodd"},o.a.createElement("path",{d:"M10.925 14.302c.173.13.408.13.58-.002a.514.514 0 00.175-.572l-1.323-4.296 3.435-2.456c.175-.13.25-.36.185-.572a.5.5 0 00-.468-.36H9.275L7.96 1.754c-.064-.21-.21-.354-.46-.354-.14 0-1.027 3.53-.988 6.32.04 2.788.98 3.85.98 3.85l3.433 2.732z"}),o.a.createElement("path",{d:"M7.5 1.4a.47.47 0 00-.474.354l-1.318 4.29H1.49a.499.499 0 00-.467.36.523.523 0 00.185.572l3.42 2.463-1.307 4.286c-.066.21.004.44.176.572.172.13.407.132.58.003l3.42-2.734L7.5 1.4z"})))},l=Object.assign;var u=function(e){return o.a.createElement(r.a,l({width:"15",height:"15",viewBox:"0 0 15 15"},e),o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("path",{fill:"#d7d8d9",d:"M10.925 14.302c.173.13.408.13.58-.002a.514.514 0 00.175-.572l-1.323-4.296 3.435-2.456c.175-.13.25-.36.185-.572a.5.5 0 00-.468-.36H9.275L7.96 1.754c-.064-.21-.21-.354-.46-.354-.14 0-1.027 3.53-.988 6.32.04 2.788.98 3.85.98 3.85l3.433 2.732z"}),o.a.createElement("path",{fill:"#ffab2e",d:"M7.5 1.4a.47.47 0 00-.474.354l-1.318 4.29H1.49a.499.499 0 00-.467.36.523.523 0 00.185.572l3.42 2.463-1.307 4.286c-.066.21.004.44.176.572.172.13.407.132.58.003l3.42-2.734L7.5 1.4z"})))},d=Object.assign;var b=function(e){return o.a.createElement(r.a,d({viewBox:"0 0 15 15"},e),o.a.createElement("g",{fill:"#d7d8d9",fillRule:"evenodd"},o.a.createElement("path",{d:"M10.925 14.302c.173.13.408.13.58-.002a.514.514 0 00.175-.572l-1.323-4.296 3.435-2.456c.175-.13.25-.36.185-.572a.5.5 0 00-.468-.36H9.275L7.96 1.754c-.064-.21-.21-.354-.46-.354-.14 0-1.027 3.53-.988 6.32.04 2.788.98 3.85.98 3.85l3.433 2.732z"}),o.a.createElement("path",{d:"M7.5 1.4a.47.47 0 00-.474.354l-1.318 4.29H1.49a.499.499 0 00-.467.36.523.523 0 00.185.572l3.42 2.463-1.307 4.286c-.066.21.004.44.176.572.172.13.407.132.58.003l3.42-2.734L7.5 1.4z"})))};t.a=function(e){var t=e.score;if(0===t)return null;var n=Math.round(2*t)/2;return Object(i.b)("div",{className:"Rating",children:Array.from({length:5}).map((function(e,t){var a=function(e,t){return t>=e+1?s:t>=e+.5?u:b}(t,n);return Object(i.b)(a,{size:15},t)}))})}},1262:function(e,t,n){"use strict";var i=n(0),a=n.n(i),o=n(27),r=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M9.676 11.252c-.243.433-.542.85-.494 1.237.189 1.509 2.938 1.807 3.746 2.816.59.736.835 1.852.892 3.725.01.303 0 .97-.867.97H1.933c-.915 0-.925-.643-.915-.936.062-1.877.292-3.02.895-3.76.812-.994 3.743-1.267 3.872-2.872.03-.361-.246-.74-.493-1.18C3.917 8.802 3.39 4 7.466 4s3.506 4.941 2.21 7.252zm8.073.79l.002.641c1.57 1.766 4.47 1.307 4.851 3.166.125.61.328 1.538.384 3.232.009.284.014.919-.905.919-.92 0-5.523-.021-6.875-.019 0-2.806-.144-5.987-2.707-6.285.537-.331 1.725-.504 2.178-1.013l.002-.64c-.881.118-2.679-.541-2.679-.541.61-.64.747-1.387 1.192-4.317.355-2.93 2.835-2.903 3.022-2.903.187 0 2.667-.027 3.028 2.903.439 2.93.577 3.677 1.186 4.317 0 0-1.797.659-2.68.54z",fillRule:"evenodd"}))};r.defaultProps={name:"Users"},t.a=r},1266:function(e,t,n){"use strict";var i=n(28),a=n.n(i),o=n(31),r=n.n(o),c=n(39),s=n.n(c),l=n(214),u=n(0),d=n(74),b=n(36),h=n(122),f=n(7),p=["childItems","isMenuToggler","showTogglerIcon"];var m=function(e){return"undefined"!=typeof navigator&&/Mac/i.test(navigator.userAgent)?e.replace(/\+/g,""):e.replace("⌘","Ctrl").replace("⌥","Alt").replace("⇧","Shift")},v=function(e){return{background:e.colors.GBL01A,svg:{fill:e.colors.GBK99B},".togglerIcon":{borderLeftColor:e.colors.GBK99B},color:e.colors.GBK99B}},O=function(e){return{background:e.colors.GBK10A,svg:{fill:e.colors.GBL01A},".togglerIcon":{borderLeftColor:e.colors.GBL01A},color:e.colors.GBL01A}},j=function(e){return{svg:{fill:e.colors.GBL01A},".togglerIcon":{borderLeftColor:e.colors.GBL01A},color:e.colors.GBL01A}},g={name:"5barcq",styles:"width:24px;height:24px;position:relative;border-radius:4px;"},y=Object(u.forwardRef)((function(e,t){var n,i=e.icon,a=e.className,o=e.label,r=e.shortcut,c=e.isActive,u=e.firstLine,h=e.text,p=e.onClick,y=e.isMenuItem,w=void 0!==y&&y,C=e.sectionFirst,x=e.sectionLast,k=e.disabled,A=e.isMenuOpen,S=e.showTogglerIcon,R=e.isMenuToggler,N=e.menuItemText,T=u||!w,B=!u||w,E=!u||w,I=o&&o!==h&&o!==N||r,q=S&&Object(f.g)("div",{className:"togglerIcon",css:function(e){return Object.assign(Object.assign({position:"absolute"},u?{right:"-4px",bottom:"-4px"}:{right:"-1px",bottom:"-1px"}),{},{width:0,height:0,border:"4px solid transparent",borderLeft:"4px solid ".concat(e.colors.GBL05A),transform:"rotate(45deg)"})}});return Object(f.g)(d.a,s()({as:b.c,zaType:"Button",zaText:o,ref:t,preset:b.b.Plain,className:a,disabled:k,css:function(e){return{"&.Button.Button--plain":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},u?w?{padding:"4px 12px"}:{padding:"2px",margin:w?"0":"4px"}:Object.assign({},w?{padding:"10px 16px",textAlign:"left"}:{padding:"6px 16px 6px 12px"})),{},{fontWeight:e.fontWeights.bold,color:e.colors.GBL05A},w&&{width:"100%"}),{},{display:"flex",alignItems:"center"},E&&x&&{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}),E&&C&&{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}),(u||w)&&{borderRadius:"6px"}),c&&j(e)),{},{"&:hover":O(e)},A&&R&&Object.assign(Object.assign({},v(e)),{},{"&:hover":v(e)})),{},{"&:active":v(e)})}},"aria-label":o,"data-tooltip-position":w&&!u?"right":"bottom","data-tooltip-will-hide-on-click":!0},I&&{"data-tooltip":o+(r?" ".concat(m(r)):"")},{onClick:p}),T||u&&q?Object(f.g)("div",{css:g},T&&Object(f.g)(i,{css:function(e){return{color:e.colors.GBL05A}},center:!0}),u&&q):null,B&&Object(f.g)("span",{css:Object(l.a)(Object.assign(Object.assign({},(!w||u)&&{marginLeft:"4px"}),{},{width:"100%"}),"")},w?null!==(n=null!=N?N:h)&&void 0!==n?n:o:null!=h?h:o),!u&&q)}));t.a=function(e){var t=e.childItems,n=e.isMenuToggler,i=e.showTogglerIcon,o=r()(e,p),c=Object(u.useState)(!1),d=a()(c,2),b=d[0],m=d[1];if(n){if(0===t.length)return null;if(1===t.length)return Object(f.g)(y,s()({},o,t[0]));var v=Object(f.g)(y,s()({},o,{isMenuToggler:!0,isMenuOpen:b,showTogglerIcon:i}));return Object(f.g)(h.c,{toggler:v,onOpen:function(){return m(!0)},onClose:function(){return m(!1)},arrowed:!1,menuContainerClassName:"ToolbarV2Menu-container"},Object(f.g)("div",{css:Object(l.a)({display:e.firstLine?"flex":"block"},"")},t.map((function(t){return Object(f.g)(y,s()({key:t.label,isMenuItem:!0,firstLine:e.firstLine},t))}))))}return Object(f.g)(y,e)}},1313:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l}));var i=n(4),a=n(987),o=n(178),r=function(e){return{name:"description",property:"og:description",content:e}},c=function(e,t){var n=[];if(e&&e.content){var i=Object(a.c)(e.content,100);i&&n.push(r(i))}if(t){var o=t.map((function(e){return e.name})).join(",");o&&n.push({name:"keywords",content:o})}return n},s=function(e,t){var n=[];if(e&&e.detail){var o=Object(a.c)(e.detail,100);o&&n.push(r(o))}else t&&t.content&&n.push.apply(n,Object(i.a)(c(t)));if(e.topics){var s=e.topics.map((function(e){return e.name})).join(",");if(s){var l={name:"keywords",content:s};n.push(l)}}return n},l=function(e){if(e){var t=e.headline,n=void 0===t?"":t,i=e.answerCount,a=void 0===i?0:i,c=e.voteupCount,s=void 0===c?0:c,l="".concat(n," 回答数 ").concat(Object(o.formatNumber)(a),"，获得 ").concat(Object(o.formatNumber)(s)," 次赞同");return[r(l)]}return[]}},1314:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(0),a=n.n(i),o=n(98),r=Object.assign;var c=function(e){return a.a.createElement(o.a,r({width:"52",height:"60",fill:"none",viewBox:"0 0 52 60"},e),a.a.createElement("path",{fill:"#121212",d:"M28.052 54.284c-1.881 0-3.76.015-5.638 0a2.041 2.041 0 00-1.36.464 607.935 607.935 0 01-5.391 4.22 4.752 4.752 0 01-.834.539 1.566 1.566 0 01-2.15-1.844c.287-.885.573-1.764.893-2.631.19-.504.184-.716-.46-.816-2.357-.361-4.407-1.312-5.856-3.307a9.136 9.136 0 01-1.526-3.58c-.117-.572-.286-.546-.781-.38-.75.255-.94.681-.722 1.391.05.187.07.38.057.573a1.186 1.186 0 01-.967 1.237 1.146 1.146 0 01-1.395-.707c-.137-.31-.226-.501-.632-.49a1.21 1.21 0 01-1.203-.842c-.226-.555.017-.993.404-1.334.286-.263.286-.427.08-.75a1.229 1.229 0 01.286-1.718 1.175 1.175 0 011.652.243c.352.419.65.413 1.16.272 1.577-.438 2.368-1.305 2.388-3.04.017-1.486.415-2.96.592-4.447.19-1.577-.12-3.132-.309-4.687-.246-2.004-.572-4.008-.89-5.99-.163-1.067.527-1.755 1.589-1.574 1.343.223 1.325.22 1.506-1.146.269-2.027.54-4.051.859-6.07a1.323 1.323 0 00-.627-1.491c-2.374-1.638-3.568-4.052-4.06-6.835-.556-3.083.779-5.463 3.035-7.41C10.008.188 12.73-.199 15.592.082c1.612.138 3.19.556 4.66 1.234a6.373 6.373 0 012.577 2.072c.364.525.773.65 1.366.648 5.234-.02 10.465 0 15.696 0 2.13 0 4.097.495 5.775 1.875 2.448 2.004 3.341 4.644 3.07 7.73a2.295 2.295 0 01-.05.287c-.211 1.145-.252 1.987.86 2.975a5.4 5.4 0 01.463 7.381 16.1 16.1 0 01-2.64 2.694 1.59 1.59 0 00-.658 1.114c-.724 5.225-1.52 10.44-2.176 15.673-.647 5.191-4.089 9.18-9.08 10.307a13.87 13.87 0 01-3.192.238h-4.208l-.003-.026z"}),a.a.createElement("path",{fill:"#FEFEFE",d:"M14.872 57.128c.53-1.552.971-2.9 1.452-4.232.163-.453 0-.53-.4-.533-.86 0-1.719-.023-2.578-.083-1.614-.114-2.949-.839-4.094-1.95a1.63 1.63 0 01-.51-1.325c.055-1.117.075-2.236.075-3.353a.736.736 0 01.59-.83c.615-.178 1.216-.407 1.82-.622.53-.186.77-.572.61-1.114-.171-.572-.644-.638-1.145-.492-.386.109-.767.252-1.145.372-.484.155-.722 0-.71-.535.023-1.068 0-2.139.029-3.21.06-3.533-.396-7.02-.931-10.502-.023-.14-.052-.286-.066-.42-.054-.642.103-.791.727-.636 1.315.32 2.64.604 3.934.999 2.005.613 3.995.438 5.97-.12 2.365-.67 4.558-1.767 6.769-2.812a1.245 1.245 0 00.724-1.145c.086-1.257.192-2.514.286-3.768.058-.733.22-.86.897-.573 1.95.753 3.902 1.5 5.838 2.29.838.349 1.774.38 2.634.09 2.075-.67 4.017-1.695 6.02-2.537.894-.367.923-.367 1.29.55.638 1.586 1.245 3.183 1.923 4.755.23.533.095.833-.317 1.145a45.216 45.216 0 01-5.492 3.57c-1 .556-1.06.682-.859 1.822 1.005 5.483 1.46 11.026 1.867 16.575a1.45 1.45 0 01-.527 1.302c-1.958 1.793-4.263 2.577-6.903 2.577-3.722-.034-7.421 0-11.132 0a1.72 1.72 0 00-1.2.45c-1.723 1.414-3.516 2.78-5.446 4.295z"}),a.a.createElement("path",{fill:"#06F",d:"M38.851 18.987a3.811 3.811 0 00-.048-.438c-.34-1.406.043-2.505 1.23-3.401.702-.53.734-1.111.353-1.684-.38-.573-.936-.687-1.74-.286-.287.146-.359.086-.427-.19a1.897 1.897 0 00-.255-.572 1.123 1.123 0 00-1.369-.49 1.194 1.194 0 00-.83 1.275c.028.253.073.505.135.753-.439-.06-.828-.287-1.26-.104a1.189 1.189 0 00-.81.911 1.042 1.042 0 00.498 1.168c.47.286.962.513 1.457.745a.658.658 0 01.472.624c.03.784.092 1.569.16 2.348a.552.552 0 01-.392.65 3.398 3.398 0 01-2.811.06c-2.274-.96-4.581-1.821-6.892-2.712-1.165-.452-1.844-.034-1.955 1.206-.138 1.514-.287 3.029-.375 4.55a.97.97 0 01-.613.936c-2.156.996-4.312 2.004-6.671 2.436a7.73 7.73 0 01-3.25-.071c-.902-.212-1.792-.479-2.697-.668-.432-.088-.527-.286-.47-.681.338-2.306.664-4.612.977-6.918.051-.386.22-.5.572-.403a2.817 2.817 0 001.55-.029c.59-.157.981.055 1.394.438a9.752 9.752 0 003.85 2.22c.994.285 1.492-.133 1.298-1.146-.172-.885-.315-1.778-.533-2.654a1.199 1.199 0 01.4-1.312 21.19 21.19 0 003.31-4.008c.986-1.526 1.518-3.17 1.146-5.005-.1-.5.074-.607.541-.607 5.016.014 10.036 0 15.052.014 2.05 0 3.89.573 5.322 2.14 1.55 1.703 1.781 3.721 1.604 5.926-.115 1.412-.627 2.15-2.079 2.577-1.786.521-3.453 1.451-5.17 2.204a1.43 1.43 0 01-.674.198z"}),a.a.createElement("path",{fill:"#FEFEFE",d:"M17.928 18.369c-1.045-.361-1.773-1.045-2.506-1.718-.38-.35-.821-.573-1.354-.47-2.256.484-3.862-.704-5.28-2.167-1.775-1.835-2.64-4.112-2.27-6.646.395-2.7 3.238-5.193 5.987-5.471 2.206-.249 4.44.04 6.51.842 3.396 1.328 4.53 4.612 2.65 7.73a18.546 18.546 0 01-3.723 4.387 1.19 1.19 0 00-.441 1.371c.183.673.278 1.377.427 2.142z"}),a.a.createElement("path",{fill:"#06F",d:"M42.013 45.892a154.544 154.544 0 00-.917-9.388 72.47 72.47 0 00-.632-4.157.701.701 0 01.389-.86c1.01-.623 2.004-1.273 3.012-1.906.175-.109.355-.355.555-.238.2.118.106.433.078.653a1194.67 1194.67 0 01-.825 5.927c-.435 3.008-.877 6.017-1.326 9.027a1.65 1.65 0 01-.334.942z"}),a.a.createElement("path",{fill:"#B7B7B6",d:"M45.351 20.628c-.286-.287-.424-.47-.364-.719 0-.037.155-.089.166-.074.159.232.229.513.198.793z"}),a.a.createElement("path",{fill:"#121212",d:"M25.105 32.77c.029 1.146-.587 1.776-1.718 1.801-1.13.026-1.958-.738-1.966-1.872-.01-1.134.835-1.835 2.164-1.855 1.08-.015 1.477.503 1.52 1.926z"}),a.a.createElement("path",{fill:"#444",d:"M14.326 6.69c.206-.165.42-.318.644-.458a.965.965 0 011.414.352c.454.783.784 1.63.98 2.514.12.455-.212.518-.516.59-.303.071-.627.134-.722-.318-.111-.533-.206-1.074-.369-1.595-.094-.306-.157-.787-.676-.621-.475.149-.572.498-.372.962.22.527.375 1.076.59 1.603.26.641-.24.747-.621.873s-.9.407-1.117-.286a39.818 39.818 0 01-1.076-4.28c-.118-.573.312-.665.701-.782.39-.117.69-.054.807.418.086.346.09.719.333 1.028zm-3.207 4.217l1.145-.426c.23-.08.427-.058.53.197a.384.384 0 01-.057.452.385.385 0 01-.132.092c-.83.41-1.704.722-2.606.93-.535.113-.81-.285-.63-.858.264-.836.573-1.655.88-2.508-.398-.092-.74.114-1.094.2-.223.054-.43.089-.544-.172a.425.425 0 01.215-.601 5.775 5.775 0 012.56-.504c.497.023.66.407.506.885-.235.71-.478 1.426-.773 2.313zm7.753-1.852c-.346.051-.55-.115-.658-.467-.18-.573-.287-1.145-.427-1.718-.183-.716.25-.887.75-1.034.553-.163.684.255.822.645.137.39.303.859.452 1.271.301.845-.003 1.277-.939 1.303z"}),a.a.createElement("path",{fill:"#4A4B4A",d:"M18.045 3.666a.925.925 0 01.899.925.873.873 0 01-.934.893.86.86 0 01-.89-.901c.034-.582.39-.848.925-.917z"}))}},1341:function(e,t,n){"use strict";var i=n(49),a=n(0),o=n(106),r=n.n(o),c="function"==typeof ResizeObserver?function(e,t){var n=new ResizeObserver((function(e){return t(e[0].contentRect)}));return n.observe(e),function(){n.disconnect()}}:function(e,t){var n,i=function(){var i=e.getBoundingClientRect();!(n&&["left","top","width","height"].every((function(e){return n[e]===i[e]})))&&(n=i,t(i))},a=new(window.MutationObserver||window.WebKitMutationObserver)(r()(i,100));return a.observe(e,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),i(),function(){a.disconnect()}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(a.useState)(e),n=Object(i.a)(t,2),o=n[0],r=n[1],s=Object(a.useState)(),l=Object(i.a)(s,2),u=l[0],d=l[1];return Object(a.useEffect)((function(){if(u)return c(u,r)}),[u]),[d,o]}},1388:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(31),a=n.n(i),o=(n(0),n(1266)),r=n(7),c=["toolbarButton"];function s(e){var t=e.toolbarButton,n=void 0===t?o.a:t,i=a()(e,c);return Object(r.g)("div",null,Object(r.g)(n,i))}},1389:function(e,t,n){"use strict";var i=n(39),a=n.n(i),o=(n(0),n(2771)),r=n(326),c=n(7);t.a=function(e){var t=e.toolbarButton,n=void 0===t?r.a:t;return Object(c.g)("div",null,Object(c.g)(n,a()({label:e.isActive?"删除目录":"添加目录",shortcut:"⌘+⇧+0",icon:o.a},e)))}},1390:function(e,t,n){"use strict";var i=n(0),a=n.n(i),o=n(27),r=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M12 2a10 10 0 1 0 0 20c5.523 0 10-4.477 10-10S17.523 2 12 2zm2.081 15.497c-.407.163-.818.318-1.231.464a3.224 3.224 0 0 1-1.069.161c-.624 0-1.107-.15-1.452-.457a1.471 1.471 0 0 1-.518-1.156c0-.183.013-.369.038-.559.026-.187.068-.402.125-.642l.644-2.276c.054-.205.102-.412.145-.618.037-.177.056-.356.057-.536 0-.29-.06-.493-.179-.607-.121-.115-.35-.171-.687-.171a1.814 1.814 0 0 0-.513.076 7.067 7.067 0 0 0-.45.15l.171-.702c.398-.163.8-.31 1.21-.441.387-.123.75-.184 1.093-.184.619 0 1.096.15 1.432.45.334.297.503.686.503 1.163 0 .1-.012.274-.035.523-.02.232-.062.462-.13.686l-.64 2.268a7.016 7.016 0 0 0-.143.622 3.374 3.374 0 0 0-.06.53c0 .303.068.508.202.617.135.108.369.164.701.164.156 0 .331-.027.53-.08.198-.056.337-.103.427-.144l-.17.7zM13.97 8.29c-.292.275-.68.424-1.08.416a1.55 1.55 0 0 1-1.085-.416 1.331 1.331 0 0 1-.45-1.011c0-.393.15-.733.45-1.013.302-.281.665-.42 1.085-.42.421 0 .781.139 1.08.42.298.28.447.62.447 1.013 0 .396-.15.732-.447 1.011z",fillRule:"evenodd"}))};r.defaultProps={name:"Info"},t.a=r},1430:function(e,t,n){"use strict";var i=o(n(1431)),a=o(n(1206));function o(e){return e&&e.__esModule?e:{default:e}}e.exports={TransitionGroup:a.default,CSSTransitionGroup:i.default}},1431:function(e,t,n){"use strict";t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=l(n(0)),o=l(n(3)),r=l(n(1206)),c=l(n(1435)),s=n(1211);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}s.nameShape.isRequired,o.default.bool,o.default.bool,o.default.bool,(0,s.transitionTimeout)("Appear"),(0,s.transitionTimeout)("Enter"),(0,s.transitionTimeout)("Leave");var b=function(e){function t(){var n,i;u(this,t);for(var o=arguments.length,r=Array(o),s=0;s<o;s++)r[s]=arguments[s];return n=i=d(this,e.call.apply(e,[this].concat(r))),i._wrapChild=function(e){return a.default.createElement(c.default,{name:i.props.transitionName,appear:i.props.transitionAppear,enter:i.props.transitionEnter,leave:i.props.transitionLeave,appearTimeout:i.props.transitionAppearTimeout,enterTimeout:i.props.transitionEnterTimeout,leaveTimeout:i.props.transitionLeaveTimeout},e)},d(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a.default.createElement(r.default,i({},this.props,{childFactory:this._wrapChild}))},t}(a.default.Component);b.displayName="CSSTransitionGroup",b.propTypes={},b.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},t.default=b,e.exports=t.default},1432:function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter((function(e){return null!=e}))).length)return 1===t.length?t[0]:t.reduce((function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}))}},1433:function(e,t,n){e.exports=n(67)(28)},1434:function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=function(e){if(!e)return e;var t={};return i.Children.map(e,(function(e){return e})).forEach((function(e){t[e.key]=e})),t},t.mergeChildMappings=function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var i={},a=[];for(var o in e)t.hasOwnProperty(o)?a.length&&(i[o]=a,a=[]):a.push(o);var r=void 0,c={};for(var s in t){if(i.hasOwnProperty(s))for(r=0;r<i[s].length;r++){var l=i[s][r];c[i[s][r]]=n(l)}c[s]=n(s)}for(r=0;r<a.length;r++)c[a[r]]=n(a[r]);return c};var i=n(0)},1435:function(e,t,n){"use strict";t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=b(n(1207)),o=b(n(1209)),r=b(n(1436)),c=n(1437),s=b(n(0)),l=b(n(3)),u=n(47),d=n(1211);function b(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=[];c.transitionEnd&&p.push(c.transitionEnd),c.animationEnd&&p.push(c.animationEnd);l.default.node,d.nameShape.isRequired,l.default.bool,l.default.bool,l.default.bool,l.default.number,l.default.number,l.default.number;var m=function(e){function t(){var n,i;h(this,t);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=i=f(this,e.call.apply(e,[this].concat(o))),i.componentWillAppear=function(e){i.props.appear?i.transition("appear",e,i.props.appearTimeout):e()},i.componentWillEnter=function(e){i.props.enter?i.transition("enter",e,i.props.enterTimeout):e()},i.componentWillLeave=function(e){i.props.leave?i.transition("leave",e,i.props.leaveTimeout):e()},f(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach((function(e){clearTimeout(e)})),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var i=(0,u.findDOMNode)(this);if(i){var r=this.props.name[e]||this.props.name+"-"+e,s=this.props.name[e+"Active"]||r+"-active",l=null,d=void 0;(0,a.default)(i,r),this.queueClassAndNode(s,i);var b=function(e){e&&e.target!==i||(clearTimeout(l),d&&d(),(0,o.default)(i,r),(0,o.default)(i,s),d&&d(),t&&t())};n?(l=setTimeout(b,n),this.transitionTimeouts.push(l)):c.transitionEnd&&(d=function(e,t){return p.length?p.forEach((function(n){return e.addEventListener(n,t,!1)})):setTimeout(t,0),function(){p.length&&p.forEach((function(n){return e.removeEventListener(n,t,!1)}))}}(i,b))}else t&&t()},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,r.default)((function(){return n.flushClassNameAndNodeQueue()})))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach((function(e){e.node.scrollTop,(0,a.default)(e.node,e.className)})),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=i({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,s.default.cloneElement(s.default.Children.only(this.props.children),e)},t}(s.default.Component);m.displayName="CSSTransitionGroupChild",m.propTypes={},t.default=m,e.exports=t.default},1436:function(e,t,n){"use strict";var i=n(143);t.__esModule=!0,t.default=void 0;var a,o=i(n(1210)),r="clearTimeout",c=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-l)),i=setTimeout(e,n);return l=t,i},s=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};o.default&&["","webkit","moz","o","ms"].some((function(e){var t=s(e,"request");if(t in window)return r=s(e,"cancel"),c=function(e){return window[t](e)}}));var l=(new Date).getTime();(a=function(e){return c(e)}).cancel=function(e){window[r]&&"function"==typeof window[r]&&window[r](e)};var u=a;t.default=u,e.exports=t.default},1437:function(e,t,n){"use strict";var i=n(143);t.__esModule=!0,t.default=t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var a,o,r,c,s,l,u,d,b,h,f,p=i(n(1210)),m="transform";if(t.transform=m,t.animationEnd=r,t.transitionEnd=o,t.transitionDelay=u,t.transitionTiming=l,t.transitionDuration=s,t.transitionProperty=c,t.animationDelay=f,t.animationTiming=h,t.animationDuration=b,t.animationName=d,p.default){var v=function(){for(var e,t,n=document.createElement("div").style,i={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},a=Object.keys(i),o="",r=0;r<a.length;r++){var c=a[r];if(c+"TransitionProperty"in n){o="-"+c.toLowerCase(),e=i[c]("TransitionEnd"),t=i[c]("AnimationEnd");break}}!e&&"transitionProperty"in n&&(e="transitionend");!t&&"animationName"in n&&(t="animationend");return n=null,{animationEnd:t,transitionEnd:e,prefix:o}}();a=v.prefix,t.transitionEnd=o=v.transitionEnd,t.animationEnd=r=v.animationEnd,t.transform=m=a+"-"+m,t.transitionProperty=c=a+"-transition-property",t.transitionDuration=s=a+"-transition-duration",t.transitionDelay=u=a+"-transition-delay",t.transitionTiming=l=a+"-transition-timing-function",t.animationName=d=a+"-animation-name",t.animationDuration=b=a+"-animation-duration",t.animationTiming=h=a+"-animation-delay",t.animationDelay=f=a+"-animation-timing-function"}var O={transform:m,end:o,property:c,timing:l,delay:u,duration:s};t.default=O},1440:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(1),a=n(74),o=n(1314),r=function(e){var t=e.title,n=void 0===t?"快速登录，查看完整内容":t,r=e.zaBlock,c=void 0===r?"LoginPopupWithHeader":r;return Object(i.b)(a.e,{zaType:"Popup",zaText:n,zaBlock:c,children:Object(i.b)("div",{css:{background:"#EDF4FF",height:"50px"},children:Object(i.c)("div",{css:{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:"50%",transform:"translateX(-50%)",height:"50px"},children:[Object(i.b)(o.a,{css:{marginRight:"16px",width:"51px",position:"relative",top:"-11px"}}),Object(i.b)("div",{css:{fontSize:"16px",fontWeight:"bold",textAlign:"center"},children:n})]})})})}},1483:function(e,t,n){"use strict";n.d(t,"a",(function(){return ke}));var i=n(1),a=n(180),o=n(457),r=n(2),c=n(49),s=n(0),l=n(3),u=n.n(l),d=n(26),b=n(36),h=n(86),f=n(46),p=n(121),m=n(29),v=n(442),O=[{value:"标点或格式错误",text:"标点或格式错误"},{value:"不构成提问",text:"不构成提问"},{value:"包含主观判断",text:"包含主观判断"},{value:"缺乏可信来源",text:"缺乏可信来源"},{value:"other",text:"其他"}],j=[{title:"为什么修改问题？",subtitle:"请选择修改理由"},{title:"修改问题",subtitle:"描述精确的问题更易得到解答"},{title:"其他",subtitle:"请对你的举报补充说明"}],g=u.a.shape({level:u.a.oneOf(["error","warning"]),text:u.a.string}),y=n(437),w=n.n(y),C="form.setInput",x="form.setState",k="form.setErrors",A="ui.setState",S="reset",R={step:0,title:"",detail:{toHTML:function(){return""}},topics:[],reason:O[0].value,otherReason:"",onceChanged:!1,videoQuestionConfirmShown:!1,videoQuestionConfirmAllowContinue:!1,videoQuestionConfirmTitle:"",videoQuestionConfirmText:"",uploadModalShown:!1,errors:{title:null,detail:null,reason:null,topics:null}};function N(e,t){var n=t.type,i=t.payload;switch(n){case C:var a,o=Object(c.a)(i,2),s=o[0],l=o[1];return Object.assign(Object.assign({},e),{},(a={},Object(r.a)(a,s,l),Object(r.a)(a,"onceChanged",function(e,t){var n=Object(c.a)(t,2),i=n[0],a=n[1];if(e.onceChanged)return!0;var o=e[i];return"reason"===i?1===e.step&&e.reason===a:"topics"===i?!w()(a,o):o!==a}(e,i)),a));case x:return Object.assign(Object.assign({},e),i);case k:return Object.assign(Object.assign({},e),{},{errors:Object.assign(Object.assign({},e.errors),i)});case A:var u=Object(c.a)(i,2),d=u[0],b=u[1];return Object.assign(Object.assign({},e),{},Object(r.a)({},d,b));case S:return Object.assign({},R);default:return e}}var T=function(e,t){var n=Object(s.useRef)();Object(s.useEffect)((function(){n.current=t}));var i=Object(s.useState)(e),a=Object(c.a)(i,2),o=a[0],r=a[1];return Object(s.useEffect)((function(){e!==o&&(n.current([e,o]),r(e))}),[e,o]),null},B=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.errors;if(!t||"title"===t){var a=e.title,o=null;0!==a.length||n?a.length>51?o={level:"error",text:"问题标题超出 ".concat(a.length-51," 个字")}:a.length>0&&a.length<3?o={level:"error",text:"问题字数太少了吧"}:a.length>0&&-1===a.indexOf("?")&&-1===a.indexOf("？")?o={level:"error",text:"你还没有给问题添加问号"}:(a.match(/(\?|？)/g)||[]).length>1&&(o={level:"warning",text:"多个问题建议拆分"}):o={level:"error",text:"问题标题不能为空"},i=Object.assign(Object.assign({},i),{},{title:o})}if(!t||"reason"===t){var r=e.reason,c=e.otherReason,s=null;r&&("other"!==r||c)||(s={level:"error",text:r?"必填":"必选"}),i=Object.assign(Object.assign({},i),{},{reason:s})}if((!t||"topics"===t)&&e.topics){var l=e.topics,u=null;0!==l.length||n||(u={level:"error",text:"至少添加一个话题"}),i=Object.assign(Object.assign({},i),{},{topics:u})}return i},E=n(888),I=n(83),q=function(e){var t=e.onSelect,n=Object(I.f)();return Object(i.b)("div",{children:O.map((function(e){return Object(i.c)("div",{css:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",lineHeight:"48px",boxShadow:"inset 0 -1px 0 0 ".concat(n.colors.GBK10A),"&:last-child":{marginBottom:"16px"}},role:"button",tabIndex:0,onClick:function(){return t(e.value)},children:[e.text,Object(i.b)(E.a,{css:{fill:n.colors.GBL05A}})]},e.value)}))})};q.propTypes={onSelect:u.a.func.isRequired};var z=q,M=function(e){var t=e.title,n=e.text,a=e.shown,o=e.allowConfirm,r=void 0===o||o,c=e.onSubmit,s=e.onClose,l=e.buttonText,u=void 0===l?{}:l;return Object(i.b)(h.b,{title:t,onClose:s,children:a&&Object(i.c)("div",{color:"GBK03A",css:{margin:"50px 16px 0",fontSize:"20px",textAlign:"center"},children:[n,Object(i.c)(h.a,{children:[r&&Object(i.b)(b.c,{preset:"primary",color:"blue",onClick:c,children:u.ok||"确认"}),Object(i.b)(b.c,{onClick:s,children:u.cancel||"取消"})]})]})})};M.propTypes={title:u.a.string,text:u.a.string,shown:u.a.bool,allowConfirm:u.a.bool,onSubmit:u.a.func.isRequired,onClose:u.a.func.isRequired,buttonText:u.a.shape({ok:u.a.string,cancel:u.a.string})};var P=M,L=n(61),D=n(157),Q=n(33),H=["children","css"],F=["children","css"],U=["children","css"],V=["before","after","headerLabel","headerRight","children"],_=function(e){var t=e.children,n=e.css,a=Object(Q.default)(e,H);return Object(i.b)(L.Flex,Object.assign(Object.assign({alignItems:"center",mb:"8px",color:"GBL05A",css:n},a),{},{children:t}))},G=function(e){var t=e.children,n=e.css,a=Object(Q.default)(e,F);return Object(i.b)(L.Box,Object.assign(Object.assign({ml:"auto",css:n},a),{},{children:t}))},W=function(e){var t=e.children,n=e.css,a=Object(Q.default)(e,U);return Object(i.b)(L.Text,Object.assign(Object.assign({as:"span",color:"GBK03A",css:n},a),{},{children:t}))},K=function(e){var t=e.before,n=e.after,a=e.headerLabel,o=e.headerRight,r=e.children,c=Object(Q.default)(e,V),s=a||o;return Object(i.c)(L.Box,Object.assign(Object.assign({mb:"12px",css:{"& .Popover":{display:"block"},"& .TagInput":{lineHeight:0}}},c),{},{children:[t,s&&Object(i.c)(_,{children:[a&&Object(i.b)(W,{children:a}),o&&Object(i.b)(G,{children:o})]}),r,n]}))};K.Header=_,K.HeaderLabel=W,K.HeaderRight=G;var Z=K,J=["children","level"],Y={warning:"GYL01A",error:"GRD03A"},X=function(e){var t=e.children,n=e.level,a=Object(Q.default)(e,J);return Object(i.b)(L.Text,Object.assign(Object.assign({as:"span",color:Y[n]},a),{},{children:t}))},$=function(e){return Object(i.b)(o.a,{message:"一个未知的错误信息 ".concat(typeof e.children),children:Object(i.b)(X,Object.assign({},e))})},ee=X,te=function(e){var t=e.onInputRef,n=e.title,a=e.onChange,o=e.onBlur,r=e.titleError,l=e.before,u=e.after,d=Object(s.useState)(!1),b=Object(c.a)(d,2),h=b[0],f=b[1],p=null;if(h){var m=51-n.length;m>=0?m<10&&(p="还可以输入 ".concat(m," 个字")):p=Object(i.c)(ee,{level:"error",children:["问题标题超出 ",-m," 个字"]})}else r&&(p=Object(i.b)(ee,{level:r.level,children:r.text}));var v=Object(s.useCallback)((function(e){f(!0),a&&a(e)}),[a]),O=Object(s.useCallback)((function(e){f(!1),o&&o(e)}),[o]),j=Object(s.useRef)();return Object(s.useEffect)((function(){setTimeout((function(){var e;return null===(e=j.current)||void 0===e?void 0:e.focus()}),60)}),[]),Object(i.c)(i.a,{children:[Object(i.b)(Z,{children:Object(i.c)(L.Flex,{children:[l,Object(i.b)(D.a,{css:{border:"0 none",fontSize:"15px"},onRef:function(e){j.current=e,t(e)},required:!0,multiline:!0,spread:!0,large:!0,rows:2,placeholder:"问题标题",value:n,onChange:v,onBlur:O}),u]})}),p&&Object(i.b)(Z,{headerRight:p})]})};te.propTypes={onInputRef:u.a.func,title:u.a.string,titleError:g,onChange:u.a.func,onBlur:u.a.func};var ne=te,ie=n(884),ae=n(885),oe=n(886),re=n(289),ce=n(449),se=n(463),le=function(e){var t=e.onEditableRef,n=e.defaultValue,a=e.onChange,o=e.detailError,r=e.isAnonymous,l=Object(d.useDispatch)(),u=Object(s.useCallback)((function(){return l(m.h.apply(void 0,arguments))}),[l]),b=Object(s.useRef)(),h=Object(s.useState)(!1),f=Object(c.a)(h,2),p=f[0],v=f[1],O=Object(s.useCallback)((function(){b.current&&b.current.handleKeyCommand("insert-image")}),[]),j=Object(s.useCallback)((function(){b.current&&b.current.handleKeyCommand("insert-video")}),[]),g=Object(s.useCallback)((function(e,t){Object(ce.b)(e,t,u,m.c)}),[u]),y=Object(s.useCallback)((function(e,t){switch(t){case"video":g("video-upload-error");break;case"image":g("image-upload-error",e)}}),[g]);return Object(i.c)(i.a,{children:[Object(i.b)(Z,{mb:"16px",headerLabel:"问题描述（可选）：",headerRight:Object(i.c)(i.a,{children:[Object(i.b)(re.a,{label:"".concat(p?"收起":"展开","工具栏"),isActive:p,icon:ie.a,onClick:function(){return v(!p)}}),Object(i.b)(re.a,{label:"插入图片",icon:ae.a,onClick:O}),Object(i.b)(re.a,{label:"上传视频",icon:oe.a,onClick:j})]}),marginTop:"24px",children:Object(i.b)(se.a,{ref:function(e){b.current=e,t&&t(e)},allowDragAndDrop:!0,allowLinkCard:!0,minRows:2,allowToolbar:p,allowVideoTitleChange:!0,allowHeaderThree:!1,placeholder:"问题背景、条件等详细信息",defaultValue:n,onError:g,onUploadError:y,onChange:a,onBeforeVideoUpload:function(){return!r},editingContentType:"question"})}),o&&Object(i.b)(Z,{headerRight:Object(i.b)(ee,{level:o.level,children:o.text})})]})};le.propTypes={onEditableRef:u.a.func,defaultValue:u.a.string,detailError:g,onChange:u.a.func.isRequired,isAnonymous:u.a.bool};var ue=le,de=n(466),be=n(475),he=function(e){var t=e.topic;return Object(i.b)(de.a,{css:{marginRight:"8px"},children:Object(i.b)("a",{target:"_blank",rel:"noopener noreferrer",href:"//www.zhihu.com/topic/".concat(t.id||t.urlToken),children:t.name})})};function fe(e){var t=e.topics,n=void 0===t?[]:t,a=e.onChange,o=e.permitEditTopics,r=Object(s.useState)(null),l=Object(c.a)(r,2),u=l[0],d=l[1],b=Object(s.useState)(n),h=Object(c.a)(b,2),f=h[0],p=h[1],m=Object(s.useState)(!1),v=Object(c.a)(m,2),O=v[0],j=v[1],g=Object(s.useCallback)((function(e){var t;p(e);var n=null===(t=B({topics:e},"topics"))||void 0===t?void 0:t.topics;d(n),a&&a(e,n)}),[a]);return Object(i.c)(Z,{mb:"24px",children:[u&&Object(i.b)(ee,{as:"div",level:u.level,children:u.text}),o?Object(i.b)(be.a,{actived:O,value:f,onChange:g,onToggleActived:function(){return j(!O)}}):f.map((function(e){return Object(i.b)(he,{topic:e},e.name)}))]})}fe.propTypes={topics:u.a.arrayOf(u.a.object),onChange:u.a.func,permitEditTopics:u.a.bool};var pe=fe,me=n(41),ve=n(210),Oe=function(e){var t=e.onInputRef,n=e.questionType,a=e.reason,o=e.otherReason,r=e.onReasonChange,c=e.onInputChange,s=e.reasonError,l=Object(I.f)(),u=Boolean(!a&&s),d=Boolean("other"===a&&!o&&s);return Object(i.b)("div",{className:"EditQuestionReasonInput",children:Object(i.b)(Z,{mb:"0",before:Object(i.c)(Z.Header,{mb:"0",children:[Object(i.b)(ve.b,{css:{marginRight:"8px"},needsReposition:!0,plain:!0,text:a?null:"请选择一个修改理由",value:a,onChange:r,children:O.map((function(e){return Object(i.b)(ve.a,{value:e.value,text:e.text},e.value)}))}),u&&Object(i.b)(ee,{level:s.level,children:s.text}),!["org","commercial"].includes(n)&&Object(i.b)(Z.HeaderRight,{children:Object(i.b)(me.Link,{className:"EditQuestion-whyEdit",target:"blank",to:"/question/19550238/answer/95068125",children:"为什么问题可以被公共编辑？"})})]}),children:"other"===a&&Object(i.b)(L.Box,{css:d&&{"& input::placeholder":{color:l.colors.GRD03A}},children:Object(i.b)(D.a,{onRef:t,spread:!0,large:!0,value:o,placeholder:"请输入修改理由（必填）",onChange:c})})})})};Oe.propTypes={onInputRef:u.a.func,questionType:u.a.string.isRequired,reason:u.a.string,otherReason:u.a.string,reasonError:g,onReasonChange:u.a.func,onInputChange:u.a.func};var je=Oe;function ge(e){if(!e)return"提交修改时发生未知错误";if("string"==typeof e)return e;var t=e.status,n=e.message,i=e.name;return n?Object(ce.c)(n)?"提交修改时发生网络请求错误":n.startsWith("request http")?"提交修改时发生错误".concat(t?"："+t:""):"提交修改时发生错误：".concat(n):"提交修改时发生错误：".concat(i||"Unknown")}function ye(e){var t=e.onSuccess,n=e.onFailure,i=Object(d.useSelector)((function(e){var t=e.notification;return t[m.c]||t.updateQuestion}));return Object(s.useEffect)((function(){if(i){var e=i.id,a=i.code,o=i.text;e?t(e):n(function(e,t){switch(e){case 103003:return["title",{level:"error",text:"已经存在的问题"}];case 103001:return["detail",{level:"error",text:"过长的补充说明"}];default:return["overall",{text:ge(t)}]}}(a,o))}}),[i]),null}ye.propTypes={onSuccess:u.a.func.isRequired,onFailure:u.a.func.isRequired};var we=function(e){return["title","reason","topics"].find((function(t){var n;return"error"===(null===(n=e[t])||void 0===n?void 0:n.level)}))};function Ce(e){var t=e.onClose,n=e.show,a=e.id,o=e.title,l=e.detail,u=e.topics,O=e.questionType,g=e.isAnonymous,y=e.brand,w=e.permitEditTopics,E=Object(d.useSelector)(f.b),I=Object(d.useDispatch)(),q=Object(s.useCallback)((function(){return I(m.h.apply(void 0,arguments))}),[I]),M=Object(s.useRef)({titleInput:null,editable:null,reasonInput:null}),L=function(e){var t;if("title"===e)null===(t=M.current.titleInput)||void 0===t||t.focus();else if("reason"===e){var n;null===(n=M.current.reasonInput)||void 0===n||n.focus()}},D=Object(s.useReducer)(N,Object.assign(Object.assign({},R),{},{title:o,detail:l,topics:u})),Q=Object(c.a)(D,2),H=Q[0],F=Q[1],U=H.step,V=H.title,_=H.reason,G=H.otherReason,W=H.onceChanged,K=H.uploadModalShown,Z=H.videoQuestionConfirmShown,J=H.videoQuestionConfirmAllowContinue,Y=H.videoQuestionConfirmTitle,X=H.videoQuestionConfirmText,ee=H.errors,te=ee.title,ie=ee.detail,ae=ee.reason,oe=ee.overall;T(n,(function(e){Object(c.a)(e,1)[0]&&F({type:x,payload:{title:o,detail:{toHTML:function(){return l}},topics:u,onceChanged:!1}})}));var re=Object(s.useCallback)((function(){F({type:S}),q("问题修改成功！"),t()}),[q,t]),ce=Object(s.useCallback)((function(e){var t=Object(c.a)(e,2),n=t[0],i=t[1];F({type:k,payload:Object(r.a)({},n,i)}),L(n)}),[]),se=Object(s.useMemo)((function(){return we(ee)}),[ee]),le=Object(s.useCallback)((function(e){var t=e.target.value;F({type:C,payload:["title",t]})}),[]),de=Object(s.useCallback)((function(){F({type:k,payload:B({title:V},"title")})}),[V]),be=Object(s.useCallback)((function(e){F({type:C,payload:["detail",e]})}),[]),he=Object(s.useCallback)((function(e,t){F({type:C,payload:["topics",e]}),F({type:k,payload:{topics:t}})}),[]),fe=Object(s.useCallback)((function(e){F({type:x,payload:{reason:e,step:1}}),"other"===e&&setTimeout((function(){return L("reason")}))}),[]),me=Object(s.useCallback)((function(e){var t=e.target.value;F({type:C,payload:["otherReason",t]}),"reason"===se&&t&&F({type:k,payload:{reason:null}})}),[se]),ve=Object(s.useCallback)((function(){var e;null!==(e=M.current.editable)&&void 0!==e&&e.hasVideo("upload")?F({type:A,payload:["uploadModalShown",!0]}):t()}),[t]),Oe=function(){var e=H.title,t=H.detail,n=H.topics,i=H.reason,o=H.otherReason,r={question:{title:e},meta:{reason:"other"===i?o:i}},c=t.toHTML();c!==l&&(r.question.detail=c),n!==u&&(r.question.topicUrlTokens=n.map((function(e){return e.urlToken||e.id}))),Object.keys(r.question).length>0&&I(Object(p.ob)(a,r))},ge=function(){F({type:A,payload:["videoQuestionConfirmShown",!1]})},Ce=function(){F({type:A,payload:["uploadModalShown",!1]})},xe=Object(s.useCallback)((function(){Ce(),t()}),[t]),ke=Boolean(!W||se),Ae=0===U,Se=Ae?j[0]:{css:{width:"595px","& .Modal-content":{paddingBottom:oe?0:"32px"}}};return Object(i.c)(i.a,{children:[Object(i.b)(ye,{onSuccess:re,onFailure:ce}),Object(i.b)(h.b,Object.assign(Object.assign({footer:oe&&Object(i.b)($,{level:"error",children:oe.text}),onClose:ve,hotKeyClosable:!1,maskClosable:!1},Se),{},{children:n&&(Ae?Object(i.b)(z,{onSelect:fe}):Object(i.c)("div",{className:"QuestionAsk",children:[Object(i.b)(P,{title:Y,text:X,shown:Z,allowConfirm:J,onSubmit:function(){ge(),Oe()},onClose:ge,buttonText:{ok:"发布",cancel:"继续编辑"}}),Object(i.b)(P,{text:"关闭弹窗将丢失上传中的视频内容",shown:K,onSubmit:xe,onClose:Ce}),Object(i.c)("form",{onSubmit:function(e){return e.preventDefault()},noValidate:!0,children:[Object(i.b)(ne,{onInputRef:function(e){return M.current.titleInput=e},title:V,onChange:le,onBlur:de,titleError:te,before:Object(i.b)(v.a,{isAnonymous:g,questionType:O,brand:y,css:{flexShrink:0,marginTop:"3px",marginRight:"16px"}})}),Object(i.b)(ue,{onEditableRef:function(e){return M.current.editable=e},defaultValue:l,onChange:be,detailError:ie,isAnonymous:g}),Object(i.b)(pe,{topics:u,onChange:he,permitEditTopics:w}),Object(i.b)(je,{onInputRef:function(e){return M.current.reasonInput=e},questionType:O,reason:_,otherReason:G,reasonError:ae,onReasonChange:fe,onInputChange:me}),Object(i.b)(h.a,{css:{marginTop:oe?"16px":"25px"},children:Object(i.b)(b.c,{preset:"primary",color:"blue",disabled:ke,onClick:function(){var e=B(H);F({type:k,payload:e});var t=we(e);if(t)L(t);else{var n=M.current.editable;if(!function(e,t){return e.hasVideo("upload")?(t("请等待视频上传完成后发布","red",m.c),!0):!!e.hasImage("upload")&&(t("请等待图片上传完成后发布","red",m.c),!0)}(n,q)){var i=function(e,t){return e.hasVideo()&&!t.isOrg?{videoQuestionConfirmShown:!0,videoQuestionConfirmAllowContinue:!0,videoQuestionConfirmText:"包含视频的编辑将在审核完成后生效，是否继续？"}:e.hasImage("error")||e.hasVideo("error")&&!e.hasVideo("error-review")?{videoQuestionConfirmShown:!0,videoQuestionConfirmAllowContinue:!1,videoQuestionConfirmTitle:"上传失败",videoQuestionConfirmText:"草稿中含有上传失败的内容，请更改后重新提交"}:e.hasVideo("error-review")||e.hasVideo("censor")?{videoQuestionConfirmShown:!0,videoQuestionConfirmAllowContinue:!1,videoQuestionConfirmTitle:"视频未通过审核",videoQuestionConfirmText:"视频中包含未通过审核的信息，请更改后重新提交"}:null}(n,E);i?F({type:x,payload:i}):Oe()}}},children:"提交修改"})})]})]}))}))]})}Ce.propTypes={id:u.a.number,title:u.a.string,detail:u.a.string,topics:u.a.arrayOf(u.a.object),show:u.a.bool,onClose:u.a.func,isAnonymous:u.a.bool,brand:u.a.object,permitEditTopics:u.a.bool},Ce.defaultProps={onClose:function(){}};var xe=Ce;function ke(e){return Object(i.b)(a.a,{children:Object(i.b)(o.a,{children:Object(i.b)(xe,Object.assign({},e))})})}},1508:function(e,t,n){"use strict";var i=n(15),a=n(16),o=n(17),r=n(18),c=n(9),s=n(1),l=n(0),u=n(26),d=n(872),b=n(213),h=n(297),f=n(121);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(c.a)(e);if(t){var a=Object(c.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(r.a)(this,n)}}var m=function(e){Object(o.a)(n,e);var t=p(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={value:"",items:[]},e.handleChange=function(t){var n=e.props.dispatch;e.setState({value:t});var i=t.match(/^https:\/\/www.zhihu.com\/question\/(\d+)/);i?n(Object(f.Y)(i[1])).then((function(t){var n=t.payload;e.setState({items:[{name:n.title,urlToken:n.id}]})})):Object(h.b)(t).then((function(t){e.setState({items:t})}))},e.handleSelect=function(t,n){var i=e.props,a=i.dispatch,o=i.question.id,r=i.onSubmitted,c=n.urlToken,s=a(Object(f.g)(o,c));r&&r({id:c},s)},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this.state,t=e.value,n=e.items;return Object(s.b)("div",{className:"QuestionRedirectionCreator",children:Object(s.b)("div",{className:"QuestionRedirectionCreator-content",children:Object(s.b)(b.b,{value:t,items:n,inputProps:{spread:!0,large:!0,after:Object(s.b)(d.a,{fill:"grey",size:20})},menuProps:{targetClassName:"QuestionRedirectionCreator-menu"},onChange:this.handleChange,onSelect:this.handleSelect})})})}}]),n}(l.Component);t.a=Object(u.connect)()(m)},1515:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(909),a=n.n(i),o=n(1025),r=n.n(o),c=n(6),s=n(892),l=n(1393);function u(e){var t=e.id,n=e.adZoneId,i=e.template,a=void 0===i?"":i,o=e.style,r=void 0===o?"":o,c=e.impressionTracks,s=e.viewTracks,l=e.clickTracks,u=e.closeTracks,d=e.effectTracks,b=void 0===d?[]:d,h=e.debugTracks,f=void 0===h?[]:h,p=e.conversionTracks,m=e.videoTracks,v=void 0===m?[]:m,O=e.extraConversionTracks,j=void 0===O?[]:O,g=e.conversionTrackJs,y=void 0===g?[]:g,w=e.zaAdInfo,C=e.zaAdInfoJson,x=void 0===C?"":C,k=e.creatives,A=e.prefetch,S=void 0===A?{}:A,R=e.expand,N=void 0===R?{}:R,T=e.canvas,B=void 0===T?{}:T,E=e.experimentInfo,I=void 0===E?"":E;return{id:t,adZoneId:n,template:a,style:r,impressionTracks:c,viewTracks:s,clickTracks:l,closeTracks:u,effectTracks:b,debugTracks:f,conversionTracks:p,videoTracks:v,extraConversionTracks:j,conversionTrackJs:y,zaAdInfo:w,zaAdInfoJson:x,creatives:function(e){return e.map((function(e){return function(e){var t=e.id,n=void 0===t?"":t,i=e.asset,a=e.videoInfo,o=void 0===a?{playlis:{hd:{},ld:{},sd:{}}}:a,r=e.protoInfo,c=void 0===r?{}:r,s=e.thirdSdkInfo,l=void 0===s?"":s,u=e.videoWatchNum,d=void 0===u?"":u;return{id:n,asset:function(e){var t=e.brandName,n=e.brandLogo,i=e.title,a=e.desc,o=void 0===a?"":a,r=e.imgs,c=void 0===r?[]:r,s=e.gif,l=void 0===s?"":s,u=e.landingUrl,d=e.nativeUrl,b=void 0===d?"":d,h=e.appPromotionUrl,f=void 0===h?"":h,p=e.deepUrl,m=void 0===p?"":p,v=e.imgSize,O=e.recommends,j=void 0===O?[{}]:O,g=e.footer,y=e.cta,w=e.resource,C=void 0===w?{}:w,x=e.activity,k=void 0===x?{}:x,A=e.sponsor,S=void 0===A?{}:A,R=e.window,N=void 0===R?{}:R,T=e.appInfo,B=void 0===T?{}:T,E=e.recommend,I=void 0===E?{}:E,q=e.videoSpec,z=void 0===q?{}:q,M=e.imageRatioExtra,P=void 0===M?{}:M,L=e.packageName,D=e.icon,Q=e.galleries;return{brandName:t,brandLogo:n,title:i,desc:o,imgs:c,gif:l,landingUrl:u,nativeUrl:b,appPromotionUrl:f,deepUrl:m,imgSize:v,recommends:j,footer:g,cta:y,resource:C,activity:k,sponsor:S,window:N,appInfo:B,recommend:I,videoSpec:z,imageRatioExtra:P,packageName:L,icon:D,galleries:void 0===Q?[{}]:Q}}(i),videoInfo:o,protoInfo:c,thirdSdkInfo:l,videoWatchNum:d}}(e)}))}(k),prefetch:S,expand:N,canvas:B,experimentInfo:I}}var d={PROMOTE_ARTICLE:"发表了一篇文章",PROMOTE_QUESTION:"提了一个问题"};function b(e){var t=e.ad,n=(t.partyId,t.creatives),i=t.downloadSilent,o=void 0!==i&&i,c=t.isNewWebview,l=void 0!==c&&c,u=t.isSpeeding,b=t.cdnMap,h=t.displayAdvertisingTag,f=t.adVerb,p=t.loadTracks,m=t.closeTrack,v=r()(t,["partyId","creatives","downloadSilent","isNewWebview","isSpeeding","cdnMap","displayAdvertisingTag","adVerb","loadTracks","closeTrack"]),O=Object(s.e)(t,"creatives[0].impressionTracks",[]),j=Object(s.e)(t,"creatives[0].clickTracks",[]),g={displayAdvertisingTag:h,downloadSilent:o,isNewWebview:l,isCdnSpeeding:u,cdnMap:b},y=d[f],w=n.map((function(e){return function(e,t){var n=Object(s.e)(e,"target",{}),i=n.voteupCount,o=n.commentCount,c=n.followerCount,l=n.answerCount,u=r()(n,["voteupCount","commentCount","followerCount","answerCount"]),d=e.landingUrl,b=e.appPromotionUrl,h=e.deepUrl,f=e.packageName,p=e.title,m=e.nativeUrl,v=void 0===m?"":m,O=e.window,j=e.imageRatioExtra,g=e.brand,y=void 0===g?{}:g,w=e.thumbnailExtraInfo,C=e.cta,x=(C=void 0===C?{}:C).value,k=void 0===x?"":x,A=e.button,S=e.description,R=(e.protoInfo,e.image),N=e.gallery,T=void 0===N?[]:N,B=e.thirdSdkInfo,E=(e.showNum,e.recommend),I=e.contentType,q=r()(e,["landingUrl","appPromotionUrl","deepUrl","packageName","title","nativeUrl","window","imageRatioExtra","brand","thumbnailExtraInfo","cta","button","description","protoInfo","image","gallery","thirdSdkInfo","showNum","recommend","contentType"]),z=y.name,M=y.logo,P=Object(s.e)(T,"length")>=2?T.map((function(e){return e.url})):[R],L=T&&T.map((function(e){return{image:e.url,desc:e.description}}));return{asset:a()({landingUrl:d,appPromotionUrl:b,deepUrl:h,packageName:f,title:p,nativeUrl:v,window:O,imageRatioExtra:j,desc:S,cta:A||k,imgs:P,brandName:z,brandLogo:M,recommend:E,gallery:T,galleries:L,icon:t},q),protoInfo:a()({voteupNum:i,commentNum:o,contentType:I,answerNum:l,followNum:c,target:JSON.stringify(n)},u),videoInfo:w,thirdSdkInfo:B}}(e,y)}));return a()({viewTracks:O,impressionTracks:p,closeTracks:[m],clickTracks:j,creatives:w,expand:g},v)}function h(e){if(!e||!e.ad&&!e.adjson)return null;var t=Object(c.camelizeKeys)(e),n=Object(s.e)(e,"adjson"),i=Object(c.camelizeKeys)(Object(s.x)(n)),o=Object(l.a)({oldData:t,adjson:i});return{data:t,adjson:n?function(e,t){if(!e.ads)return null;var n=e.ads;return{ads:(void 0===n?[]:n).map((function(e){return a()({adjsonStr:t},u(e))}))}}(i,n):function(e,t){return{ads:[{ad:e.ad}].map((function(e){var n=e.ad;return a()({adjsonStr:t},b({ad:n}))}))}}(t,n),experimentInfo:o}}},1677:function(e,t,n){"use strict";(function(e){var i=n(15),a=n(16),o=n(17),r=n(18),c=n(9),s=n(1),l=n(0),u=n(26),d=n(2705),b=n(121),h=n(190);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(c.a)(e);if(t){var a=Object(c.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(r.a)(this,n)}}var p=function(t){Object(o.a)(r,t);var n=f(r);function r(){var t;Object(i.a)(this,r);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(t=n.call.apply(n,[this].concat(o))).getTrackUrls=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.props,o=a.pageType,r=a.advancedStyle,c=r.viewTracks,s=r.clickTracks,l="view"===n?c:s,u=Object.assign({},{eru:encodeURIComponent(e.location.href),ct:1,pt:"question"===o?1:2,rt:1},i),d=Object.keys(u).map((function(e){return"&".concat(e,"=").concat(u[e])})).join("");return l.map((function(e){return"".concat(e).concat(d)}))},t.handleViewTrack=function(e){t.getTrackUrls("view",e).forEach(h.c)},t.handleClickTrack=function(e){t.getTrackUrls("click",e).forEach(h.c)},t}return Object(a.a)(r,[{key:"componentWillMount",value:function(){var e=this.props,t=e.questionId;(0,e.loadBrandQuestionAdvancedStyle)(t)}},{key:"componentDidUpdate",value:function(e){var t=e.advancedStyle,n=(t=void 0===t?{}:t).cardType,i=this.props,a=i.advancedStyle,o=(a=void 0===a?{}:a).cardType,r=i.onLoad;!n&&o&&"function"==typeof r&&r()}},{key:"render",value:function(){var e=this.props,t=e.brand,n=e.advancedStyle;return n&&n.id?Object(s.b)(d.a,{brand:t,advancedStyle:n,handleViewTrack:this.handleViewTrack,handleClickTrack:this.handleClickTrack,isMobileView:!1}):null}}]),r}(l.Component);t.a=Object(u.connect)((function(e){var t=e.question;return{brand:t.brand,advancedStyle:t.advancedStyle}}),{loadBrandQuestionAdvancedStyle:b.J})(p)}).call(this,n(110))},2015:function(e,t,n){"use strict";var i=n(0),a=n.n(i),o=n(27),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},c=function(e){return a.a.createElement(o.a,r({fill:"currentColor"},e),a.a.createElement("path",{d:"M6.824 2.934l-3.36 3.359a1 1 0 0 0 0 1.414l3.36 3.359a.25.25 0 0 0 .353 0l1.06-1.06a.25.25 0 0 0 0-.354L6.587 8H13a5 5 0 0 1 0 10H4.25a.25.25 0 0 0-.25.25v1.5c0 .138.112.25.25.25H13a7 7 0 1 0 0-14H6.586l1.652-1.652a.25.25 0 0 0 0-.353l-1.06-1.06a.25.25 0 0 0-.354 0z"}))};c.defaultProps={name:"Undo"},t.a=c},2144:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(1098),a=n(65);function o(e){return Object(a.a)(1,arguments),Object(i.a)(e,Date.now())}},2145:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(1098),a=n(1013),o=n(65);function r(e){return Object(o.a)(1,arguments),Object(i.a)(e,Object(a.a)(Date.now(),1))}},2158:function(e,t,n){"use strict";var i=n(0),a=n.n(i),o=n(27),r=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M19.49 14.362l-2.03-1.83 1.116-1.137a1.352 1.352 0 0 1 1.921-.009c.535.535.54 1.4.01 1.94l-1.016 1.036zm-4.883 4.935a2.3 2.3 0 0 1-1.12.63l-1.136.264c-.29.058-.668-.105-.56-.56l.27-1.158a2.3 2.3 0 0 1 .599-1.09l3.809-3.84 2.03 1.829-3.892 3.925zM4.06 5H19.94C20.526 5 21 5.448 21 6s-.474 1-1.059 1H4.06C3.474 7 3 6.552 3 6s.474-1 1.059-1zM4 11h9a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h4a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z",fillRule:"evenodd"}))};r.defaultProps={name:"Preview"},t.a=r},2231:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(0),a=n.n(i),o=n(420),r=Object.assign;var c=function(e){return a.a.createElement(o.a,r(r({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--CircleClose24"+(e.className?" ".concat(e.className):"")}),a.a.createElement("path",{d:"M12 21a9 9 0 100-18 9 9 0 000 18zm2.829-12.89a.25.25 0 01.353 0l.707.708a.25.25 0 010 .354L13.061 12l2.828 2.828a.25.25 0 010 .354l-.707.707a.25.25 0 01-.354 0L12 13.061l-2.828 2.828a.25.25 0 01-.354 0l-.707-.707a.25.25 0 010-.354L10.94 12 8.111 9.172a.25.25 0 010-.354l.707-.707a.25.25 0 01.353 0L12 10.94l2.829-2.83z",fillRule:"evenodd",clipRule:"evenodd"}))}},2255:function(e,t,n){e.exports=n.p+"assets/placeholder.765f50e5.svg"},2256:function(e,t,n){e.exports=n.p+"assets/liukanshan_desert.547bd049.svg"},2257:function(e,t,n){e.exports=n.p+"assets/empty.2df52de0.png"},2705:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n(1),a=n(12),o=n.n(a),r=n(438),c=n(889),s=n(205),l=n(957),u=n(30),d={question:"提问",answer:"回答",post:"文章",live:"Live",ebook:"电子书"},b=function(e){var t=e.src,n=e.style;return Object(i.b)("div",{className:"AdvancedViewer-imgField",style:Object.assign(Object.assign({},n),t?{backgroundImage:"url(".concat(t,")"),backgroundSize:"cover",backgroundPosition:"center"}:{})})};function h(e){var t=e.isMobileView,n=e.advancedStyle,a=(n=void 0===n?{}:n).cardType,o=n.url,c=n.material,s=e.handleViewTrack,h=e.handleClickTrack;if(null==c||!c.length)return null;var f=function(e){return"function"==typeof h?{onClick:function(){h(e)}}:{}},p=function(e,t){return Object(i.c)("a",Object.assign(Object.assign({className:"AdvancedViewer-commodityItem",target:"_blank",rel:"noopener noreferrer",href:o},f({etu:o,pi:t+1})),{},{children:[Object(i.b)("img",{src:e.image,alt:""}),e.mainTitle&&Object(i.c)("div",{className:"AdvancedViewer-commodityIntro",children:[Object(i.b)("span",{className:"AdvancedViewer-mainTitle",children:e.mainTitle}),Object(i.b)("span",{className:"AdvancedViewer-subTitle",children:e.subTitle})]})]}),"AdvancedViewer-commodity-".concat(t))};if("image"===a)return Object(i.b)("a",Object.assign(Object.assign({className:"AdvancedViewer-material AdvancedViewer-image",target:"_blank",rel:"noopener noreferrer",href:o},f({etu:o})),{},{children:Object(i.b)(b,{src:c[0].image,style:t?{width:375,height:156.25}:{}})}));if("image_text"===a)return Object(i.c)("a",Object.assign(Object.assign({className:"AdvancedViewer-material AdvancedViewer-imageText",target:"_blank",rel:"noopener noreferrer",href:o},f({etu:o})),{},{children:[t&&Object(i.b)("div",{className:"AdvancedViewer-intro",children:c[0].intro}),Object(i.b)(b,{src:c[0].image}),!t&&Object(i.b)("div",{className:"AdvancedViewer-intro",children:c[0].intro})]}));if("commodity"===a)return c.length&&Object(i.b)("div",{className:"AdvancedViewer-material AdvancedViewer-commodity",children:t?c.map(p):Object(i.b)(l.a,{items:c,renderItem:p})});if("recommended"===a){var m=function(e,t){return Object(i.c)("a",Object.assign(Object.assign({className:"AdvancedViewer-recommendedItem",href:e.url,target:"_blank",rel:"noopener noreferrer"},f({etu:e.url,pi:t+1})),{},{children:[Object(i.c)("div",{className:"AdvancedViewer-summary",children:[Object(i.c)("div",{className:"AdvancedViewer-wrap",children:[Object(i.b)("div",{className:"AdvancedViewer-title",children:e.title}),e.intro&&Object(i.b)("div",{className:"AdvancedViewer-desc",children:e.intro.replace(/<[\s\S]*?>/g,"")})]}),Object(i.c)("span",{className:"AdvancedViewer-data",children:[d[e.type]," · ",e.statisticText]})]}),Object(i.b)(b,{src:e.image||u.o})]}))};return Object(i.b)("div",{className:"AdvancedViewer-material AdvancedViewer-recommended",children:c.map((function(e,t){return s?Object(i.b)(r.a,Object.assign(Object.assign({},(n={pi:t+1},"function"==typeof s?{onChange:function(e,t){e.isIntersecting&&(t.disconnect(),s(n))}}:{})),{},{children:m(e,t)}),t):m(e,t);var n}))})}return null}function f(e){var t,n=e.isMobileView,a=e.brand,l=a.name,u=a.logo,d=e.advancedStyle,b=(d=void 0===d?{}:d).brandRecommendText,f=d.buttonText,p=d.url,m=d.cardType,v=e.handleViewTrack,O=e.handleClickTrack,j=function(e){return"function"==typeof O?{onClick:function(){O(e)}}:{}},g=l&&l.charCodeAt(l.length-1),y=g>=0&&g<=128?"".concat(l," "):l,w=n&&"recommended"!==m,C=b||"".concat(y,"的品牌推荐"),x=Object(i.c)(c.d,{className:o()("AdvancedViewer",{"is-mobile":n}),children:[!w&&Object(i.b)(c.b,{className:"AdvancedViewer-header",children:Object(i.b)("span",{className:"AdvancedViewer-headerText",children:C})}),Object(i.b)("div",{className:"AdvancedViewer-content",children:Object(i.b)(h,Object.assign({},e))}),!n&&m&&"recommended"!==m&&Object(i.b)("div",{className:"AdvancedViewer-footer",children:Object(i.b)(s.a,Object.assign(Object.assign({className:"AdvancedViewer-button",target:"_blank",to:p},j({etu:p})),{},{children:f||"了解更多"}))}),w&&Object(i.c)("div",{className:"AdvancedViewer-footer",children:[Object(i.c)("div",{className:"AdvancedViewer-brand",children:[Object(i.b)("img",{className:"AdvancedViewer-logo",src:u,alt:""}),Object(i.b)("span",{className:"AdvancedViewer-brandName",children:C})]}),Object(i.b)(s.a,Object.assign(Object.assign({className:"AdvancedViewer-button",target:"_blank",to:p},j({etu:p})),{},{children:f||"查看详情"}))]})]});return v?Object(i.b)(r.a,Object.assign(Object.assign({},"function"==typeof v?{onViewed:function(){v(t)}}:{}),{},{children:x})):x}},2832:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n(41),o=n(49),r=n(40),c=n.n(r),s=n(59),l=n(15),u=n(16),d=n(17),b=n(18),h=n(9),f=n(0),p=n.n(f),m=n(3),v=n.n(m),O=n(26),j=n(74),g=n(130),y=n.n(g),w=n(141),C=n.n(w),x=n(415),k=n(139),A=n(88),S=n.n(A),R=n(89),N=n(2255),T=n.n(N);var B=function(){return Object(i.b)(R.a,{title:"该内容仅作者可见",subtitle:"",errorImage:T.a})},E=n(19),I=n(121),q=n(417),z=Object(i.b)(y.a,{meta:[{name:"robots",content:"noindex"}]}),M=Object(E.compose)(Object(q.a)(null))((function(e){var t=e.entity,n=t.type,a=t.id,o=t.isVisible,r=t.isCollapsed,c=t.suggestEdit,s=void 0===c?{}:c,l=t.adminClosedComment,u="";"question"===n?u=a:"answer"===n&&(u=t.question.id);var d=Object(O.useSelector)((function(e){return Object(I.eb)(e,{id:u})}));if(d){var b=d.status,h=d.adminClosedComment,f=d.isMuted,p=d.visibleOnlyToAuthor,m=d.reviewInfo,v=void 0===m?{}:m;if(null!=b&&b.isClose||null!=b&&b.isSuggest||null!=b&&b.isEvaluate||h||f||p||v.editIsReviewing)return z}return"question"===n&&d.redirection?Object(i.b)("link",{rel:"canonical",href:"https://www.zhihu.com/question/".concat(d.redirection.to.id)}):"answer"===n&&(null!=s&&s.status||r||l||!o)||"article"===n&&(null!=s&&s.status||l||!o)?z:""})),P=n(426),L=n(1313),D=n(114),Q=n(57),H=n(46),F=n(581),U=n(79),V=n(29),_=n(116),G=n(36),W=n(161);function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var Z=function(e){Object(d.a)(n,e);var t=K(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleToggleAnonymousConfirm=function(){var t=e.props,n=t.question.id,i=t.updateQuestionAnonymous;(0,t.onClose)(),i(n)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.fillCurrentUserIfNeeded(["mcn_user_info"])}},{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.question,a=e.shown,o=e.isMCNUser,r=n.relationship.isAnonymous;return Object(i.b)(W.b,{title:r?"确认取消匿名身份？":"启用匿名后",onClose:t,size:"default",children:a&&Object(i.c)("div",{children:[r?Object(i.b)("div",{className:"Anonymous-confirm",children:Object(i.b)("p",{children:"取消匿名身份后， 提问、回答、赞同和关注将以实名显示。"})}):Object(i.b)("div",{className:"Anonymous-confirm",children:Object(i.c)("ul",{children:[Object(i.b)("li",{children:"提问、回答、赞同、关注会显示为匿名"}),Object(i.b)("li",{children:"不能邀请别人回答问题"}),Object(i.b)("li",{children:"不能将回答同步到圈子"}),Object(i.b)("li",{children:"除提问者本人，不能匿名编辑问题"}),Object(i.b)("li",{children:"匿名身份不能使用视频功能"}),Object(i.b)("li",{children:"不能被视频引用和联合创作"}),Object(i.b)("li",{children:"启用匿名将自动取消所有已获得的「专业认可」"}),o&&Object(i.b)("li",{children:"不能使用商品信息发布功能"})]})}),Object(i.c)(W.a,{direction:"horizontal",children:[Object(i.b)(G.c,{onClick:t,color:"grey",children:"取消"}),Object(i.b)(G.c,{preset:"primary",color:"blue",onClick:this.handleToggleAnonymousConfirm,children:"确认"})]})]})})}}]),n}(f.Component);Z.propTypes={question:v.a.object.isRequired};var J=Object(O.connect)((function(e){var t,n=Object(H.b)(e);return{isMCNUser:2===(null==n||null===(t=n.mcnUserInfo)||void 0===t?void 0:t.status)}}),{updateQuestionAnonymous:I.pb,fillCurrentUserIfNeeded:H.e})(Z),Y=function(e){var t=e.isQAPage,n=void 0!==t&&t,a=e.children,o=Object(O.useSelector)((function(e){return e.env.userAgent.GoogleBot}));return n&&o?Object(i.b)("div",{itemScope:!0,itemType:"https://schema.org/QAPage",children:a}):Object(i.b)(i.a,{children:a})},X=n(181),$=n(2256),ee=n.n($);function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var ne=function(e){Object(d.a)(n,e);var t=te(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={time:e.props.seconds},e.handleClearInterval=function(){e.interval&&clearInterval(e.interval)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){e.setState({time:e.state.time-1},(function(){if(0===e.state.time){e.handleClearInterval();var t=e.props.id;location.href="/question/".concat(t)}}))}),1e3)}},{key:"componentWillUnmount",value:function(){this.handleClearInterval()}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.destination,a=this.state.time;return Object(i.b)(X.b,{title:t,subtitle:"".concat(a," 秒后自动跳转至").concat(n),errorImage:ee.a})}}]),n}(f.Component);ne.defaultProps={seconds:5,destination:"回答所在的问题页",title:"该回答已被删除"};var ie=n(208),ae=n(209),oe=n.n(ae),re=n(994),ce=n(278),se=n(249),le=n(35),ue=n(12),de=n.n(ue),be=n(1069),he=n(969),fe=n(180),pe=n(1244),me=n(1755),ve=n(2),Oe=n(206),je=n(421),ge="SpecialQuestionAuthor";function ye(e){var t=e.author,n=e.className,o=e.isMobile,r=t.avatarUrl,c=t.name,s=t.badge,l=t.badgeV2;return Object(i.b)("div",{className:de()("".concat(ge,"-Wrapper"),n),children:Object(i.c)(a.Link,{className:de()("".concat(ge),Object(ve.a)({},"ROOT_CLASS--mobile",o)),to:"/".concat(t.isOrg?"org":"people","/").concat(t.urlToken||t.id),children:[Object(i.b)(Oe.a,{size:o?22:28,url:r,alt:c,round:!0}),Object(i.b)("span",{className:"".concat(ge,"-Author"),children:t.name}),Object(i.b)(je.c,{className:"".concat(ge,"-Badge"),badge:l||s,size:o?16:18}),Object(i.b)("span",{className:"".concat(ge,"-Suffix"),children:"的提问"})]})})}ye.propTypes={author:v.a.object.isRequired,isMobile:v.a.bool};var we=n(1201),Ce=(n(1390),n(298)),xe=n(895),ke=n(45),Ae=n.n(ke),Se=n(915);function Re(e){var t=e.question,n=e.isAuthorCurrentUser,a=e.hasExtraContent,r=t.author,c=Object(f.useState)(!1),s=Object(o.a)(c,2),l=(s[0],s[1],Object(f.useRef)(),Object(f.useRef)());return Object(f.useEffect)((function(){;""}),[n]),Object(f.useEffect)((function(){Object(xe.onViewedOnce)(l.current,(function(){le.a.trackCardShow(l.current,{id:7064})}))}),[]),Object(i.c)("div",{className:de()("QuestionAuthor",{"QuestionAuthor--hasExtraContent":a}),ref:l,children:[Object(i.b)(Se.a,{preset:"plain",author:r,zaId:7063,zaExtra:{link:{url:"//www.zhihu.com/people/".concat(r.urlToken)}},noHeadline:!0}),""]})}var Ne=n(33),Te=n(61),Be=n(178),Ee=n(138),Ie=n(901),qe=n(891),ze=n(98),Me=Object.assign;var Pe,Le=function(e){return p.a.createElement(ze.a,Me({width:"99",height:"99",viewBox:"0 0 99 99"},e),p.a.createElement("path",{fill:"currentColor",d:"M118.269 98.6a4.063 4.063 0 01-2.54-.893L69.501 60.79l-44.83 36.055a4.06 4.06 0 01-4.972.1 4.2 4.2 0 01-1.419-4.834L29.43 61.626c.801-2.153 3.175-3.234 5.29-2.423 2.12.812 3.191 3.216 2.39 5.366l-5.897 16.387 35.73-28.735a4.053 4.053 0 015.09-.008l38.454 30.708-13.8-45.548a4.2 4.2 0 011.421-4.524L129.74 8.185H97.734L51.044 41.93A4.068 4.068 0 0145.31 41c-1.33-1.863-.918-4.466.917-5.815L93.995.648a4.067 4.067 0 012.408-.79h45.412a4.11 4.11 0 013.887 2.823 4.2 4.2 0 01-1.385 4.64L105.371 37.69l16.82 55.522a4.193 4.193 0 01-1.6 4.658 4.066 4.066 0 01-2.322.73M16.219 18.143a3.63 3.63 0 01-2.935-1.468c-1.16-1.577-.784-3.772.834-4.9L30.328.514c1.62-1.13 3.869-.765 5.028.812 1.16 1.577.785 3.772-.834 4.9L18.314 17.488a3.669 3.669 0 01-2.095.655M32.28 29.114a3.46 3.46 0 01-2.005-6.277L84.62-15.959a3.45 3.45 0 014.815.814 3.46 3.46 0 01-.812 4.822L34.28 28.474a3.435 3.435 0 01-2 .64M3.407 7.171c-1.053 0-2.092-.53-2.757-1.53-1.104-1.655-.764-3.97.757-5.17l2.202-1.737c1.52-1.2 3.648-.831 4.751.823 1.104 1.656.764 3.971-.757 5.171L5.4 6.466a3.204 3.204 0 01-1.994.705",fillRule:"evenodd"}))},De=["questionId","isInAnswerPage"],Qe=function(e){var t,n=e.items,a=null==n||null===(t=n[0])||void 0===t?void 0:t.image;return Object(i.b)(Te.Box,{css:function(e){return{flex:"0 0 44px",borderRadius:"4px",position:"relative","::after":{content:'""',position:"absolute",top:4,bottom:4,borderRadius:"inherit",right:"-4px",background:"".concat(e.colorMod(e.colors.GBK09A).alpha(.8)),width:"10px",zIndex:0}}},children:Object(i.b)(Ie.a,{bg:"GBK09C",ratio:1,css:{zIndex:1},children:a&&Object(i.b)(Te.Image,{size:"100%",src:Object(Ee.imgUrl)(a,"100w"),css:{borderRadius:"inherit",objectFit:"cover"}})})})},He=function(e){return[{width:"33px",right:"10px",zIndex:3},{width:"29px",right:"5px",zIndex:2},{width:"24px",right:0,zIndex:1}][e]},Fe=function(e){var t=e.items,n=null==t?void 0:t.map((function(e){return e.image}));return Object(i.b)(Te.Box,{css:{flex:"0 0 44px",borderRadius:"4px"},children:Object(i.b)(Ie.a,{ratio:1,children:(null==n?void 0:n.length)>0&&n.map((function(e,t){return Object(i.b)(Te.Box,{css:Object.assign({borderRadius:"inherit",position:"absolute",bottom:0},He(t)),children:Object(i.b)(Ie.a,{bg:"GBK09C",ratio:3/4,css:{zIndex:1},children:e&&Object(i.b)(Te.Image,{size:"100%",src:Object(Ee.imgUrl)(e,"100w"),css:{borderRadius:"inherit",objectFit:"cover",boxShadow:"0.5px 0 2px 0 rgba(0, 0, 0, 0.1)"}})})},t)}))})})},Ue=function(e){var t=e.questionId,n=e.isInAnswerPage,a=Object(Ne.default)(e,De),r=Object(O.useSelector)((function(e){return Object(I.fb)(e,t)})),c=Object(O.useDispatch)(),s=Object(we.b)(),l=Object(o.a)(s,3),u=l[0],d=l[1],b=l[2];if(Object(f.useEffect)((function(){r||c(Object(I.Z)(t)).catch(b)}),[r,t,b,c]),Object(f.useEffect)((function(){r&&("not found"!==r.message?d():b())}),[r,b,d]),!r||"not found"===r.message||!u)return null;var h=r.name,p=r.num,m=r.upvoteNum,v=r.rankFieldType,g=r.items,y=r.urlToken,w=2===v,C=w?Fe:Qe;return Object(i.b)(x.a,{module:"Content",view:{id:8766,name:n?"answer":"question"},content:{token:y,parent_token:String(t)},trackCardShow:!0,children:Object(i.b)(j.b,{content:{type:"Topic",token:String(y)},children:Object(i.b)(j.e,{zaText:!0,shouldTrackClick:!0,as:"div","data-za-extra":JSON.stringify({button:{text:h}}),css:{position:"relative",zIndex:0},zaType:"Card",zaAction:"OpenUrl",zaBlock:"blueStar_questionPage_detailCard",zaEventType:"Click",extra:{link:{url:"https://www.zhihu.com/blue-star/ranking/".concat(y,"?origin_from=").concat(n?"answer":"question")}},children:Object(i.c)(Te.Flex,Object.assign(Object.assign({as:qe.a,my:"14px",py:"8px",px:"12px",alignItems:"center",css:function(e){return{backgroundImage:"linear-gradient(to left, ".concat(e.colorMod(e.colors.GBL01A).alpha(.1),", ").concat(e.colorMod(e.colors.GBL01A).alpha(.04),")"),backgroundColor:e.colors.GBK99C,borderRadius:"5px",position:"relative",overflow:"hidden"}},"data-za-detail-view-id":"8767","data-za-detail-view-name":n?"answer":"question","data-za-extra":JSON.stringify({button:{text:h}}),href:"https://www.zhihu.com/blue-star/ranking/".concat(y,"?origin_from=").concat(n?"answer":"question")},a),{},{children:[Object(i.b)(Le,{css:function(e){return{position:"absolute",width:"40.5px",height:"49.5px",top:-5,right:-1,color:e.colors.GBK99A}}}),Object(i.b)(C,{items:g}),Object(i.c)(Te.Flex,{ml:"14px",alignItems:"center",children:[Object(i.b)(Te.Text,{color:"GBK02A",fontWeight:"bold",css:{fontSize:"17px",lineHeight:"18px"},children:"小蓝星 · ".concat(h)}),Object(i.b)(Te.Text,{color:"GBK05A",css:{fontSize:"14px",lineHeight:"16px",marginLeft:"10px"},children:w?oe()(Pe||(Pe=Object(ie.a)(["收录",""," · ","知友推荐"])),Object(Be.cnNiceNumber)(p),w?"部影视":"个商品",Object(Be.cnNiceNumber)(m)):"来自知友的真实反馈"})]})]}))})})})},Ve=n(466),_e=n(949);function Ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var We=function(e){Object(d.a)(n,e);var t=Ge(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.item;return Object(i.b)(Ve.a,{className:"QuestionTopic",children:Object(i.b)(_e.a,{noHoverCard:!1,topic:e})})}}]),n}(f.Component),Ke=Object(x.b)((function(e){return{module:"TopicItem",content:{type:"Topic",token:e.item.id},trackCardShow:!0}}))(We),Ze=n(1483),Je=n(1592),Ye=n(961),Xe=n(1073),$e=n(987),et=n(1089),tt=["text"],nt=function(e){var t=e.text,n=Object(Ne.default)(e,tt);return Object(i.b)(G.c,Object.assign(Object.assign({preset:"plain"},n),{},{icon:et.a,label:t||"修改"}))};function it(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var at=function(e){Object(d.a)(n,e);var t=it(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.tips;return Object(i.b)("div",{className:"QuestionReviewInfo",children:Object(i.b)("p",{children:e})})}}]),n}(f.PureComponent);at.propsTypes={tips:v.a.string};function ot(e){var t,n,a=e.html,r=e.excerpt,c=e.thumbnailInfo,s=e.collapsed,l=e.onExpand,u=e.editable,d=e.onEdit,b=e.isVisible,h=e.isAuthor,p=r.length<a.length,m=(p||r.length>=75)&&s,v=!h&&!b,O=Object(f.useMemo)((function(){var e;return null==c||null===(e=c.thumbnails)||void 0===e?void 0:e.find((function(e){return"video"===e.type}))}),[c]),j=null==c||null===(t=c.thumbnails)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.url,g=Object(f.useState)(null),y=Object(o.a)(g,2),w=y[0],C=y[1];return Object(i.b)("div",{css:{minHeight:"10px"},children:Object(i.c)("div",{className:de()("QuestionRichText",{"QuestionRichText--expandable":p,"QuestionRichText--collapsed":s,"QuestionRichText--video":O&&s}),onClick:function(e){m&&"function"==typeof l&&l(e);var t=e.target;"IMG"===t.tagName&&t.classList.contains("zh-lightbox-thumb")&&C(t)},children:[O&&s&&Object(i.b)("div",{className:"QuestionRichText--wrapImgae",children:Object(i.b)("img",{src:j,alt:"video",className:"QuestionRichText--image"})}),!v&&Object(i.c)("div",{children:[m?Object(i.b)("span",{itemProp:"text",children:Object($e.b)(r,75)}):Object(i.b)(Xe.a,{itemProp:"text",tag:"span",html:a}),m&&Object(i.c)(G.c,{preset:"plain",className:"QuestionRichText-more",children:["显示全部 ",Object(i.b)(Je.a,{center:!0})]})]}),u&&!m&&Object(i.b)(nt,{onClick:d}),w&&Object(i.b)(Ye.a,{img:w,onClose:function(){return C(null)}})]})})}function rt(e){var t=e.reviewInfo,n=e.thumbnailInfo,a=e.html,o=e.excerpt,r=(t||{}).tips,c=Object(f.useMemo)((function(){var e;return null==n||null===(e=n.thumbnails)||void 0===e?void 0:e.find((function(e){return"video"===e.type}))}),[n]),s=Boolean(a&&o);return Object(i.c)("div",{children:[r&&c&&Object(i.b)(at,{tips:r}),s?Object(i.b)(ot,Object.assign({},e)):null]})}var ct=n(422),st=n(77),lt=n(160),ut=n(2015),dt=n(2158),bt=n(524),ht=n(205);function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var pt=function(e){Object(d.a)(n,e);var t=ft(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).getRenderProps=function(){var t=e.props,n=t.draft,a=t.question,o=a.id,r=a.relationship,c=(r=void 0===r?{}:r).myAnswer;return c?c.isDeleted?{icon:Object(i.b)(ut.a,{size:17,className:"QuestionButton-icon"}),text:"撤销删除",props:{onClick:e.handleRestoreAnswer}}:{icon:Object(i.b)(dt.a,{size:17,className:"QuestionButton-icon"}),text:"查看我的回答",props:{to:"/question/".concat(o,"/answer/").concat(c.answerId),onClick:e.handleFocusAnswer},Wrapper:ht.a}:{icon:Object(i.b)(et.a,{size:16,center:!0,className:"QuestionButton-icon"}),text:n?"编辑回答":"写回答",props:{onClick:e.handleAddAnswer}}},e.handleFocusAnswer=function(){var t=document.querySelector(".AnswerCard");t&&(t.classList.add("is-focus"),e.timeout&&clearTimeout(e.timeout),e.timeout=setTimeout((function(){return t.classList.remove("is-focus")}),300))},e.handleRestoreAnswer=function(){var t=e.props,n=t.question,i=n.relationship.myAnswer,a=n.id,o=t.restoreAnswer,r=t.showNotification;i.isDeleted&&o(a,i.answerId).then((function(){return r("已撤销删除回答")}))},e.handleAddAnswer=e.context.authRequired((function(t){var n=e.props,i=n.draft,a=n.question,o=a.id,r=a.reviewInfo,c=(r=void 0===r?{}:r).tips,s=n.zaId,l=n.cancelScheduledPublish,u=n.isMobile,d=n.useNewPageFullScreenEditor;if(u)window.location.href="/question/".concat(o,"/answers/editor");else if(d){var b=window.location,h=b.search,f=b.host;window.open("//".concat(f,"/question/").concat(o,"/write").concat(h),"_blank")}else{var p=t.currentTarget,m=function(){c?e.props.showNotification(c,"red"):(s&&le.a.trackEvent(null,{id:s}),le.a.trackEvent(Object(st.a)(e),{action:i&&i.editableContent?"Edit":"Answer",is_intent:!0,name:p.textContent}),e.context.startAddAnswer())};i&&i.schedule?lt.a.confirm("如果继续编辑该回答，原定时发送设置将会失效，需重新设置定时发送时间，是否继续编辑？",{title:"编辑回答",text:{ok:"继续编辑",cancel:"我再想想"}}).then((function(){l(e.props.question.id).then(m)}),(function(){})):m()}})),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){Object(bt.b)()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,a=e.size,o=e.preset,r=e.color,c=void 0===r?"blue":r,s=e.onClick,l=this.getRenderProps(),u=l.icon,d=l.text,b=l.props,h=l.Wrapper,p=void 0===h?G.c:h,m=Object(i.c)(f.Fragment,{children:[u,d]});return Object(i.b)(j.e,{zaType:"Button",zaText:d,as:"a",children:Object(i.b)(j.a,Object.assign(Object.assign(Object.assign({as:p,zaType:"Button",zaText:d},b),s&&{onClick:s}),{},{color:c,size:a,preset:o,className:n,children:t||m}))})}}]),n}(f.Component);pt.contextTypes={authRequired:v.a.func,startAddAnswer:v.a.func};var mt=Object(E.compose)(a.withRouter,Object(O.connect)((function(e,t){return{draft:Object(I.n)(e,{id:t.params.id}),question:Object(I.eb)(e,{id:t.params.id}),isMobile:Object(Q.isMobileSelector)(e),currentUser:Object(H.b)(e),useNewPageFullScreenEditor:"3"===Object(Q.abParamSelector)(e,"pc_fullsize")}}),{restoreAnswer:U.B,cancelScheduledPublish:U.e,showNotification:V.h}))(pt),vt=n(898),Ot=n(934),jt=n(1110);function gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var yt={follow_question:jt.b.follow,write_answer:jt.b.write_answer},wt=function(e){Object(d.a)(n,e);var t=gt(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).createOpenInAppHandler=function(t){var n=e.props,i=n.question.id,a=n.isSpecialQuestionOrAnswer;return function(){a?location.href="zhihu://question/".concat(i,"?utm_app_name=zhihu_check&utm_content=").concat(t):Object(ct.e)(Object(Ot.a)({type:"question",id:i},{launch_button:yt[t]}))}},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.question,n=e.question,a=n.relationship,o=n.relationship.isAuthor,r=n.isNormal,c=n.status,s=(c=void 0===c?{}:c).isLocked,l=n.questionType,u=n.isMuted,d=n.id,b=e.shouldOia,h=e.inTopBar,f="commercial"===l&&u;return Object(i.c)("div",{className:"QuestionButtonGroup",children:[o&&f?Object(i.b)(ht.a,{preset:"primary",a:!0,to:"https://e.zhihu.com",color:"green",children:"推广问题"}):Object(i.b)(vt.a,Object.assign({id:d,zaId:h?3408:3309,type:"question",preset:"primary",isFollowing:(a&&{}.hasOwnProperty.call(a,"isFollowing")?a:t).isFollowing,disabled:f},b&&{onClick:this.createOpenInAppHandler("follow_question")})),r&&!s&&Object(i.b)(mt,{color:"blue",zaId:h?3409:3311})]})}}]),n}(f.Component),Ct=Object(E.compose)(a.withRouter,Object(O.connect)((function(e,t){var n;return{shouldOia:Object(Q.shouldOiaSelector)(e),isSpecialQuestionOrAnswer:Object(Q.specialQuestionOrAnswerSelector)(e,{type:"question",id:null===(n=t.question)||void 0===n?void 0:n.id})}})))(wt),xt=n(21),kt=n.n(xt),At=n(23),St=n.n(At),Rt=n(22),Nt=n.n(Rt),Tt=n(25),Bt=n.n(Tt),Et=n(14),It=n.n(Et),qt=n(7);function zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=It()(e);if(t){var a=It()(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Bt()(this,n)}}var Mt=function(e){Nt()(n,e);var t=zt(n);function n(){var e;kt()(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={count:Math.round(e.props.count)},e.next=function(){var t=e.props.onEnd,n=e.state.count-1;e.setState({count:n}),0===n&&(clearInterval(e.handle),t&&t())},e}return St()(n,[{key:"componentDidMount",value:function(){this.state.count<=0||(this.handle=setInterval(this.next,this.props.interval))}},{key:"componentWillUnmount",value:function(){clearInterval(this.handle)}},{key:"render",value:function(){var e=this.state.count;return Object(qt.g)("span",null,e)}}]),n}(f.Component);Mt.propTypes={count:v.a.number.isRequired,interval:v.a.number,onEnd:v.a.func},Mt.defaultProps={interval:1e3};var Pt=Mt,Lt=n(413),Dt=n(183),Qt=n(55),Ht=n(419),Ft=n(899),Ut=n(1230);function Vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var _t=function(e){Object(d.a)(n,e);var t=Vt(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={redirectionLoading:!1,redirectionHidden:!1,invitersHidden:!1,invitationModalShown:!1},e.redirect=function(){var t=e.props,n=t.router,i=t.location.query,a=t.question,o=a.id,r=a.redirection;r&&r.to&&r.to.id&&"1"!==i.nr&&n.push("/question/".concat(r.to.id,"?rf=").concat(o))},e.handleRedirectionClose=function(){e.setState({redirectionHidden:!0,invitersHidden:!0}),e.timeout=setTimeout((function(){e.setState({invitersHidden:!1})}),1e3)},e.handleCloseInviters=function(){e.setState({invitersHidden:!0})},e.handleDeleteInviters=function(t){var n=e.props,i=n.question.id;(0,n.deleteInviters)(i),e.handleCloseInviters(),le.a.trackEvent(t.target,{action:"Ignore"})},e.handleCancelAnonymous=function(){(0,e.props.onInvitationTipClose)(),e.context.toggleAnonymous(!1)},e.handleInvite=function(t){e.setState({invitersHidden:!0,invitationModalShown:!0}),le.a.trackEvent(t.target,{action:"Invite",is_intent:!0})},e.handleInvitationModalHide=function(){e.setState({invitationModalShown:!1})},e}return Object(u.a)(n,[{key:"componentWillMount",value:function(){Object(Qt.isBrowser)()&&this.nextQuestion(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.question.id!==e.question.id&&this.nextQuestion(e)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"nextQuestion",value:function(e){var t=this,n=this.context.currentUser,i=e.location.query,a=e.question.id,o=e.fromQuestion,r=e.loadItems,c=e.loadQuestion;clearTimeout(this.timeout),this.setState({redirectionLoading:!1,redirectionHidden:!1,invitersHidden:!1}),n&&"guest"!==n.userType&&r(a,"inviters"),i.rf&&/^\d+$/.test(i.rf)&&!o&&(this.setState({redirectionLoading:!0}),c(Number(i.rf)).catch((function(){})).then((function(){t.setState({redirectionLoading:!1})})))}},{key:"revokeRedirection",value:function(e){var t=this.props,n=t.router,i=t.question.id;(0,t.revokeQuestionRedirection)(e).then((function(){n[e===i?"replace":"push"]("/question/".concat(e))})),this.handleRedirectionClose()}},{key:"renderCommercialMuteStatus",value:function(){var e=this.props.question,t=e.questionType,n=e.isMuted;return e.relationship.isAuthor&&"commercial"===t&&n?Object(i.b)("div",{className:"QuestionStatus-bar",children:Object(i.c)("div",{className:"QuestionStatus-bar-inner",children:[Object(i.c)("div",{className:"QuestionStatus-bar-commercialMuted",children:["该品牌提问尚未激活，无法在社区内流通。请"," ",Object(i.b)("a",{href:"https://e.zhihu.com",target:"_blank",rel:"noopener noreferrer",children:"前往广告平台"})," ","进行设置。"]}),Object(i.b)("p",{children:"未激活的品牌提问页可以添加回答，但相关动态不在社区内流通，包括不会出现在知乎首页、用户主页，也不会被搜索到。当与该品牌提问关联的广告开始投放时，提问被激活，并开始流通。"})]})}):null}},{key:"renderMute",value:function(){var e=this.props,t=e.isMuteSpecial,n=e.isMuteFreeze;return t?Object(i.b)("div",{className:"QuestionStatus-bar",children:Object(i.c)("div",{className:"QuestionStatus-bar-inner",children:[Object(i.b)("strong",{children:"问题已解散"}),Object(i.b)("p",{children:"当前问题下的回答暂时无法查看。"})]})}):n?Object(i.b)("div",{className:"QuestionStatus-bar",style:{display:"none"},children:Object(i.c)("div",{className:"QuestionStatus-bar-inner",children:[Object(i.b)("strong",{children:"问题已冻结"}),Object(i.b)("p",{children:"除浏览外不开放其他用户互动功能。"})]})}):null}},{key:"renderBar",value:function(){var e=this.props.question.status.unnormalDetails;return e&&Object(i.b)("div",{className:"QuestionStatus-bar",children:Object(i.c)("div",{className:"QuestionStatus-bar-inner",children:[Object(i.c)("strong",{children:[e.description,"。"]}),Object(i.c)("em",{children:["原因：",e.reason,"。"]}),1033!==e.reasonId&&Object(i.b)(Ht.a,{html:e.note})]})})}},{key:"renderNotification",value:function(){var e=this,t=this.props,n=t.location.query,a=t.question,o=a.id,r=a.redirection,c=a.relationship,s=(c=void 0===c?{}:c).myAnswer,l=t.inviters,u=t.fromQuestion,d=t.isAnswerPage,b=this.state,h=b.redirectionLoading,f=b.redirectionHidden,p=b.invitersHidden,m=null,v=null;if(!h)if(r&&r.to&&r.to.id&&!f){var O=r.to,j=O.id,g=O.title,y="1"!==n.nr&&!d;m=y?"redirect-countdown":"redirect",v=Object(i.c)("div",{className:"QuestionStatus-notification-inner",children:[Object(i.c)("div",{className:"QuestionStatus-notification-content",children:[y?Object(i.c)("span",{children:["此问题将在 ",Object(i.b)(Pt,{count:5,onEnd:this.redirect})," ","秒后跳转至"]}):Object(i.b)("span",{children:"此问题已重定向至"})," ",Object(i.b)(ht.a,{preset:"plain",to:"/question/".concat(j,"?rf=").concat(o),children:g})]}),Object(i.c)("div",{className:"QuestionStatus-notification-actions",children:[Object(i.b)(G.c,{preset:"plain",className:"QuestionStatus-notification-primary",onClick:function(){return e.revokeRedirection(o)},children:"撤销重定向"}),Object(i.b)("div",{className:"QuestionStatus-notification-divider"}),Object(i.b)(G.c,{preset:"plain",onClick:this.handleRedirectionClose,children:"关闭"})]})]})}else if(u&&u.redirection&&u.redirection.to&&u.redirection.to.id&&u.redirection.to.id===o&&!f){var w=u.id,C=u.title;m="redirect-from",v=Object(i.c)("div",{className:"QuestionStatus-notification-inner",children:[Object(i.c)("div",{className:"QuestionStatus-notification-content",children:["从问题"," ",Object(i.b)(ht.a,{preset:"plain",to:"/question/".concat(w,"?nr=1"),children:C})," ","跳转而来"]}),Object(i.c)("div",{className:"QuestionStatus-notification-actions",children:[Object(i.b)(G.c,{preset:"plain",className:"QuestionStatus-notification-primary",onClick:function(){return e.revokeRedirection(w)},children:"撤销重定向"}),Object(i.b)("div",{className:"QuestionStatus-notification-divider"}),Object(i.b)(G.c,{preset:"plain",onClick:this.handleRedirectionClose,children:"关闭"})]})]})}else l&&l.length&&!p&&!s&&(v=Object(i.b)(x.a,{module:"InvitationCard",trackCardShow:!0,children:Object(i.c)("div",{className:"QuestionStatus-notification-inner",children:[Object(i.c)("div",{className:"QuestionStatus-notification-content",children:[l.map((function(e,t){return Object(i.c)("span",{children:[0!==t&&"、",Object(i.b)(Ft.a,{user:e,noBadge:!0,noHoverCard:!0,"data-za-detail-view-element_name":"User"})]},e.urlToken)}))," ","邀请你回答此问题"]}),Object(i.c)("div",{className:"QuestionStatus-notification-actions",children:[Object(i.b)(G.c,{preset:"plain",className:"QuestionStatus-notification-primary",onClick:this.handleInvite,children:"邀请别人"}),Object(i.b)("div",{className:"QuestionStatus-notification-divider"}),Object(i.b)(G.c,{preset:"plain",onClick:this.handleDeleteInviters,children:"忽略邀请"})]}),Object(i.b)("div",{children:Object(i.b)(G.c,{className:"QuestionStatus-notification-closeButton",preset:"plain",onClick:this.handleCloseInviters,icon:Lt.a})})]})}));return Object(i.b)(Dt.a,{className:"QuestionStatus-notification",notification:v?{key:m,text:v}:null})}},{key:"renderInvitationTip",value:function(){var e=this.props,t=e.invitationTipShown,n=e.onInvitationTipClose;return Object(i.b)(Dt.a,{className:"QuestionStatus-notification",notification:t?{text:Object(i.c)("div",{className:"QuestionStatus-notification-inner",children:[Object(i.b)("div",{className:"QuestionStatus-notification-content",children:"在匿名状态下无法邀请他人回答"}),Object(i.c)("div",{className:"QuestionStatus-notification-actions",children:[Object(i.b)(G.c,{preset:"plain",className:"QuestionStatus-notification-primary",onClick:this.handleCancelAnonymous,children:"取消匿名"}),Object(i.b)("div",{className:"QuestionStatus-notification-divider"}),Object(i.b)(G.c,{preset:"plain",onClick:n,children:"关闭"})]})]})}:null})}},{key:"render",value:function(){var e=this.props.question,t=this.state.invitationModalShown;return Object(i.c)("div",{className:"QuestionStatus",children:[this.renderCommercialMuteStatus(),this.renderMute(),this.renderBar(),this.renderNotification(),this.renderInvitationTip(),Object(i.b)(W.b,{size:"fullPage",onClose:this.handleInvitationModalHide,children:t&&Object(i.b)(Ut.a,{question:e})})]})}}]),n}(f.Component);_t.contextTypes={currentUser:v.a.object,toggleAnonymous:v.a.func};var Gt=Object(E.compose)(Object(q.a)({replacement:null}),a.withRouter,Object(O.connect)((function(e,t){var n=e.entities.questions,i=e.question.inviters,a=t.location.query,o=t.question.id,r={isMuteSpecial:Object(I.E)(t.question),isMuteFreeze:Object(I.D)(t.question),inviters:i[o]};if(a.rf&&/^\d+$/.test(a.rf)){var c=n[Number(a.rf)];c&&(r.fromQuestion=c)}return r}),{loadItems:I.R,loadQuestion:I.T,revokeQuestionRedirection:I.hb,deleteInviters:I.k}))(_t),Wt=n(86),Kt=n(918),Zt=n(4),Jt=n(1345);function Yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var Xt,$t=function(e){Object(d.a)(n,e);var t=Yt(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).load=function(){var t=e.props,n=t.parent.id;(0,t.loadQuestionFollowers)(n)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.parent.followerCount,n=e.isFetching,a=e.isDrained,o=e.items,r=e.currentUser;return Object(i.b)(Jt.a,{currentUser:r,isFetching:n,isDrained:a,items:o,voteupCount:t,onLoad:this.load,text:"关注了"})}}]),n}(f.Component),en=Object(O.connect)((function(e,t){var n=t.parent.id,i=e.entities.users,a=e.question,o=a.followers,r=a.concernedFollowers,c=o[n]||{isFetching:!1,isDrained:!1,order:"normal",ids:[]},s=c.isFetching,l=c.isDrained,u=c.order,d=c.ids,b=(r[n]||{ids:[]}).ids;return{isFetching:s,isDrained:l,order:u,items:[].concat(Object(Zt.a)(b),Object(Zt.a)(d.filter((function(e){return!b.includes(e)})))).map((function(e){return i[e]})),currentUser:Object(H.b)(e)}}),{loadQuestionFollowers:I.W})($t),tn=n(309);function nn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var an=function(e){Object(d.a)(n,e);var t=nn(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={followersShown:!1},e.showFollowers=function(){e.setState({followersShown:!0})},e.closeFollowers=function(){e.setState({followersShown:!1})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.question,n=e.currentUser,a=e.concernedFollowers,o=t.followerCount,r=t.visitCount,c=this.state.followersShown;return Object(i.c)("div",{className:"QuestionFollowStatus",children:[Object(i.c)(Kt.a,{divider:!0,className:"QuestionFollowStatus-counts",children:[n?Object(i.b)(Kt.a.Item,{tag:G.c,preset:"plain",onClick:this.showFollowers,name:"关注者",value:o}):Object(i.b)(Kt.a.Item,{name:"关注者",value:o}),Object(i.b)(Kt.a.Item,{name:"被浏览",value:r})]}),Boolean(a&&a.length)&&Object(i.c)(G.c,{preset:"plain",className:"QuestionFollowStatus-people",onClick:this.showFollowers,children:[Object(i.b)("span",{className:"QuestionFollowStatus-people-tip",children:oe()(Xt||(Xt=Object(ie.a)(["","也关注了该问题"])),1===a.length?a[0].name:"他们")}),a.map((function(e){return Object(i.b)(Ft.a,{user:e,avatar:!0,avatarProps:{size:26,round:!0},noLink:!0,noBadge:!0,noHoverCard:!0},e.id)}))]}),Object(i.b)(Wt.b,{size:"fullPage",onClose:this.closeFollowers,children:c&&Object(i.b)(en,{parent:t})})]})}}]),n}(f.Component),on=Object(E.compose)(a.withRouter,Object(O.connect)((function(e,t){var n=t.params;return{currentUser:Object(H.b)(e),concernedFollowers:Object(I.f)(e,{id:n.id})}}),{loadQuestionConcernedFollowers:I.V}),Object(tn.a)({shouldLoad:function(e){return e.currentUser&&!e.concernedFollowers},load:function(e){return e.loadQuestionConcernedFollowers(e.params.id)}}))(an),rn=n(414),cn=n(881),sn=n(2016),ln=n(1134),un=n(122),dn=n(30),bn=n(945),hn=n(916),fn=n(282),pn=n(1508),mn=n(52),vn=n(2236),On=n(1080),jn=n(60);function gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var yn=function(e){Object(d.a)(n,e);var t=gn(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={commentsShown:!1},e.handleCommentsShow=function(){var t=e.props,n=t.question.reviewInfo.tips,i=t.handleReviewingNotification;n?i():(le.a.trackEvent(Object(st.a)(e),{action:"Comment",element:"Button",is_intent:!0}),e.setState({commentsShown:!0}))},e.handleCommentsClose=function(){e.setState({commentsShown:!1})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.router,n=e.router.location,i=n.pathname,a=n.search,o=Boolean(/^\/question\/(\d*)$/.test(i)),r=Object(mn.parse)(location.search.slice(1)).answer_deleted_redirect;if(o&&"true"!==r){var c=Object(jn.a)(location.hash);this.setState({byComment:c}),c&&(t.replace("".concat(i).concat(a)),this.handleCommentsShow())}}},{key:"componentWillReceiveProps",value:function(e){this.props.question.id!==e.question.id&&this.setState({commentsShown:!1})}},{key:"render",value:function(){var e=this.props,t=e.question,n=e.textStyle,a=e.isMuteSpecial,o=t.commentCount,r=t.adminClosedComment,c=this.state.commentsShown,s="",l=o&&!r;return s="textNumber"===n?l?"评论 ".concat(Object(Be.formatNumber)(o)):"":l?"".concat(Object(Be.formatNumber)(o)," 条评论"):"添加评论",Object(i.c)("div",{className:"QuestionHeader-Comment",children:[Object(i.b)(G.c,{preset:"plain",onClick:this.handleCommentsShow,icon:vn.a,label:s,disabled:a}),Object(i.b)(W.b,{size:"fullPage",onClose:this.handleCommentsClose,children:c&&Object(i.b)(On.a,{type:"question",parent:t,byComment:this.state.byComment,commentNeedsReview:"censor"===t.commentPermission})})]})}}]),n}(f.Component);yn.propTypes={question:v.a.object.isRequired,handleReviewingNotification:v.a.func.isRequired};var wn=Object(E.compose)(a.withRouter,Object(O.connect)((function(e,t){return{isMuteSpecial:Object(I.E)(t.question)}})))(yn),Cn=n(1439);var xn=function(e){var t=Object(f.useRef)(null),n=e.authRequired,a=e.questionId,o=Object(O.useDispatch)(),r=Object(O.useSelector)((function(e){return Object(I.eb)(e,{id:a})})),l=r.relationship,u=l.voting,d=l.isFollowing,b=r.voteupCount,h=r.canVote,p="0"===String(u);Object(f.useEffect)((function(){le.a.trackCardShow(t.current,{name:String(b),id:7228})}),[]);var m=function(){if(!d){var e=p;return o(Object(I.qb)(a,e))}},v=de()("GoodQuestionAction-commonBtn",{"GoodQuestionAction-highLightBtn":"1"===String(u)}),g=n(Object(s.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(Object(I.tb)(a,u));case 2:return e.next=4,m();case 4:n=p?"Upvote":"UnUpvote",le.a.trackEvent(t.current,{action:n,name:String(b),id:7229});case 6:case"end":return e.stop()}}),e)}))));return Object(i.b)("div",{className:"GoodQuestionAction",children:h&&Object(i.b)(j.a,{as:G.c,zaText:p?"好问题":"取消好问题",zaType:"Button",zaAction:p?"Upvote":"UnUpvote",onRef:function(e){return t.current=e},className:v,preset:"plain",onClick:g,icon:Cn.a,label:b>0?"好问题 ".concat(b):"好问题"})})},kn=n(1309),An=n(1174),Sn={true:{title:"确定解锁问题编辑？",subtitle:"该问题编辑已锁定，解锁后可被其他用户编辑，要解锁编辑吗？",confirmText:"解锁问题编辑"},false:{title:"确定锁定问题编辑？",subtitle:"锁定后，其他用户将不可编辑你提出的问题",confirmText:"锁定问题编辑"}};function Rn(e){var t=e.showModal,n=e.showEncourageAuthorEditLock,a=e.handleConfirmEditLock,r=e.handleEditLockShown,c=n?"编辑已锁定":"锁定编辑",s=Object(f.useRef)(),l=Object(f.useState)(!1),u=Object(o.a)(l,2),d=u[0],b=u[1];Object(f.useEffect)((function(){Ae.a.get("question::hasSeenShowEditLockHint")||Object(An.b)([Object(An.a)(3e3).then((function(){Ae.a.set("question::hasSeenShowEditLockHint",!0),b(!0)})),Object(An.a)(3e3).then((function(){b(!1)}))])}),[]),Object(f.useEffect)((function(){Object(xe.onViewedOnce)(s.current,(function(){le.a.trackCardShow(s.current,{id:7666},{button:{text:c}})}))}),[c]);var h=Object(f.useCallback)((function(){le.a.trackEvent(s.current,{id:7669,action:"Click"},{button:{text:c}}),r()}),[r,c]),p=function(e){var t=e?Sn[n].confirmText:"取消";le.a.trackEvent(null,{id:7678,action:"Select",name:t},{button:{text:c}}),e?a():r()};return Object(i.c)(i.a,{children:[Object(i.b)(G.c,{preset:"plain",onClick:h,label:c,icon:kn.a,onRef:s}),Object(i.b)(Ce.a,{className:"QuestionEditLockMenu-Hint",isOpen:d,target:s.current,placement:"top",children:"锁定后问题不可被其他用户编辑"}),Object(i.b)(bn.a,Object.assign({needCancel:!1,showButtonHorizontal:!0,showConfirmButtonRight:!0,onCancel:function(){return p(!1)},onSubmit:function(){return p(!0)},shown:t},Sn[n]))]})}function Nn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var Tn={invitationShown:!1,reportShown:!1,editLockShown:!1,lockTipsShown:!1,deleteShown:!1,redirectionCreatorShown:!1},Bn=[{key:"all",name:"开放评论"},{key:"censor",name:"预审评论"},{key:"nobody",name:"关闭评论"}],En=[{key:"open",name:"开放回答"},{key:"censor",name:"预审回答"}],In=function(e){Object(d.a)(n,e);var t=Nn(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state=Tn,e.handleReviewingNotification=function(){var t=e.props.question.reviewInfo.tips;e.props.showNotification(t,"red")},e.handleInvite=e.context.authRequired((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.eventId,i=void 0===n?3312:n;le.a.trackEvent(null,{id:i});var a,o=e.props,r=o.question,c=r.relationship.isAnonymous,s=r.status,l=(s=void 0===s?{}:s).isLocked,u=s.isClose,d=s.isEvaluate,b=s.isSuggest,h=r.reviewInfo,f=(h=void 0===h?{}:h).tips,p=o.onInvitationTipShow;f?e.handleReviewingNotification():c?p():(l?a="锁定":u?a="关闭":(d||b)&&(a="建议修改"),a?e.props.showNotification("该问题已被".concat(a,"，不能邀请人回答此问题"),"red"):e.handleInvitationShow())}),dn.X.invite),e.handleInvitationShow=function(){return e.setState({invitationShown:!0})},e.handleInvitationHide=function(){return e.setState({invitationShown:!1})},e.handleReport=function(){e.setState({reportShown:!e.state.reportShown})},e.handleEditLockShown=function(){e.setState({editLockShown:!e.state.editLockShown})},e.handleLockClick=function(){return e.props.question.status.isLocked?e.handleUpdateQuestionLocked():e.handleLockTipsShow()},e.handleOpenStatusChange=function(t){var n=e.props;(0,n.updateBrandQuestionOpenStatus)(n.question.id,t)},e.handleUpdateQuestionLocked=function(){var t=e.props,n=t.question.id;(0,t.updateQuestionLocked)(n)},e.handleLockTipsShow=function(){return e.setState({lockTipsShown:!0})},e.handleLockTipsHide=function(){return e.setState({lockTipsShown:!1})},e.handleDelete=function(){return e.setState({deleteShown:!0})},e.handleDeleteModalClose=function(){return e.setState({deleteShown:!1})},e.handleConfirmDelete=function(){e.handleDeleteModalClose();var t=e.props,n=t.question,i=n.id,a=n.questionType,o=t.deleteQuestion,r=t.deleteBrandQuestion;return("commercial"===a?r:o)(i).then((function(){location.href="/"}))},e.handleConfirmEditLock=function(){e.handleEditLockShown();var t=e.props;(0,t.toggleQuestionEditLock)(t.question.id)},e.handleRedirectionCreatorShow=function(){e.props.question.reviewInfo.tips?e.handleReviewingNotification():e.setState({redirectionCreatorShown:!0})},e.handleRedirectionCreatorClose=function(){e.setState({redirectionCreatorShown:!1})},e.handleRedirectionCreated=function(t,n){var i=e.props,a=i.router,o=i.question.id,r=t.id;e.handleRedirectionCreatorClose(),n.then((function(){a.push("/question/".concat(r,"?rf=").concat(o))}))},e.handleCommentPermissionChange=function(t){var n=e.props;(0,n.updateQuestionPermission)(n.question.id,t)},e.handleShareMenuTogglerClick=function(){var t=e.props.question.reviewInfo;return!(t=void 0===t?{}:t).tips||(e.handleReviewingNotification(),!1)},e.toggleAnonymous=function(){var t=e.props,n=t.question.reviewInfo,i=n.tips,a=n.editTips,o=t.isCurrentAnswerCommercialReported;i?e.handleReviewingNotification():a?e.props.showNotification(a,"red"):o?e.props.showNotification("已经进行商业声明的内容不能启用匿名","red"):e.context.toggleAnonymous()},e.getQuestionStatus=function(){return Object(jt.c)(e.props.question.status)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.getHandleInvite;e&&e(this.handleInvite)}},{key:"componentWillReceiveProps",value:function(e){this.props.question.id!==e.question.id&&this.setState(Tn)}},{key:"shouldShowAnonymousMenuItem",get:function(){var e=this.context.currentUser;if(e&&!e.isOrg){var t=this.props,n=t.question,i=n.questionType,a=n.relationship.isAnonymous,o=t.allowCommercialAnonymousAnswer;if(a)return!0;if("normal"===i)return!0;if("commercial"===i&&o)return!0}return!1}},{key:"shouldShowMenu",get:function(){var e=this.props,t=e.question.questionType,n=e.permission.canBrandAdminEdit,i="commercial"===t;return!i||!(!i||!n)}},{key:"renderCommercialMenuItems",value:function(e){var t=this,n=this.props,a=n.permission.canBrandAdminEdit,o=n.question,r=o.status,c=(r=void 0===r?{}:r).isLocked,s=o.commentPermission,l=o.brandOpenStatus,u=o.brand,d=(u=void 0===u?{}:u).isPuQuestion;if(!a)return null;var b=Bn,h=En;return Object(i.c)(f.Fragment,{children:[b.map((function(n){var a=n.key,o=n.name,r=!s&&"all"===a||s===a;return Object(i.c)(un.b,{className:e,onClick:function(){return t.handleCommentPermissionChange(a)},children:[r&&Object(i.b)(rn.a,{className:"MenuItem-icon",text:!0,center:!0})," ",o]},a)})),Object(i.b)("li",{className:"Menu-divider"}),(d&&(h=[{key:"open",name:"开放回答"}]),Object(i.c)(i.a,{children:[!c&&h.map((function(n){var a=n.key,o=n.name,r=l===a;return Object(i.c)(un.b,{className:e,onClick:function(){return!r&&t.handleOpenStatusChange(a)},children:[r&&Object(i.b)(rn.a,{className:"MenuItem-icon",text:!0,center:!0})," ",o]},a)})),!d&&Object(i.b)(un.b,{className:e,onClick:t.handleLockClick,children:c?"开放回答":"关闭回答"}),Object(i.b)("li",{className:"Menu-divider"})]}))]})}},{key:"renderMobileMenuItems",value:function(e){var t=this.props,n=t.question.id,a=t.shouldOia;return e.map((function(e){var t=e.text,o=e.handler;return Object(i.b)(un.b,{onClick:a?function(){return Object(ct.e)(Object(Ot.a)({type:"question",id:n},{utm_content:"invite"}))}:o,children:t},t)}))}},{key:"renderLogMenuItem",value:function(){var e=this.props,t=e.question.id;return e.shouldOia?Object(i.b)(un.b,{onClick:function(){return Object(ct.e)(Object(Ot.a)({type:"question",id:t}))},children:"查看问题日志"}):Object(i.b)(un.b,{tag:ht.a,a:!0,to:"/question/".concat(t,"/log"),children:"查看问题日志"})}},{key:"render",value:function(){var e=this.state,t=e.invitationShown,n=e.reportShown,a=e.editLockShown,o=e.lockTipsShown,r=e.deleteShown,c=e.redirectionCreatorShown,s=this.props,l=s.question,u=s.question,d=u.id,b=u.title,h=u.answerCount,f=u.collapsedAnswerCount,p=u.relationship,m=p.isAuthor,v=p.isAnonymous,O=u.questionType,g=u.isEditable,y=u.author.urlToken,w=u.showEncourageAuthorEditLock,C=s.isMuteSpecial,x=s.isMuteFreeze,k=s.publicEditPermission,A=(k=void 0===k?{}:k).isQuestionRedirectEditable,S=s.currentUserUrlToken,R=s.permission.canBrandAdminEdit,N=s.editQuestionButton,T=this.context.currentUser,B="commercial"===O,E=T&&!m,I=T&&m&&"boolean"==typeof w,q=B?R:Boolean(m&&0===h&&0===f),z=[E&&{text:"举报",icon:cn.a,handler:this.handleReport}].filter(Boolean),M=y===S,P=Object(jt.e)(g,M,A),L=this.shouldShowAnonymousMenuItem,D=L||this.shouldShowMenu,Q=de()("QuestionHeader-menu-item",{"QuestionHeader-menu-item--com":B});return Object(i.c)("div",{className:"QuestionHeaderActions",children:[Object(i.b)(j.a,{as:G.c,zaText:!0,zaType:"Button",color:"grey",style:{marginRight:16},onClick:this.handleInvite,label:"邀请回答",icon:sn.a,disabled:C||x}),Object(i.b)(xn,{questionId:d,authRequired:this.context.authRequired}),Object(i.b)(wn,{question:l,handleReviewingNotification:this.handleReviewingNotification}),Object(i.b)(hn.a,{id:d,title:b,href:"/question/".concat(d),onTogglerClick:this.handleShareMenuTogglerClick,type:"question",disabled:C||x}),N,I&&Object(i.b)(Rn,{showModal:a,showEncourageAuthorEditLock:w,handleEditLockShown:this.handleEditLockShown,handleConfirmEditLock:this.handleConfirmEditLock}),D&&Object(i.c)(un.c,{toggler:Object(i.b)(G.c,{preset:"plain","aria-label":"更多",icon:ln.a}),menuClassName:"QuestionHeader-menu",itemClassName:Q,children:[!1,L&&Object(i.b)(un.b,{onClick:this.toggleAnonymous,children:v?"取消匿名身份":"使用匿名身份"}),B&&this.renderCommercialMenuItems(Q),q&&Object(i.b)(un.b,{onClick:this.handleDelete,children:"删除问题"}),P&&!T.isOrg&&"normal"===O&&Object(i.b)(un.b,{onClick:this.handleRedirectionCreatorShow,children:"问题重定向"}),!B&&this.renderLogMenuItem(),z.map((function(e){var t=e.text,n=e.handler,a=e.disabled;return Object(i.b)(un.b,{onClick:n,disabled:a,children:"举报问题"},t)}))]}),Object(i.b)(fn.a,{type:"question",urlToken:d,shown:n,status:this.getQuestionStatus(),onClose:this.handleReport,zaEnabled:!0}),Object(i.b)(W.b,{size:"fullPage",onClose:this.handleInvitationHide,children:t&&Object(i.b)(Ut.a,{question:l})}),Object(i.b)(bn.a,{title:B?"关闭回答":"锁定问题",subtitle:"".concat(B?"关闭":"锁定","后该问题将无法添加新回答，你确定要").concat(B?"关闭":"锁定","吗？"),shown:o,onCancel:this.handleLockTipsHide,onSubmit:this.handleUpdateQuestionLocked}),Object(i.b)(W.b,{size:"large",title:"问题重定向",onClose:this.handleRedirectionCreatorClose,children:c&&Object(i.b)(pn.a,{question:l,onSubmitted:this.handleRedirectionCreated})}),Object(i.b)(bn.a,{title:"删除问题",subtitle:"你确定要删除这个问题吗？相关的评论也将被删除。",onCancel:this.handleDeleteModalClose,onSubmit:this.handleConfirmDelete,shown:r})]})}}]),n}(f.PureComponent);In.contextTypes={currentUser:v.a.object,authRequired:v.a.func,toggleAnonymous:v.a.func};var qn=Object(E.compose)(a.withRouter,Object(O.connect)((function(e,t){return{shouldOia:Object(Q.shouldOiaSelector)(e),isMuteSpecial:Object(I.E)(t.question),isMuteFreeze:Object(I.D)(t.question),publicEditPermission:e.publicEditPermission,currentUserUrlToken:e.currentUser,permission:Object(I.cb)(e),allowCommercialAnonymousAnswer:"show"===Object(Q.abParamSelector)(e,"gue_anonymous"),isCurrentAnswerCommercialReported:Object(I.C)(e,t.question)}}),{deleteQuestion:I.l,deleteBrandQuestion:I.i,updateQuestionLocked:I.rb,toggleQuestionEditLock:I.jb,showNotification:V.h,updateQuestionPermission:I.sb,updateBrandQuestionOpenStatus:I.kb}))(In);function zn(e){var t=e.brand,n=e.noDivider,a=t.name,o=t.logo,r=t.target,c=t.description,s=t.typeDescription,l=r?"a":"div";return Object(i.c)("div",{className:de()("BrandQuestionSymbol",{"is-mobile":!1}),children:[Object(i.c)(l,Object.assign(Object.assign({className:"BrandQuestionSymbol-brandLink"},r&&{href:"/".concat("organization"===r.userType?"org":"people","/").concat(r.urlToken)}),{},{children:[Object(i.b)("img",{role:"presentation",src:o,className:"BrandQuestionSymbol-logo",alt:""}),Object(i.b)("span",{className:"BrandQuestionSymbol-name",children:a}),r&&Object(i.b)(je.c,{badge:r.badge})]})),Object(i.b)("span",{css:{marginLeft:5},children:c}),Boolean(s)&&Object(i.b)("span",{className:"BrandQuestionSymbol-typeDesc",children:s}),!n&&Object(i.b)("div",{className:"BrandQuestionSymbol-divider"})]})}var Mn=n(1481);function Pn(e,t){var n=new Date(e),i=new Date(t),a=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()),o=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate());return Math.floor((o-a)/864e5)}var Ln=Object.assign;var Dn=function(e){return p.a.createElement(ze.a,Ln({viewBox:"0 0 72 18"},e),p.a.createElement("g",{fillRule:"evenodd"},p.a.createElement("rect",{width:"72",height:"18",rx:"2"}),p.a.createElement("text",{fill:"#FFF",fontSize:"12",fontWeight:"500"},p.a.createElement("tspan",{x:"19",y:"13"},"有奖问答")),p.a.createElement("path",{fill:"#FFF",d:"M13.4 5.8H11a.4.4 0 01-.4-.3l.1-.4 1.6-1.7c.4-.4 1-.5 1.6-.2.5.3.8 1 .7 1.5-.2.6-.7 1-1.3 1zm0-1.9L13 4l-.7.8h1c.3 0 .5-.2.5-.4 0-.3-.2-.5-.5-.5zM10 6.4v1.5H5.8a.8.8 0 110-1.5H10zm.8 0h4.3a.8.8 0 010 1.5H11V6.4zM10 8.7v6H8.4c-.8 0-1.1-.2-1.5-.4-.3-.1-.5-.4-.7-.7-.2-.3-.3-.7-.3-1.5v-.9c0-.8.1-1.1.3-1.5l.7-.7c.4-.2.7-.3 1.5-.3h1.7zm.8 0h1.7c.8 0 1.1.1 1.5.3l.7.7c.2.4.3.7.3 1.5v1c0 .7-.1 1-.3 1.4-.2.3-.4.6-.7.7-.4.2-.7.3-1.5.3h-1.7V8.7zm-3.3-3c-.6 0-1.1-.4-1.3-1-.1-.5.2-1.2.7-1.5.5-.3 1.2-.2 1.6.2l1.6 1.7s.1.3 0 .4c0 .2-.2.2-.3.3H7.6zM8 4a.4.4 0 00-.5 0c-.2 0-.4.3-.3.5 0 .2.2.3.4.3h1L8 4z",fillRule:"nonzero"})))};function Qn(e){var t=["一","二","三"],n=function(){var t=e.question,n=t.id,o=t.prize,r=o.endTime,c=o.rule,s=o.status;return Object(i.c)("div",{className:"BrandQuestionPrizes-tips",children:[Object(i.c)("div",{className:"BrandQuestionPrizes-tip",children:[Object(i.c)("span",{className:"BrandQuestionPrizes-tipTitle",children:["活动时间","："]}),Mn.a(new Date(1e3*r),"yyyy-MM-dd HH:mm")," 截止"]}),Object(i.c)("div",{className:"BrandQuestionPrizes-tip",children:[Object(i.c)("span",{className:"BrandQuestionPrizes-tipTitle",children:["活动规则","："]}),c]}),Object(i.c)("div",{className:"BrandQuestionPrizes-tip",children:[Object(i.c)("span",{className:"BrandQuestionPrizes-tipTitle",children:["获奖公示","："]}),"ongoing"===s&&"获奖名单将在活动结束后公布","finished"===s&&"品牌开奖中，即将公布获奖名单","awarded"===s&&Object(i.b)(a.Link,{target:"_blank",to:"/organization/question/".concat(n,"/winners"),children:"查看获奖名单"}),!1]}),Object(i.c)("div",{className:"BrandQuestionPrizes-rule",children:["品牌方为本问题设置了有奖问答，添加回答即视为参与活动，并同意遵守",Object(i.b)("a",{className:"BrandQuestionPrizes-ruleLink",href:"https://www.zhihu.com/organization/ophelp/norm/53",target:"_blank",rel:"noopener noreferrer",children:"《有奖问答活动管理办法》"})]})]})},o=e.handleToggle,r=e.expanded,c=e.question,s=c.id,l=c.prize,u=c.relationship,d=(u=void 0===u?{}:u).isAuthor,b=c.permission,h=(b=void 0===b?{}:b).isSuperUser;if(!l||!l.status)return null;var f=l.endTime,p=l.prizes,m=l.status,v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=new Date(t),i=Math.floor(n.getTime()/1e3),a=e-i;if(a<0)return null;var o,r=0,c=1,s=60*c,l=60*s,u=24*l;if(a>u){var d=new Date(1e3*e);r=Pn(n,d),o="天"}else a>l?(r=Math.floor(a/l),o="小时"):a>s?(r=Math.floor(a/s),o="分钟"):(r=a,o="秒");return{quantity:r,unit:o}}(f);return Object(i.c)("div",{className:de()("BrandQuestionPrizes",{"is-mobile":!1}),children:[Object(i.c)("div",{className:"BrandQuestionPrizes-info",children:[Object(i.c)("div",{className:"BrandQuestionPrizes-bar",onClick:o,children:[Object(i.c)("div",{className:"BrandQuestionPrizes-desc",children:[Object(i.c)("div",{className:"BrandQuestionPrizes-symbol",children:[Object(i.b)(Dn,{alt:"logo",width:72,height:18,fill:"ongoing"===m?"#ff9607":"#999999"}),"ongoing"===m&&Object(i.c)("span",{children:["距离结束还有",Object(i.b)("em",{children:v.quantity}),v.unit]}),"finished"===m&&"待开奖","awarded"===m&&"已开奖"]}),Object(i.c)("div",{className:"BrandQuestionPrizes-name",children:["奖品：",p[0].name,p.length>1&&"等"]})]}),Object(i.c)("div",{className:"BrandQuestionPrizes-images",children:[p.map((function(e,t){var n=e.imageUrl;return n&&Object(i.b)("img",{src:n,alt:""},"BrandQuestionPrizes-images".concat(t))})),Object(i.b)(Je.a,{text:!0,center:!0,fill:"#9fadc7"})]})]}),r&&Object(i.b)("div",{className:"BrandQuestionPrizes-detail",children:p.map((function(e,n){var a=e.imageUrl,o=e.name,r=e.value,c=e.quantity;return Object(i.c)("div",{className:"BrandQuestionPrizes-prize",children:[Object(i.c)("div",{className:"BrandQuestionPrizes-intro",children:[a&&Object(i.b)("img",{className:"BrandQuestionPrizes-prizeImage",src:a,alt:""}),Object(i.c)("div",{className:"BrandQuestionPrizes-prizeInfo",children:[Object(i.c)("div",{className:"BrandQuestionPrizes-prizeName",children:[p.length>1&&"".concat(t[n],"等奖："),o]}),Object(i.c)("div",{className:"BrandQuestionPrizes-prizeValue",children:["价值 ¥ ",r]})]})]}),Object(i.c)("div",{className:"BrandQuestionPrizes-prizeQuantity",children:[c," 份"]})]},"BrandQuestionPrizes-prize".concat(n))}))}),r&&!1]}),r&&n(),r&&Object(i.b)("hr",{className:"BrandQuestionPrizes-split"}),(h||d)&&Object(i.c)(ht.a,{className:"BrandQuestionPrizes-edit",to:"/organization/question/".concat(s,"/setting/").concat("finished"===m?"winners":"prize"),children:["ongoing"===m&&"编辑有奖回答","finished"===m&&"填写获奖名单"]})]})}var Hn=n(434);function Fn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var Un=function(e){Object(d.a)(n,e);var t=Fn(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props.question,n=t.id,a=t.permission,o=void 0===a?{}:a,r=o.isSuperUser,c=o.canBrandAdminEdit,s=o.haveCard;return c||r?Object(i.b)(un.c,{className:"BrandQuestionSettingMenu",toggler:Object(i.b)(G.c,{children:"设置样式"}),children:Object(i.c)(f.Fragment,{children:[Object(i.b)(un.b,{className:"BrandQuestionSettingMenu-item",onClick:function(){e.context.router.push("/organization/question/".concat(n,"/setting/topbanner"))},children:"设置提问头图"}),Object(i.b)(un.b,{className:"BrandQuestionSettingMenu-item",onClick:function(){e.context.router.push("/organization/question/".concat(n,"/setting/prize"))},children:"编辑有奖问答"}),s&&Object(i.b)(un.b,{className:"BrandQuestionSettingMenu-item",onClick:function(){e.context.router.push("/organization/question/".concat(n,"/setting/advanced"))},children:"编辑品牌推荐"})]})}):null}}]),n}(f.Component);Un.contextTypes={currentUser:v.a.object,router:v.a.object};var Vn=Object(E.compose)(Object(O.connect)((function(e,t){return{question:e.entities.questions[t.question.id]}})),Hn.a)(Un),_n=n(850),Gn=n(1088),Wn=n(465);function Kn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var Zn=function(e){Object(d.a)(n,e);var t=Kn(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleFollow=function(){var t=e.props.pin,n=(t=void 0===t?{}:t).author.isFollowing?1977:1976;e.handleTrack(n)},e.handleTrack=function(t){var n=e.props.pin,i=(n=void 0===n?{}:n).author;le.a.trackEvent(Object(st.a)(e),{id:t},{button:{text:i.name}})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.target,i=n.type,a=n.id,o=t.getPinContents;"pin"===i&&o(a,{failsafe:!0}).then((function(t){var n=t.payload,i=(void 0===n?{}:n).author,a=(i=void 0===i?{}:i).name;le.a.trackCardShow(e,{id:1969},{button:{text:a}})}))}},{key:"render",value:function(){var e=this,t=this.props.pin;if(!t||!t.content)return null;var n=t.author,a=t.id,o=t.content[0].content.replace(/<a.*class="hash_tag".*?<\/a>/g,""),r=n||{},c=r.type,s=r.urlToken,l=r.isFollowing,u="https://www.zhihu.com/pin/".concat(a);return Object(i.c)("div",{className:"QuestionRelatedCard",children:[Object(i.b)("div",{className:"QuestionRelatedCard-title",children:"相关报道"}),Object(i.c)("div",{className:"QuestionRelatedCard-content",children:[Object(i.b)("span",{dangerouslySetInnerHTML:{__html:Object(Gn.truncateHTML)(o,110).content}}),u&&Object(i.b)("a",{className:"QuestionRelated-jump",href:u,onClick:function(){e.handleTrack(1975)},children:"查看详情"})]}),s&&Object(i.c)("div",{className:"QuestionRelatedCard-footer",children:[Object(i.c)("div",{children:["来自",Object(i.b)("a",{className:"QuestionRelatedCard-from",href:"https://www.zhihu.com/people/".concat(s),target:"_blank",rel:"noopener noreferrer",onClick:function(){e.handleTrack(1971)},children:n.name})]}),Object(i.b)("div",{role:"button",tabIndex:0,onClick:this.handleFollow,children:Object(i.c)(vt.a,{className:"QuestionRelatedCard-follow",type:c,id:s,isFollowing:l,children:[Object(i.b)(_n.a,{text:!0,center:!0},"icon"),"关注机构"]})})]})]})}}]),n}(f.Component);Zn.propTypes={target:v.a.shape({type:v.a.string,id:v.a.string}).isRequired};var Jn=Object(E.compose)(Object(O.connect)((function(e,t){return{pin:Object(Wn.g)(e,t.target.id)}}),{getPinContents:Wn.e}),Object(x.b)((function(e){return{module:"PinItem",card:{content:{type:"Pin",id:e.target.id}}}})))(Zn);function Yn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var Xn,$n,ei,ti,ni=function(e){Object(d.a)(n,e);var t=Yn(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.question.author;return Object(i.b)("div",{className:"OrgQuestionSymbol",children:Object(i.c)("div",{className:de()("OrgQuestionSymbol-inner",{"OrgQuestionSymbol-inner--mobile":!1}),children:[Object(i.c)("div",{className:"OrgQuestionSymbol-main QuestionHeader-main",children:[Object(i.b)("div",{className:"OrgQuestionSymbol-avatar",children:Object(i.b)(Ft.a,{user:e,avatar:!0,avatarProps:{size:38}})}),Object(i.c)("div",{className:"OrgQuestionSymbol-name",children:[Object(i.b)(Ft.a,{user:e})," 的提问"]})]}),Object(i.b)("div",{className:"OrgQuestionSymbol-tip",children:Object(i.b)(ht.a,{preset:"plain",a:!0,to:"/org-intro#org-question",target:"_blank",children:"了解机构提问"})})]})})}}]),n}(f.Component),ii=n(31),ai=n.n(ii),oi=n(435),ri=n.n(oi),ci=n(28),si=n.n(ci),li=n(207),ui=n.n(li),di=n(44),bi=n(204),hi=n(63),fi=n.n(hi),pi=n(66),mi=n(512),vi=n(83),Oi=n(888),ji=["data"],gi=["data","onVote","onVoteError"],yi=function(e,t){return Object(di.d)(ui()(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e();case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),t(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])}))))},wi=p.a.createContext({}),Ci=function(){return Object(f.useContext)(wi)},xi=function(e){var t=e.data,n=e.onVote,a=void 0===n?fi.a:n,o=e.onVoteError,r=void 0===o?fi.a:o,s=e.children,l=Object(f.useState)(t),u=si()(l,2),d=u[0],b=u[1],h=Object(f.useState)(!0),p=si()(h,2),m=p[0],v=p[1],O=d.urlToken,j=d.vote,g=function(e){var t=Object(mi.b)();return function(n,i){return t("https://www.zhihu.com/api/v4/topics/".concat(e,"/vote/").concat(n),{method:i})}}(O);Object(f.useEffect)((function(){return b(t)}),[t]);var y=function(){var e=ui()(c.a.mark((function e(t,n){var i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(null==j?void 0:j.totalVotes)||0,((null==j?void 0:j.liked)||(null==j?void 0:j.disliked))&&i--,a=Object.assign(Object.assign({},d),{},{vote:Object.assign(Object.assign({},j),{},{liked:t,disliked:n,totalVotes:i+(t||n?1:0)})}),e.next=5,pi.a.supportsAction("iOS/hapticFeedback");case 5:if(!e.sent){e.next=7;break}pi.a.dispatch("iOS/hapticFeedback");case 7:return b(a),v(!1),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=yi(ui()(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("like","POST");case 2:a(y(!0,!1));case 3:case"end":return e.stop()}}),e)}))),r),C=yi(ui()(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("like","DELETE");case 2:a(y(!1,!1));case 3:case"end":return e.stop()}}),e)}))),r),x=yi(ui()(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("dislike","POST");case 2:a(y(!1,!0));case 3:case"end":return e.stop()}}),e)}))),r),k=yi(ui()(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("dislike","DELETE");case 2:a(y(!1,!1));case 3:case"end":return e.stop()}}),e)}))),r),A=Object(f.useMemo)((function(){return{data:d,noAnimation:m,recommendVote:w,recommendUnVote:C,againstVote:x,againstUnVote:k}}),[k,x,C,w,d,m]);return Object(i.b)(wi.Provider,Object.assign({value:A},{children:s}),void 0)},ki=function(e,t,n){return function(t){var i=t.colors;return Object.assign({textDecoration:"none",border:e?"":"1px solid ".concat(i.GBK09A),borderRadius:e?"8px":"2px",fontSize:e?"13px":"15px",color:e?i.GBK06A:i.GBK02A},n&&{"*, *::before, *::after":{animation:"none !important"}})}},Ai=function(e,t){var n=null;if(e){var i="answer"===t;n={width:i?"30px":"48px",height:i?"40px":"66px"}}else n={width:"36px",height:"54px"};return Object.assign(Object.assign({},n),{},{flex:"0 0 auto",borderRadius:"3px",overflow:"hidden",objectFit:"cover",marginRight:"10px",filter:"brightness(.95)"})},Si=Object(qt.h)(Xn||(Xn=ri()(["\n50% { opacity: 1; transform: scale(2.5); }\nto { transform: scale(0.6); top: -5px; }\n"]))),Ri=Object(qt.h)($n||($n=ri()(["\n50% { opacity: 1; transform: scale(2.5); }\nto { transform: scale(0.6); bottom: -5px; }\n"]))),Ni=Object(qt.h)(ei||(ei=ri()(["\nfrom, 70%, to { transform: scale(1); }\n40% { transform: scale(1.2); }\n90% { transform: scale(1.05); }\n"]))),Ti=Object(qt.h)(ti||(ti=ri()(["to { transform: scale(1); }"]))),Bi=function(e){var t=e.colors;return{position:"relative",boxSizing:"content-box",borderRadius:"50%",border:"0.5px solid ".concat(t.GBK09A),cursor:"pointer",transition:"background-color .5s","::before":{content:'""',width:"40px",height:"40px",margin:"-20px",position:"absolute",top:"50%",left:"50%",borderRadius:"50%",background:t.GBK99A,opacity:"0.2",zIndex:0,transform:"scale(0)"},'&[aria-pressed="true"]':{"::before":{animation:"".concat(Ti," .5s ease-in-out")},".Icon":{animation:"".concat(Ni," .5s ease-in-out"),animationDelay:".5s"},".Sparkle":{"::before":{animation:"".concat(Si," .6s ease-in-out"),animationDelay:".2s"},"::after":{animation:"".concat(Ri," .6s ease-in-out"),animationDelay:".2s"}}}}},Ei=function(e){return{position:"absolute",top:0,left:0,width:"40px",height:"40px","::before, ::after":{content:'""',position:"absolute",marginLeft:"-1px",left:"50%",width:"2px",height:"2px",backgroundColor:e.colors.GBL01A,borderRadius:"50%",opacity:"0"},"::before":{top:"0"},"::after":{bottom:"0"},":nth-of-type(3)":{transform:"rotate(45deg)"},":nth-of-type(4)":{transform:"rotate(90deg)"},":nth-of-type(5)":{transform:"rotate(135deg)"}}},Ii={normal:"知友推荐",less:"评分积累中",close:"暂无评分"},qi=function(e){var t=e.vote,n=Object(bi.b)().Mobile;return!t||t.disable?null:Object(i.c)(Te.Text,{children:["normal"===t.ratioStatus&&Object(i.c)(Te.Text,Object.assign({as:"span",color:"GBL01A",fontSize:n?"inherit":"17px",fontWeight:"bold"},{children:[(100*t.score).toFixed(),"% "]}),void 0),Ii[t.ratioStatus]]},void 0)},zi=function(e){var t=e.vote,n=e.isTitle;return!t||t.disable||"close"===t.ratioStatus?null:Object(i.c)(Te.Text,{children:[n&&Object(i.b)(i.a,{children:" · "},void 0),"".concat(Object(Be.cnNiceNumber)(t.totalVotes),"人评价")]},void 0)},Mi=function(e){var t,n=e.topic,a=n.title,o=n.vote,r=Object(bi.b)().Mobile;return Object(i.c)(Te.Flex,Object.assign({alignItems:"baseline",css:(t=r,function(e){return{color:e.colors.GBK02A,".topicMetaTitle":{display:"inline-block",marginRight:t?0:"11px",fontWeight:"bold",fontSize:t?"15px":"17px"}}})},{children:[Object(i.b)(Te.Text,Object.assign({className:"topicMetaTitle"},{children:a}),void 0),!r&&Object(i.b)(qi,{vote:o},void 0),!r&&Object(i.b)(zi,{isTitle:!0,vote:o},void 0)]}),void 0)},Pi=function(e){var t=e.topic,n=e.lines,a=void 0===n?1:n;return Object(i.b)(Te.Text,Object.assign({color:"GBK06A",css:Object(vi.d)(a)},{children:t.excerpt}),void 0)},Li=function(e){var t=e.topic,n=e.position,a=t.vote,o=Object(bi.b)().Mobile,r=!a||a.disable;if(!o)return Object(i.b)(Pi,{topic:t},void 0);var c="question"===n;return r?Object(i.b)(Pi,{topic:t,lines:c?2:1},void 0):Object(i.c)(i.a,{children:[Object(i.b)(qi,{vote:a},void 0),c&&Object(i.b)(zi,{vote:a},void 0)]},void 0)},Di={recommend:{tip:"推荐",icon:Cn.a,color:"GBL01A"},against:{tip:"不推荐",icon:function(e){return Object(i.b)(Cn.a,Object.assign({css:{transform:"rotate(180deg)"}},e),void 0)},color:"GBK04A"}},Qi=[0,1,2,3].map((function(e){return Object(i.b)("div",{css:Ei,className:"Sparkle"},e)})),Hi=function(e){var t=e.className,n=e.checked,a=e.type,o=e.onClick,r=Di[a],c=r.tip,s=r.icon,l=r.color,u=Object(di.d)((function(e){e.preventDefault(),e.stopPropagation(),o("".concat(a).concat(n?"UnVote":"Vote"))}));return Object(i.c)(Te.Flex,Object.assign({as:"button",alignItems:"center",justifyContent:"center",width:"40px",height:"40px",p:0,bg:n?l:"GBK99A",color:n?"GBK99A":"GBL05A",css:Bi,className:t,"data-tooltip":c,"aria-pressed":n,"aria-label":c,onClick:u},{children:[Object(i.b)("div",Object.assign({className:"Icon"},{children:Object(i.b)(s,{size:20,center:!0},void 0)}),void 0),"recommend"===a&&Qi]}),void 0)},Fi=function(){var e,t,n=Ci(),a=n.data,o=ai()(n,ji),r=Object(di.d)((function(e){var t;null===(t=o[e])||void 0===t||t.call(o)}));return Object(i.c)(Te.Flex,Object.assign({flex:"0 0 auto",css:{margin:"0 12px"}},{children:[Object(i.b)(Hi,{css:{marginRight:"9px"},type:"recommend",checked:null===(e=null==a?void 0:a.vote)||void 0===e?void 0:e.liked,onClick:r},void 0),Object(i.b)(Hi,{type:"against",checked:null===(t=null==a?void 0:a.vote)||void 0===t?void 0:t.disliked,onClick:r},void 0)]}),void 0)},Ui=function(e){var t=e.className,n=e.position,a=e.onClick,o=Ci(),r=o.data,c=o.noAnimation,s=r.urlToken,l=r.avatar,u=r.title,d=void 0===u?"":u,b=r.vote,h=Object(di.d)((function(){null==a||a()})),f=Object(bi.b)().Mobile,p=b&&"close"!==b.ratioStatus;return Object(i.c)(Te.Flex,Object.assign({as:"a",alignItems:"center",bg:"GBK10A",p:"12px",className:t,css:ki(f,0,c),"aria-label":"话题 ".concat(d),target:"_blank",href:"https://www.zhihu.com/topic/".concat(s),onClick:h},{children:[l&&Object(i.b)("img",{alt:"",src:l,css:Ai(f,n)},void 0),Object(i.c)(Te.Flex,Object.assign({flexDirection:"column",flex:"1 1 auto",justifyContent:"space-around"},{children:[Object(i.b)(Mi,{topic:r},void 0),Object(i.b)(Li,{topic:r,position:n},void 0)]}),void 0),p&&Object(i.b)(Fi,{},void 0)]}),void 0)},Vi=function(e){var t=e.data,n=e.onVote,a=e.onVoteError,o=ai()(e,gi);return(null==t?void 0:t.title)?Object(i.b)(xi,Object.assign({data:t,onVote:n,onVoteError:a},{children:Object(i.b)(Ui,Object.assign({},o),void 0)}),void 0):null},_i=function(e){var t=e.className,n=e.data,a=n.avatar,o=n.urlToken,r=n.title,c=n.excerpt;return Object(i.c)(Te.Box,Object.assign({as:"a",display:"block",p:"20px 20px 12px",className:t,css:{textDecoration:"none",outlineOffset:"-1px"},"aria-label":"话题 ".concat(r),target:"_blank",href:"https://www.zhihu.com/topic/".concat(o)},{children:[Object(i.c)(Te.Flex,Object.assign({mb:"12px"},{children:[a&&Object(i.b)(Te.Image,{flex:"0 0 auto",width:"50px",height:"70px",overflow:"hidden",mr:"12px",css:{objectFit:"cover",borderRadius:"3px",filter:"brightness(.95)"},alt:"",src:a},void 0),Object(i.c)("div",{children:[Object(i.b)(Te.Text,Object.assign({color:"GBK02A",mb:"7px",fontSize:"15px",fontWeight:"bold",css:Object(vi.d)(1)},{children:r}),void 0),Object(i.b)(Te.Text,Object.assign({color:"GBK04A",fontSize:"14px",css:Object(vi.d)(2)},{children:c}),void 0)]},void 0)]}),void 0),Object(i.c)(Te.Text,Object.assign({color:"GBL07A",fontSize:"14px"},{children:["查看更多",Object(i.b)(Oi.a,{center:!0,size:22},void 0)]}),void 0)]}),void 0)},Gi=function(e){var t=e.data,n=Object(we.b)(),a=Object(o.a)(n,2),r=a[0],c=a[1];return Object(f.useEffect)((function(){c()}),[]),r?!t.vote||t.vote.disable?null:Object(i.b)(Vi,{css:{margin:"14px 0"},data:t,position:"question"}):null},Wi=Object.assign;var Ki=function(e){return p.a.createElement(ze.a,Wi({viewBox:"0 0 24 24"},e),p.a.createElement("path",{d:"M17.248 6.5H13.11a.71.71 0 01-.657-.446.731.731 0 01.154-.787l2.812-3.045a2.395 2.395 0 012.926-.392c.95.558 1.527 1.767 1.243 2.844A2.431 2.431 0 0117.248 6.5zm-.114-3.357a.798.798 0 00-.572.24l-1.265 1.474h1.95c.447 0 .695-.44.695-.893a.815.815 0 00-.808-.821zM11.286 7.61v2.857H3.429a1.429 1.429 0 010-2.857h7.857zm1.428 0h7.857a1.429 1.429 0 010 2.857h-7.857V7.611zm-1.428 4.286V22.61H6.23c-.892 0-1.215-.093-1.541-.267a1.817 1.817 0 01-.756-.756c-.175-.326-.267-.65-.267-1.54V14.46c0-.892.092-1.215.267-1.541.174-.326.43-.582.756-.756.326-.174.649-.267 1.54-.267h5.056zm1.428 0h5.055c.892 0 1.215.093 1.541.267.326.174.582.43.756.756.175.326.267.65.267 1.54v5.587c0 .892-.092 1.215-.267 1.541-.174.326-.43.582-.756.756-.326.174-.649.267-1.54.267h-5.056V11.897zM6.752 6.5a2.431 2.431 0 01-2.341-1.826c-.284-1.077.293-2.286 1.243-2.844a2.395 2.395 0 012.926.392l2.812 3.045a.731.731 0 01.153.787.711.711 0 01-.656.446H6.752zm.686-3.117a.798.798 0 00-.976-.13c-.317.185-.585.637-.49.996a.81.81 0 00.78.608h1.951L7.438 3.383z"}))};function Zi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var Ji=function(e){Object(d.a)(n,e);var t=Zi(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={remainedTime:null},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.totalCountdownTime,i=t.onFinish;"number"==typeof n?(this.setState({remainedTime:n}),this.timer=setInterval((function(){e.setState({remainedTime:e.state.remainedTime-5})}),5e3)):"function"==typeof i&&i()}},{key:"componentDidUpdate",value:function(){var e=this.props.onFinish;this.state.remainedTime<=0&&(clearInterval(this.timer),"function"==typeof e&&e())}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"renderCountdownTime",value:function(){var e=this.state.remainedTime;if(e<60)return Object(i.c)(f.Fragment,{children:["距结束不足 ",Object(i.b)("span",{children:"1"})," 分钟"]});var t,n,a=(t=e,n=Math.floor(t/60),{hours:Math.floor(n/60),minutes:n%60}),o=a.hours,r=a.minutes;return 0===o?Object(i.c)(f.Fragment,{children:["距结束还有 ",Object(i.b)("span",{children:r})," 分钟"]}):Object(i.c)(f.Fragment,{children:["距结束还有 ",Object(i.b)("span",{children:o})," 小时"," ",r>0&&Object(i.c)(f.Fragment,{children:[Object(i.b)("span",{children:r})," 分钟"]})]})}},{key:"render",value:function(){var e=this.props.className;return null===this.state.remainedTime?Object(i.b)("div",{className:e,children:"距结束还有"}):Object(i.b)("div",{className:e,children:this.renderCountdownTime()})}}]),n}(f.Component);function Yi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}Ji.propTypes={totalCountdownTime:v.a.number.isRequired,onFinish:v.a.func};var Xi,$i=function(e){Object(d.a)(n,e);var t=Yi(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={expanded:!1,bodyHeight:0},e.contentRef=Object(f.createRef)(),e.handleExpand=function(){var t=e.contentRef.current;e.setState({expanded:!0,bodyHeight:"".concat(t.offsetHeight+1,"px")}),le.a.trackEvent(Object(st.a)(e),{id:5036,action:"Expand"})},e.handleCollapse=function(){e.setState({expanded:!1,bodyHeight:0}),le.a.trackEvent(Object(st.a)(e),{id:5037,action:"Fold"})},e.handleClickHeader=function(){e.state.expanded?e.handleCollapse():e.handleExpand()},e.handleCountdownFinish=function(){var t=e.props;(0,t.removeBrandQuestionRedPacket)(t.questionId)},e}return Object(u.a)(n,[{key:"renderCountdown",value:function(){var e=this.props.redPacket,t=e.countDownType,n=e.countDownValue,a="".concat("CommercialAnswerRedPacket","-countdown");return 2===t?Object(i.b)(Ji,{className:a,totalCountdownTime:n,onFinish:this.handleCountdownFinish}):Object(i.c)("div",{className:a,children:["还剩 ",Object(i.b)("span",{children:Object(Be.cnNiceNumber)(n)}),"个红包"]})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.redPacket,a=n.title,o=n.image,r=n.iconText,c=n.content,s=this.state,l=s.expanded,u=s.bodyHeight;return Object(i.b)(x.a,{view:{id:5035},trackCardShow:!0,children:Object(i.c)("div",{className:de()("CommercialAnswerRedPacket",t,Object(ve.a)({},"".concat("CommercialAnswerRedPacket","--expanded"),l)),children:[Object(i.c)("div",{className:"".concat("CommercialAnswerRedPacket","-header"),role:"button",tabIndex:0,onClick:this.handleClickHeader,children:[Object(i.c)("div",{className:"".concat("CommercialAnswerRedPacket","-main"),children:[Object(i.c)("div",{className:"".concat("CommercialAnswerRedPacket","-subtitle"),children:[Object(i.c)("div",{className:"".concat("CommercialAnswerRedPacket","-badge"),children:[Object(i.b)("span",{children:Object(i.b)(Ki,{size:11})}),Object(i.b)("span",{children:r})]}),this.renderCountdown()]}),Object(i.b)("div",{className:"".concat("CommercialAnswerRedPacket","-title"),children:a})]}),Object(i.b)("div",{className:"".concat("CommercialAnswerRedPacket","-image"),children:Object(i.b)("img",{src:Object(Ee.imgUrl)(o,"xl"),alt:""})}),Object(i.b)("div",{className:"".concat("CommercialAnswerRedPacket","-icon"),children:l?Object(i.b)(re.a,{size:20}):Object(i.b)(Je.a,{size:20})})]}),Object(i.b)("div",{className:"".concat("CommercialAnswerRedPacket","-body"),style:{height:u},children:Object(i.b)("div",{ref:this.contentRef,className:"".concat("CommercialAnswerRedPacket","-content"),dangerouslySetInnerHTML:{__html:c}})})]})})}}]),n}(f.Component),ea=Object(O.connect)(null,{removeBrandQuestionRedPacket:I.gb})($i),ta=Object(q.a)(null)((function(e){var t,n,a,o=e.id,r=e.question,c=e.position,s=void 0===c?"top":c,l=function(e,t,n){var i=Object(O.useSelector)((function(t){var n,i;return null==t||null===(n=t.question)||void 0===n||null===(i=n.questionBanners)||void 0===i?void 0:i[e]})),a=Object(O.useDispatch)();return Object(f.useEffect)((function(){t&&a(Object(I.v)(e))}),[t,a,e]),null==i?void 0:i.filter((function(e){return e.position===n}))}(o,null==r?void 0:r.isBannered,s),u="normal"===r.questionType&&(null==l||null===(t=l[0])||void 0===t||null===(n=t.imagePc)||void 0===n?void 0:n[0]),d=null==l||null===(a=l[0])||void 0===a?void 0:a.verbPc;if(Object(f.useEffect)((function(){u&&le.a.trackCardShow(null,{id:7707},{button:{text:d}})}),[u,d]),!u)return null;var b=l[0],h=b.targetLinkPc,p=b.entryVerbPc,m=b.imagePc[0].url;return h&&d&&p&&m?Object(i.b)(Te.Link,{className:"Card",css:Object.assign({display:"block",fontSize:0,marginBottom:16},"top"===s?{width:654,height:54,borderRadius:4}:{width:296,height:90,borderRadius:"2px 2px 0 0"}),href:h,onClick:function(e){le.a.trackEvent(e.target,{id:7708,action:"OpenUrl"},{link:{url:h},button:{text:d}})},target:"_blank",children:Object(i.b)(Te.Image,{alt:p,src:m,css:{height:"100%",width:"100%",objectFit:"cover"}})}):null})),na=n(504);function ia(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var aa=function(e){Object(d.a)(n,e);var t=ia(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={collapsed:!0,editShown:!1,invitationTipShown:!1,brandQuestionPrizesExpanded:!1},e.getHandleInvite=function(t){t&&(e.handleInvite=t)},e.handleExpand=function(){e.setState({collapsed:!1}),le.a.trackEvent(null,{id:6783,action:"Click"})},e.handleCollapse=function(){e.setState({collapsed:!0,shareMenuPositionStatus:"normal"})},e.handleEditShow=e.context.authRequired((function(){var t=(e.props.question.reviewInfo||{}).editTips;t?e.props.showNotification(t,"red"):e.setState({editShown:!0})})),e.handleEditClose=function(){e.setState({editShown:!1})},e.handleInvitationShow=function(){e.setState({invitationModalShown:!0})},e.handleInvitationHide=function(){e.setState({invitationModalShown:!1})},e.handleInvitationTipShow=function(){e.setState({invitationTipShown:!0})},e.handleInvitationTipClose=function(){e.setState({invitationTipShown:!1})},e.handleRedirectionCreatorShow=function(){e.setState({redirectionCreatorShown:!0})},e.handleRedirectionCreatorClose=function(){e.setState({redirectionCreatorShown:!1})},e.handleRedirectionCreated=function(t,n){var i=e.props,a=i.router,o=i.question.id,r=t.id;e.handleRedirectionCreatorClose(),n.then((function(){a.push("/question/".concat(r,"?rf=").concat(o))}))},e.handleDelete=function(){var t=e.props,n=t.question.id,i=t.isCommercialQuestion,a=t.deleteQuestion,o=t.deleteBrandQuestion;return i?o(n).then((function(){location.href="/"})):a(n).then((function(){location.href="/"}))},e.handleConfirmDelete=function(){e.handleDeleteModalClose(),e.handleDelete()},e.handleDeleteModalShow=function(){e.setState({deleteModalShown:!0})},e.handleDeleteModalClose=function(){e.setState({deleteModalShown:!1})},e.handlePositionStatusChange=function(t){e.setState({shareMenuPositionStatus:t})},e.handleUpdateQuestionLocked=function(){var t=e.props,n=t.question.id;(0,t.updateQuestionLocked)(n)},e.handleLockTipsShow=function(){return e.setState({lockTipsShown:!0})},e.handleLockTipsHide=function(){return e.setState({lockTipsShown:!1})},e.handleBrandQuestionPrizesToggle=function(){e.setState({brandQuestionPrizesExpanded:!e.state.brandQuestionPrizesExpanded})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=(e.isAnswerPage,e.question.id),n=e.isCommercialQuestion,i=e.loadBrand,a=e.loadQuestionCommercialBanner,o=e.loadBrandQuestionRedPacket,r=e.loadBrandQuestionPermission,c=e.loadBrandQuestionOpenStatus,s=e.loadBrandQuestionAdvancedStyle,l=e.loadBrandQuestionPrize,u=this.context.currentUser;this.context.currentUser&&Object(be.c)("question",t,be.a),n&&(i(t),a(t),s(t),o(t).then((function(e){e&&e.payload||l(t)})),u&&"guest"!==u.userType&&(r(t),c(t)))}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.question.id,i=t.isAnswerPage,a=e.question,o=a.id,r=a.relationship.isAnonymous,c=e.isAnswerPage;!this.state.collapsed&&e.question&&this.props.question&&e.question.detail.length!==this.props.question.detail.length&&this.setState({collapsed:!0,editShown:!1}),n===o&&i===c||this.setState({collapsed:!0,invitationTipShown:!1}),r||this.setState({invitationTipShown:!1})}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.collapsed,i=t.collapsed;if(n&&!i){var a=this.container.getBoundingClientRect().top;window.scrollTo(0,window.pageYOffset+a-document.documentElement.clientHeight)}}},{key:"hasExtraContentUnderAuthor",get:function(){var e=this.props,t=e.question,n=e.isCommercialQuestion,i=e.topicMeta,a=t.relatedCards,o=void 0===a?[]:a,r=t.annotationDetail,c=t.redPacket,s=t.prize;return r||o[0]||c||(null==s?void 0:s.status)||i.urlToken&&!n}},{key:"renderEditModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.permitEditTopics,n=this.props,a=n.question,o=n.brand,r=a.id,c=a.title,s=a.editableDetail,l=a.topics,u=a.questionType,d=a.relationship.isAnonymous,b=this.state.editShown;return Object(i.b)(Ze.a,{id:r,title:c,detail:s,topics:l,questionType:u,isAnonymous:d,show:b,onClose:this.handleEditClose,brand:o,permitEditTopics:t})}},{key:"renderFooter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.permitEditQuestion,n=e.permitEditTopics,a=this.props,o=a.question,r=a.isCommercialQuestion,c=this.state.collapsed,s=this.context.currentUser,l=r&&!0;return Object(i.c)("div",{className:"QuestionHeader-footer",children:[Object(i.b)("div",{className:"QuestionHeader-footer-inner",children:Object(i.c)("div",{className:"QuestionHeader-main QuestionHeader-footer-main",children:[Object(i.b)(Ct,{question:o}),l&&Object(i.b)(Vn,{question:o}),Object(i.b)(qn,{question:o,onInvitationTipShow:this.handleInvitationTipShow,getHandleInvite:this.getHandleInvite,editQuestionButton:t&&Object(i.b)(nt,{onClick:this.handleEditShow,text:"修改问题"})}),Object(i.b)("div",{className:"QuestionHeader-actions",children:!c&&Object(i.c)(G.c,{preset:"plain",onClick:this.handleCollapse,children:["收起 ",Object(i.b)(re.a,{center:!0})]})})]})}),s&&this.renderEditModal({permitEditTopics:n})]})}},{key:"renderSpecialQuestionAuthor",value:function(){var e=this.props.question.author;return Object(i.c)(f.Fragment,{children:[Object(i.b)(ye,{className:"QuestionHeader-specialQuestionAuthor",author:e}),Object(i.b)("div",{className:"QuestionHeader-topicDivider"})]})}},{key:"render",value:function(){var e=this,t=this.props,n=t.location,a=t.question,o=t.isAnswerPage,r=t.isCommercialQuestion,c=t.isOrgQuestion,s=t.isAuthorCurrentUser,l=t.brand,u=t.publicEditPermission,d=t.topicMeta,b=t.permission.canBrandAdminEdit,h=a.title,f=a.detail,p=a.topics,m=void 0===p?[]:p,v=a.author,O=a.showAuthor,g=a.showEncourageAuthor,y=a.excerpt,w=a.thumbnailInfo,C=a.isEditable,k=a.id,A=a.reviewInfo,S=a.relatedCards,R=void 0===S?[]:S,N=a.annotationDetail,T=a.redPacket,B=a.isVisible,E=a.relationship.isAuthor,I=this.state,q=I.collapsed,z=I.invitationTipShown,M=I.brandQuestionPrizesExpanded,P=this.context.currentUser,L=m.map((function(e){return{name:e.name,id:e.id}})),D=u||{},Q=D.isQuestionEditable,H=D.isQuestionTopicEditable,F=Object(jt.e)(C,s,Q)||b,U=Object(jt.e)(C,s,H)||b,V=this.renderFooter({permitEditQuestion:F,permitEditTopics:U}),_=P&&"guest"!==P.userType;return Object(i.c)("div",{"data-zop-question":JSON.stringify({title:h,topics:L,id:k,isEditable:C}),children:[Object(i.b)(fe.a,{children:Object(i.b)(Gt,{question:a,location:n,invitationTipShown:z,onInvitationTipClose:this.handleInvitationTipClose,isAnswerPage:o})}),r&&(!q||!o)&&Object(i.b)(me.a,{type:a.type,id:a.id}),Object(i.b)(x.a,{module:"QuestionDescription",card:{content:{type:"Question",token:String(k)}},children:Object(i.c)("div",{children:[!1===B&&E&&Object(i.c)("div",{className:"QuestionReviewing",children:[Object(i.b)("div",{className:"QuestionReviewing-title",children:"内容审核中"}),Object(i.b)("div",{className:"QuestionReviewing-text",children:"内容将在审核通过后自动发布"})]}),Object(i.c)("div",{className:"QuestionHeader",ref:function(t){e.container=t},children:[Object(i.c)("div",{className:"QuestionHeader-content",children:[Object(i.c)("div",{className:"QuestionHeader-main",children:[Object(i.b)(ta,{id:k,question:a}),Object(i.c)("div",{className:"QuestionHeader-tags",children:[r&&Object(i.b)(zn,{brand:l}),Object(i.c)("div",{className:"QuestionHeader-topics",children:[Boolean(O&&!(r&&null!=l&&l.name))&&this.renderSpecialQuestionAuthor(),m.map((function(e){return Object(i.b)(Ke,{item:e},e.id)}))]})]}),Object(i.c)("h1",{className:"QuestionHeader-title",children:[c&&oe()(Xi||(Xi=Object(ie.a)(["","提问："])),v.name),h]}),Boolean(!O&&!c&&!r&&g)&&Object(i.b)(Re,{question:a,isAuthorCurrentUser:s,hasExtraContent:this.hasExtraContentUnderAuthor}),Object(i.b)(pe.a,{item:a,annotationProps:N&&{annotationDetail:N}}),R[0]&&Object(i.b)(Jn,{target:R[0]}),T&&Object(i.b)(ea,{questionId:k,redPacket:T}),Object(i.b)(Qn,{question:a,expanded:M,handleToggle:this.handleBrandQuestionPrizesToggle}),Object(i.c)(we.a,{children:[!r&&Object(i.b)(Gi,{data:d}),Object(i.b)(Ue,{questionId:k,isInAnswerPage:o})]}),Object(i.b)(rt,{html:f,reviewInfo:A,excerpt:y,thumbnailInfo:w,collapsed:q,onExpand:this.handleExpand,onEdit:this.handleEditShow,isVisible:B,isAuthor:E})]}),Object(i.b)("div",{className:"QuestionHeader-side",children:Object(i.b)("div",{className:"QuestionHeader-follow-status",children:Object(i.b)(on,{question:a})})})]}),q?V:Object(i.b)(ce.a,{bottom:!0,container:function(){return e.container},onPositionStatusChange:this.handlePositionStatusChange,children:V}),c&&Object(i.b)(ni,{question:a})]})]})}),Object(i.b)(he.a,{children:Object(i.c)("div",{className:de()("QuestionHeader-content",{isLogin:_}),children:[Object(i.b)("div",{className:"QuestionHeader-main",children:Object(i.b)("h1",{className:"QuestionHeader-title",onClick:function(){Object(se.scrollTo)(window,{top:0,behavior:"smooth"})},children:h})}),Object(i.b)(j.b,{block:"Toolbar",children:Object(i.b)(x.a,{module:"ToolBar",card:{content:{type:"Question",token:String(k)}},children:Object(i.b)("div",{className:"QuestionHeader-side",children:Object(i.b)(Ct,{question:a,inTopBar:!0})})})}),Object(i.b)("div",{className:"QuestionHeader-profile",children:Object(i.b)(na.a,{currentUser:P})})]})})]})}}]),n}(f.PureComponent);aa.contextTypes={authRequired:v.a.func,currentUser:v.a.object},aa.propTypes={question:v.a.object,location:v.a.object,isAnswerPage:v.a.bool};var oa=Object(E.compose)(a.withRouter,Object(O.connect)((function(e,t){var n=e.question.brand,i=e.publicEditPermission,a=e.currentUser,o=t.question,r=o.questionType,c=o.author;return{brand:n,publicEditPermission:i,currentUserUrlToken:a,permission:Object(I.cb)(e),isCommercialQuestion:"commercial"===r,isOrgQuestion:"org"===r,isAuthorCurrentUser:Object(H.i)(e,c)}}),{loadBrand:I.I,updateQuestionLocked:I.rb,deleteQuestion:I.l,deleteBrandQuestion:I.i,showNotification:V.h,loadQuestionCommercialBanner:I.U,loadBrandQuestionRedPacket:I.O,loadBrandQuestionPermission:I.M,loadBrandQuestionOpenStatus:I.L,loadBrandQuestionAdvancedStyle:I.J,loadBrandQuestionPrize:I.N}))(aa),ra=n(1217),ca=n(1440);function sa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}function la(e){var t=e.toString();return 1===t.length?"0".concat(t):t}var ua=function(e){var t=Object(k.parseInputTime)(e);return t?"".concat(t.getFullYear(),"-").concat(la(t.getMonth()+1),"-").concat(la(t.getDate()),"T").concat(la(t.getHours()),":").concat(la(t.getMinutes()),":").concat(la(t.getSeconds())):""};function da(){var e=document.querySelector("#js-answerAddCard");e?e.scrollIntoView({block:"end"}):window.scrollTo(0,0)}var ba=function(e){Object(d.a)(n,e);var t=sa(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={anonymousConfirmShown:!1,answering:!1,hideIsMutedCover:!1,signFlowModalShown:!1},e.editableStatscReporter=Object(ra.c)("AnswerPage"),e.getPublicEditPermission=function(){var t=e.props,n=t.question,i=t.currentUserUrlToken,a=t.getPublicEditPermission,o=C()(n,"author.urlToken","");C()(n,"isEditable",!1)&&i&&o!==i&&a()},e.handleToggleAnonymous=function(){var t=e.props,n=t.showNotification,i=t.reward.question,a=void 0===i?{}:i,o=t.id;o&&a[o]&&a[o].isRewardable?n("已开启赞赏的回答无法设为匿名，请先关闭赞赏","red"):e.setState({anonymousConfirmShown:!e.state.anonymousConfirmShown})},e.startAddAnswer=function(){var t=e.props,n=t.params.answerId,i=t.location.query.group_id;n||i?(e.context.router.push("/question/".concat(e.props.id)),setTimeout(e.focusAddAnswer)):e.focusAddAnswer()},e.endAddAnswer=function(){e.setState({answering:!1})},e.focusAddAnswer=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];da(),e.setState({answering:Date.now()},(function(){t&&setTimeout(da)}))},e}return Object(u.a)(n,[{key:"getChildContext",value:function(){return{toggleAnonymous:this.handleToggleAnonymous,startAddAnswer:this.startAddAnswer,endAddAnswer:this.endAddAnswer}}},{key:"componentDidMount",value:function(){var e=this;Object(ra.d)();var t,n=this.props,i=n.question,a=n.answer,o=n.draft,r=n.currentUser,l=n.params,u=n.attachedArticleId,d=n.loadAttachedArticleToDraft,b=n.location;(!(t=null==a?void 0:a.updatedTime)||Date.now()-1e3*t>6e4)&&Object(D.loadScript)("https://zz.bdstatic.com/linksubmit/push.js",{crossOrigin:void 0}),function(){var t=Object(s.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Object(jt.f)(b),t.prev=1,!i){t.next=7;break}return t.next=5,e.fetchDraft();case 5:t.next=9;break;case 7:return t.next=9,e.fetchQuestionAndDraft();case 9:if(!e.props.params.answerId){t.next=11;break}return t.abrupt("return");case 11:if(!u){t.next=14;break}return t.next=14,d(l.id,u);case 14:(o&&!o.schedule||!o&&n||u)&&e.focusAddAnswer(n||u),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(1),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[1,17]])})));return function(){return t.apply(this,arguments)}}()(),this.getPublicEditPermission(),r&&"guest"!==r.userType||this.setState({signFlowModalShown:!0})}},{key:"componentDidUpdate",value:function(e){this.props.params.id!==e.params.id&&this.fetchQuestionAndDraft()}},{key:"componentWillUnmount",value:function(){this.subscription&&this.subscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe()}},{key:"fetchQuestionAndDraft",value:function(){var e=this.props,t=e.id,n=e.loadQuestion;return Promise.all([n(t),this.fetchDraft()])}},{key:"fetchDraft",value:function(){var e,t=this.props.loadDraft;return this.context.currentUser&&(e=t(this.props.params.id)),this.setState({anonymousConfirmShown:!1}),e}},{key:"renderMeta",value:function(){var e=this.props.question,t=Object(jt.d)(e);return Object.keys(t).map((function(e){return Object(i.b)("meta",{itemProp:e,content:t[e]},e)}))}},{key:"renderJSONLD",value:function(){var e=this.props,t=e.location,n=e.question,a=e.answer,r=e.params.answerId,c=e.ua;if(!/baiduspider/i.test(c.origin))return null;var s=Boolean(r),l=s?a:n;if(l){var u=s?[l.createdTime,l.updatedTime]:[l.created,l.updatedTime],d=Object(o.a)(u,2),b=d[0],h=d[1],f=ua(b),p=ua(h);return Object(i.b)("script",{type:"application/ld+json",children:'\n        {\n          "@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",\n          "@id": "https://www.zhihu.com'.concat(t.pathname,'",\n          "appid": "否",\n          "pubDate": "').concat(f,'",\n          "upDate": "').concat(p,'"\n        }')})}}},{key:"handleSignFlowModalClose",value:function(){this.setState({signFlowModalShown:!1})}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.location,o=n.params,r=n.children,c=n.question,s=n.router.location.query,l=n.topicMeta,u=n.answer,d=n.firstAnswer,b=Boolean(o.answerId);if(!c)return Object(i.b)("div",{});if("true"===s.answer_deleted_redirect)return Object(i.b)(ne,{id:c.id});var h=c.questionType,p=c.isMuted,m=c.title,v=c.relationship,O=v.isAuthor,g=v.myAnswer,w=c.visibleOnlyToAuthor;if(!b&&!O&&w||b&&null!=u&&u.visibleOnlyToAuthor&&(null==u||null===(e=u.relationship)||void 0===e||!e.isAuthor))return Object(i.b)(B,{});var C=this.state,k=C.anonymousConfirmShown,A=C.answering,S=C.hideIsMutedCover,R=C.signFlowModalShown,N=b?u:c;return Object(i.b)(j.b,{content:{type:"Question",token:String(null==c?void 0:c.id)},children:Object(i.b)(x.a,{module:"QuestionItem",card:{content:{type:"Question",token:String(c.id)}},children:Object(i.b)(Y,{isQAPage:!b,children:Object(i.c)("div",{className:"QuestionPage",itemScope:!0,itemProp:"mainEntity",itemType:"http://schema.org/Question",children:[N&&Object(i.b)(M,{entity:N}),R&&Object(i.b)(_.b,{showQrcodeFirst:!0,titlePart:Object(i.b)(ca.a,{title:"登录知乎，问答干货一键收藏"}),maskClosable:!1,defaultType:"login",onClose:function(){t.handleSignFlowModalClose()}}),Object(i.b)(y.a,Object.assign({title:m},!b&&{meta:Object(L.c)(c,d)})),this.renderMeta(),this.renderJSONLD(),"commercial"===h&&p&&!S&&O&&Object(i.b)("div",{className:"QuestionPage-commercialIsMutedCover",onClick:function(){t.setState({hideIsMutedCover:!0})}}),w&&O&&!b&&Object(i.b)("div",{className:"QuestionPage-visibleYourself",children:"仅自己可见"}),Object(i.b)(oa,{topicMeta:l,question:c,location:a,isAnswerPage:b}),Object(i.b)(ra.b.Provider,{value:this.editableStatscReporter,children:Object(f.cloneElement)(f.Children.only(r),{question:c,answering:A})}),Object(i.b)(J,{question:c,myAnswer:g,shown:k,onClose:this.handleToggleAnonymous})]})})})})}}]),n}(f.PureComponent);ba.fetchData=function(e){var t=e.dispatch,n=e.getState,i=e.params,a=i.id,o=i.answerId,r=e.location,c=e.location,s=c.query,l=c.pathname;if("3"===Object(Q.abParamSelector)(n(),"pc_fullsize")&&Object(jt.f)(r)){var u=S()(s,["write"]),d=new Error;throw d.status=302,d.redirect=Object(P.a)(o?l+"/edit":l+"/write",u),d}return n().env.userAgent.isBot?Promise.all([t(Object(I.ab)(a,o)),t(Object(I.bb)(a)),t(Object(I.T)(a))]):t(Object(I.T)(a))},ba.contextTypes={router:v.a.object,currentUser:v.a.object,authRequired:v.a.func},ba.childContextTypes={toggleAnonymous:v.a.func,startAddAnswer:v.a.func,endAddAnswer:v.a.func};var ha=Object(O.connect)((function(e,t){var n=t.params,i=n.id,a=n.answerId,o=t.location.query,r=e.question.topicMeta,c=e.entities.drafts,s=void 0===c?{}:c,l=e.env,u=l.referer,d=l.userAgent,b=e.reward,h=void 0===b?{}:b,f=e.currentUser,p=Boolean(a);return Object.assign({id:i,topicMeta:r[i]||{},question:Object(I.eb)(e,{id:i}),attachedArticleId:o.attach_to_article,reward:h,draft:s["question_".concat(i)],referer:u,ua:d,currentUserUrlToken:f,currentUser:Object(H.b)(e)},p?{answer:Object(U.c)(e,{id:a})}:{firstAnswer:Object(U.j)(e,{id:i})})}),{loadQuestion:I.T,loadDraft:I.Q,loadAttachedArticleToDraft:I.F,showNotification:V.h,getPublicEditPermission:F.b})(ba),fa=n(889),pa=n(416),ma=n(1155),va=n(1204),Oa=function(e){var t,n,a,r=e.question,c=r.id,s=r.title,l=r.person,u=e.headerInfo,d=e.enableIgnore,b=e.extraFooterInfo,h=e.button,p=e.handleIgnoreQuestion,m=void 0===p?fi.a:p,v="https://www.zhihu.com/question/".concat(c),O=Object(j.i)().trackEvent,g=Object(f.useState)(!1),y=Object(o.a)(g,2),w=y[0],C=y[1];return Object(i.b)(j.b,{content:{type:"Question",token:String(c)},children:Object(i.c)(j.e,{zaType:"Card",as:Te.Flex,zaText:s,justifyContent:"space-between",alignItems:"center",css:function(e){return{padding:"22px 0px",borderBottom:"1px solid ".concat(e.colors.GBK09A),position:"relative"}},onMouseEnter:function(){C(!0)},onMouseLeave:function(){C(!1)},children:[Object(i.c)(Te.Box,{css:{flex:"1"},children:[Object(i.c)(Te.Flex,{mb:12,color:"GBL05A",alignItems:"center",css:{fontSize:"15px"},children:[Object(i.b)("img",{alt:"",css:{width:"20px",height:"20px",borderRadius:"50%",marginRight:"8px"},src:null==u||null===(t=u.avatar)||void 0===t?void 0:t.url}),Boolean(l||(null==u||null===(n=u.avatar)||void 0===n?void 0:n.people))&&Object(i.c)(Te.Flex,{alignItems:"center",css:function(e){return{color:e.colors.GBK03A,marginRight:"6px",fontSize:"14px",fontWeight:"16px"}},children:[Object(i.c)(Te.Flex,{alignItems:"center",css:function(e){return{color:e.colors.GBK03A}},children:[l||(null==u||null===(a=u.avatar)||void 0===a?void 0:a.people),null!=u&&u.labels?Object(i.b)(Te.Flex,{css:function(e){return{marginBottom:"3px",padding:"1px 2px",marginLeft:"4px",marginRight:"8px",color:e.colors.GBL01A,fontSize:"12px",border:"1px solid ".concat(e.colorMod(e.colors.GBL01A).alpha(.2)),borderRadius:"2px"}},children:null==u?void 0:u.labels}):null," ","邀请你回答"===(null==u?void 0:u.invite)?"":"的提问"]}),Object(i.b)(Te.Flex,{css:function(e){return{color:e.colors.GBK06A,marginLeft:"6px",lineHeight:"21px"}},children:null==u?void 0:u.createdTime}),Object(i.b)(Te.Flex,{css:function(e){return{color:e.colors.GBK06A,marginLeft:"6px"}},children:null==u?void 0:u.invite})]}),d&&w&&Object(i.b)(G.c,{css:{position:"absolute",top:"12px",right:"0"},className:"QuestionItem-ignoreButton",preset:"plain","data-tooltip":"不感兴趣","aria-label":"不感兴趣","data-tooltip-preset":"white","data-tooltip-classname":"QuestionItem-ignoreButtonTooltip",color:"GBL07A",icon:Lt.a,onClick:function(){m(c),O({eventType:"Click",elementLocation:{type:"Button",text:"不感兴趣",content:{type:"Question",token:String(c)}}})}})]}),Object(i.b)(va.b,{item:{question:{url:v,title:s}}}),Object(i.b)(Te.Flex,{css:function(e){return{color:e.colors.GBK06A,fontSize:"14px"}},children:b})]}),h||Object(i.b)(ht.a,{css:function(e){return{width:"96px",height:"28px",lineHeight:"26px",borderRadius:"3px",color:e.colors.GBK99B,padding:0,border:"1px solid ".concat(e.colors.GBL01A),backgroundColor:e.colors.GBL01A,boxSizing:"border-box"}},icon:et.a,label:"写回答",href:"".concat(v,"#write"),target:"_blank",onClick:function(){O({action:"OpenUrl",eventType:"Click",elementLocation:{type:"Button",text:"写回答",content:{type:"Question",token:String(c)}}},{link:{url:"".concat(v,"#write")}})}})]})})};var ja=function(e){var t=e.type,n=e.index,o=e.onClick,r=e.enablingTypeName,c=e.totals,s=t.name,l=t.text,u=t.queryName,d=t.icon,b=s===r;return Object(i.c)(a.Link,{className:de()("QuestionType","QuestionWaiting-type",{"QuestionType--active":b}),role:"tab","aria-selected":b,"aria-setsize":c,"aria-posinset":n+1,to:u?"/question/waiting?type=".concat(u):"/question/waiting","data-za-detail-view-id":5362,"data-za-extra":JSON.stringify({button:{text:l}}),onClick:o,children:[Object(i.b)(d,{className:"QuestionType-icon",size:18}),l]})},ga=n(608);var ya=Object(a.withRouter)(Object(O.connect)((function(e,t){var n=t.location.query.type;return{allWaitingQuestions:e.question.waitingQuestions,defaultType:ga.b.find((function(e){return e.queryName===n}))||ga.b[0]}}),{getWaitingQuestions:I.z,getWaitingInvitedQuestions:I.y,deleteWaitingQuestion:I.m,ignoreToolsQuestionInvite:I.B})((function(e){var t=e.allWaitingQuestions,n=e.defaultType,a=e.getWaitingQuestions,r=e.getWaitingInvitedQuestions,c=e.deleteWaitingQuestion,s=e.ignoreToolsQuestionInvite,l=Object(f.useRef)(null),u=Object(f.useState)(n.name),d=Object(o.a)(u,2),b=d[0],h=d[1],p=Object(f.useState)(ga.b.reduce((function(e,t){var n=t.name;return Object.assign(Object.assign({},e),{},Object(ve.a)({},n,0))}),{})),m=Object(o.a)(p,2),v=m[0],O=m[1],j=t[b].paging,g=function(){return r(null!=j&&j.next?j.next:"notifications/v3/timeline/entry/invite?invite_with_time_slice=1&limit=20&offset=0")},w=Object(f.useState)(new Set),C=Object(o.a)(w,2),x=C[0],k=C[1],A=t[b],S=A.isEnd,R=A.isLoading,N=A.questions.filter((function(e){var t=Object(ga.a)(e,b).question,n=t.ignoreId,i=t.id;return!x.has(n||i)}));return Object(i.c)("div",{className:"QuestionWaiting",children:[Object(i.b)(y.a,{title:"等你来答"}),Object(i.c)(fa.d,{role:"region","aria-label":"问题列表",className:"QuestionWaiting-mainColumn",children:[Object(i.b)(ce.a,{offset:62,children:function(e){var n=e.isFixed;return Object(i.c)("div",{className:de()("QuestionWaiting-typesContainer",{"QuestionWaiting-typesContainer--fixed":n}),children:[n&&Object(i.b)("div",{className:"QuestionWaiting-typesTopper"}),Object(i.b)("div",{role:"tablist","aria-label":"问题分类",className:de()("QuestionWaiting-types",{"QuestionWaiting-types--fixed":n}),children:ga.b.map((function(e,n){return Object(i.b)(ja,{totals:ga.b.length,type:e,index:n,enablingTypeName:b,onClick:function(){return function(e){O(Object.assign(Object.assign({},v),{},Object(ve.a)({},b,window.pageYOffset)));var n=e.name,i=e.request,o=i.endpoint,r=i.query;t[e.name].questions.length||("invite"!==e?a({type:n,endpoint:o,query:r}):g()),h(n),window.scrollTo(0,v[n])}(e)}},e.name)}))})]})}}),Object(i.b)(pa.b,{ref:l,className:"QuestionWaiting-questions",onLoad:function(){"invite"===b?g():a({type:b,endpoint:n.request.endpoint,query:n.request.query,offset:N.length})},isLoading:R,placeholder:Object(i.b)(pa.a,{className:"QuestionWaiting-placeholder"}),isDrained:S,children:N.map((function(e){var t,n=Object(ga.a)(e,b),a=n.question,o=n.headerInfo,r=n.extraFooter,u=n.showTime,d=n.button,h=n.titleLink;return Object(i.b)(Oa,{className:"QuestionWaiting-questionItem",question:a,headerInfo:o,extraFooterInfo:r,showTime:u,enableIgnore:!0,handleIgnoreQuestion:(t=a.ignoreId||a.id,function(){k(new Set(x).add(t)),"invite"===b?s(t):c(t),l.current.maybeRun()}),button:d,titleLink:h},e.id)}))})]}),Object(i.b)(ma.a,{omit:{noBanner:!0,noCategory:!0}})]})}))),wa=n(27),Ca=function(e){return p.a.createElement(wa.a,e,p.a.createElement("path",{d:"M12.004 4.15a7.85 7.85 0 1 1-5.772 13.17.85.85 0 0 1 1.25-1.153 6.15 6.15 0 1 0-1.559-5.087l1.208.343a.542.542 0 0 1 .112.996l-2.597 1.42a.542.542 0 0 1-.732-.21l-1.44-2.561a.542.542 0 0 1 .62-.787l1.182.334a7.852 7.852 0 0 1 7.728-6.465zm-.178 3.792c.385 0 .7.31.7.69l-.003 3.495 2.564 1.693c.315.207.425.671.185.977-.24.305-.69.33-.99.126 0 0-2.53-1.663-2.844-1.9-.315-.236-.315-.551-.315-.551l.003-3.84c0-.38.315-.69.7-.69z",fillRule:"evenodd"}))};Ca.defaultProps={name:"Later"};var xa=Ca,ka=n(851);var Aa=function(e){var t=e.className,n=e.titleClassName,a=e.sourceClassName,r=e.hideButtonClassName,c=e.question,s=c.id,l=c.title,u=c.detail,d=c.excerpt,b=c.isDeleted,h=e.mainSource,p=e.subSource,m=e.mainTool,v=e.subTool,O=e.zaId,j=void 0===O?{}:O,g=e.onMouseEnter,y=void 0===g?fi.a:g,w=e.onMouseLeave,C=void 0===w?fi.a:w,k=e.onExpand,A=void 0===k?fi.a:k,S=e.onCollapse,R=void 0===S?fi.a:S,N="https://www.zhihu.com/question/".concat(s),T=Object(f.useState)(!0),B=Object(o.a)(T,2),E=B[0],I=B[1],q=Object(f.useCallback)((function(e){I(!0),R(e),le.a.trackEvent(e.target,{id:j.collapse,action:"Collapse"})}),[I,R,j]),z=Object(f.useCallback)((function(e){I(!1),A(e),le.a.trackEvent(e.target,{id:j.expand,action:"Expand"})}),[I,A,j]);return b?Object(i.c)("div",{className:de()("ListQuestionItem","ListQuestionItem--deleted",t),children:[Object(i.b)("div",{className:"ListQuestionItem-hint",children:"该问题已被删除"}),Object(i.b)("div",{className:"ListQuestionItem-mainTool",children:m})]}):Object(i.b)(x.a,{module:"QuestionItem",card:{content:{type:"Question",token:String(s)}},trackCardShow:Boolean(j.cardShow),view:{id:j.cardShow},children:Object(i.c)("div",{className:de()("ListQuestionItem",t),onMouseEnter:y,onMouseLeave:C,children:[(h||p)&&Object(i.c)("div",{className:de()("ListQuestionItem-source",a),children:[h&&Object(i.b)("div",{className:"ListQuestionItem-mainSource",children:h}),p&&Object(i.b)("div",{className:"ListQuestionItem-subSource",children:p})]}),Object(i.b)("a",{className:de()("ListQuestionItem-title",n,{"ListQuestionItem-title--noDetail":!u}),href:N,target:"_blank",rel:"noopener noreferrer","data-za-detail-view-id":j.titleClick,children:l}),u&&Object(i.b)(rt,{className:"ListQuestionItem-RichText",html:u,reviewInfo:{},excerpt:d,collapsed:E,onExpand:z,editable:!1}),Object(i.c)("div",{className:"ListQuestionItem-tool",children:[Object(i.c)("div",{className:"ListQuestionItem-mainTool",children:[Object(i.b)(ht.a,{className:"ListQuestionItem-writeAnswerButton",color:"blue",icon:et.a,label:"写回答",href:"".concat(N,"?write"),target:"_blank","data-za-not-track-link":!0,onClick:function(e){le.a.trackEvent(e.target,{id:j.writeAnswer,action:"Answer"})}}),m]}),(v||!v&&!E)&&Object(i.c)("div",{className:"ListQuestionItem-subTool",children:[v,!E&&Object(i.c)("div",{className:de()("ListQuestionItem-hideButton",r),role:"button",tabIndex:0,onClick:q,children:["收起",Object(i.b)(re.a,{className:"ToolsQuestionItem-hideButtonIcon",center:!0})]})]})]})]})})},Sa=n(2257),Ra=n.n(Sa);function Na(e){var t=e.laterQuestions,n=e.getLaterQuestions,r=e.updateLaterQuestion,c=Object(f.useRef)(null),s=Object(f.useState)(new Set),l=Object(o.a)(s,2),u=l[0],d=l[1],b=t.count,h=t.isEnd,p=t.isLoading,m=t.questions.filter((function(e){return!u.has(e.id)}));return Object(i.c)("div",{className:"QuestionLater",children:[Object(i.c)(fa.d,{className:"QuestionLater-mainColumn",children:[Object(i.c)("div",{className:"QuestionLater-title",children:[Object(i.b)(xa,{className:"QuestionLater-titleIcon",size:30}),"我的稍后答",Boolean(b)&&Object(i.b)("div",{className:"QuestionLater-titleNumber",children:b})]}),!p&&0===m.length&&Object(i.c)("div",{className:"QuestionLater-empty",children:[Object(i.b)("img",{className:"QuestionLater-emptyImage",src:Ra.a,alt:""}),Object(i.c)("div",{className:"QuestionLater-emptyText",children:["还没有稍后答，",Object(i.b)(a.Link,{className:"QuestionLater-emptyLink",to:"/question/waiting",children:"看看为你推荐的问题"})]})]}),Object(i.b)(pa.b,{ref:c,className:"QuestionLater-questions",onLoad:function(){return n(20,m.length)},isLoading:p,placeholder:Object(i.b)(pa.a,{className:"QuestionLater-placeholder"}),isDrained:h,children:m.map((function(e){return Object(i.b)(Aa,{className:"QuestionLater-questionItem",question:e,zaId:{titleClick:5372,expand:5373,cardShow:5375,writeAnswer:5374},mainTool:Object(i.c)(f.Fragment,{children:[Object(i.c)(G.c,{className:de()("QuestionLater-deletingButton"),preset:"outline",color:"grey",onClick:function(t){d(new Set(u).add(e.id)),r(e.id,!1),c.current.maybeRun(),le.a.trackEvent(t.target,{id:5376,action:"Delete"})},children:[Object(i.b)(ka.a,{size:22}),"移除"]}),!e.isDeleted&&Object(i.c)("div",{className:"QuestionLater-info",children:[Object(Be.formatNumber)(e.answerCount)," 个回答"," · ",Object(Be.formatNumber)(e.visitCount)," 个浏览"]})]})},e.id)}))})]}),Object(i.b)(ma.a,{omit:{noWrite:!0,noCreator:!0,noBanner:!0,noCategory:!0}})]})}Na.fetchData=function(e){return(0,e.dispatch)(Object(I.u)())};var Ta=Object(O.connect)((function(e){return{laterQuestions:e.question.laterQuestions}}),{getLaterQuestions:I.t,updateLaterQuestion:I.nb})(Na),Ba=n(1172);var Ea=function(e){var t=e.users,n=void 0===t?[]:t;return 0===n.length?null:1===n.length?Object(i.b)(Ft.a,{user:n[0]}):2===n.length?Object(i.c)(f.Fragment,{children:[Object(i.b)(Ft.a,{user:n[0]})," 和 ",Object(i.b)(Ft.a,{user:n[1]})]}):3===n.length?Object(i.c)(f.Fragment,{children:[Object(i.b)(Ft.a,{user:n[0]}),"、",Object(i.b)(Ft.a,{user:n[1]})," 和"," ",Object(i.b)(Ft.a,{user:n[2]})]}):n.length>3?Object(i.c)(f.Fragment,{children:[Object(i.b)(Ft.a,{user:n[0]}),"、",Object(i.b)(Ft.a,{user:n[1]})," 和"," ",Object(i.b)(Ft.a,{user:n[2]})," 等 ",n.length," 人"]}):null};var Ia=function(e){var t=e.user,n=t.isFollowed,a=t.isFollowing,o=t.gender,r=null;return n&&a?r="互相关注":a&&(r="你关注了".concat(function(e){return 0===e?"她":1===e?"他":"TA"}(o))),r?Object(i.b)("div",{className:"RelationLabel",children:r}):null},qa=n(404),za=qa.a[0];function Ma(e){var t=e.allInvitedQuestions,n=e.getInvitedQuestions,a=e.ignoreInvitedQuestion,r=e.updateLaterQuestion,c=Object(f.useRef)(null),s=Object(f.useState)(za),l=Object(o.a)(s,2),u=l[0],d=l[1],b=Object(f.useState)(new Set),h=Object(o.a)(b,2),p=h[0],m=h[1],v=Object(f.useState)(new Set),O=Object(o.a)(v,2),j=O[0],g=O[1],y=Object(f.useState)(qa.a.reduce((function(e,t){var n=t.name;return Object.assign(Object.assign({},e),{},Object(ve.a)({},n,0))}),{})),w=Object(o.a)(y,2),C=w[0],x=w[1],k=t[u.name],A=k.isEnd,S=k.isLoading,R=k.questions.filter((function(e){var t=e.question;return!p.has(t.id)}));return Object(i.c)("div",{className:"QuestionInvited",children:[Object(i.c)(fa.d,{className:"QuestionInvited-mainColumn",children:[Object(i.c)("div",{className:"QuestionInvited-title",children:["邀请回答",Boolean(t.total.count)&&Object(i.b)("div",{className:"QuestionInvited-titleNumber",children:t.total.count-C.total})]}),Object(i.b)("div",{className:"QuestionInvited-tabs",children:qa.a.map((function(e){return Object(i.c)("div",{className:de()("QuestionInvited-tab",{"QuestionInvited-tab--active":e.name===u.name}),role:"button",tabIndex:0,onClick:function(){return function(e){t[e.name].questions.length||n(e,20,0),le.a.trackEvent(null,{id:5377},{button:{text:e.text}}),d(e)}(e)},children:[Object(i.b)("div",{className:"QuestionInvited-tabTitle",children:e.text}),Object(i.b)("div",{className:"QuestionInvited-tabMeta",children:t[e.name].count-C[e.name]})]},e.name)}))}),Object(i.b)(pa.b,{ref:c,className:"QuestionInvited-questions",onLoad:function(){return n(u,20,R.length)},isLoading:S,placeholder:Object(i.b)(pa.a,{className:"QuestionInvited-placeholder"}),isDrained:A,children:R.map((function(e){var t=e.inviters,n=e.question;return Object(i.b)(Aa,{className:"QuestionInvited-questionItem",question:n,zaId:{titleClick:5378,expand:5379,cardShow:5380,writeAnswer:5381},mainSource:Object(i.c)("div",{className:"QuestionInvited-questionItemMainSource",children:[Object(i.b)(Ea,{users:t})," 邀请你回答"]}),subSource:1===t.length&&Object(i.b)(Ia,{user:t[0]}),mainTool:Object(i.c)(f.Fragment,{children:[Object(i.c)(G.c,{className:de()("QuestionInvited-deletingButton"),preset:"outline",color:"grey",onClick:function(e){m(new Set(p).add(n.id)),x(Object.assign(Object.assign({},C),{},Object(ve.a)({total:C.total+1},u.name,C[u.name]+1))),a(n.id),c.current.maybeRun(),le.a.trackEvent(e.target,{id:5382,action:"Ignore"})},children:[Object(i.b)(Ba.a,{size:18}),"忽略"]}),Object(i.c)(G.c,{className:de()("QuestionInvited-laterButton",{"QuestionInvited-laterButton--active":j.has(n.id)}),preset:"outline",color:"grey",onClick:function(e){var t=!j.has(n.id),i=new Set(j);t?i.add(n.id):i.delete(n.id),g(i),r(n.id,t),le.a.trackEvent(e.target,{id:5383,action:t?"Add":"UnAdd"})},children:[j.has(n.id)?null:Object(i.b)(xa,{}),j.has(n.id)?"已添加":"稍后答"]}),Object(i.c)("div",{className:"QuestionInvited-info",children:[Object(Be.formatNumber)(n.answerCount)," 个回答"," · ",Object(Be.formatNumber)(n.visitCount)," 个浏览"]})]})},n.id)}))})]}),Object(i.b)(ma.a,{omit:{noWrite:!0,noCreator:!0,noBanner:!0,noCategory:!0}})]})}Ma.fetchData=function(e){return(0,e.dispatch)(Object(I.s)())};var Pa=Object(O.connect)((function(e){return{allInvitedQuestions:e.question.invitedQuestions}}),{getInvitedQuestions:I.r,ignoreInvitedQuestion:I.A,updateLaterQuestion:I.nb})(Ma),La=n(870),Da=n(478),Qa=n(2144),Ha=n(2145),Fa=n(452),Ua=n(87),Va=n(65);var _a=n(1646),Ga=n(1645),Wa=n(423);function Ka(e){if(!Object(Da.a)(e))return"";var t="";return Object(Qa.a)(e)?t+="今天":Object(Ha.a)(e)?t+="昨天":t+=Object(Fa.a)(e,"yyyy/MM/dd"),0!==function(e){Object(Va.a)(1,arguments);var t=Object(Ua.a)(e),n=t.getSeconds();return n}(e)?t+=" "+Object(Fa.a)(e,"HH:mm:ss"):0!==Object(_a.a)(e)?t+=" "+Object(Fa.a)(e,"HH:mm"):0!==Object(Ga.a)(e)&&(t+=" "+Object(Ga.a)(e)+"点"),t}var Za=function(e){var t=e.event,n=e.status,a=t.isOnline,o=t.events;if(!a&&0===n)return null;var r=Object(vi.f)(),c=r.colors,s=c.GBL05A,l=c.GBK09A,u=c.GBK99A,d=c.GBL01A,b=r.fontWeights;return Object(i.b)(Te.Box,{pt:"16px",css:Object.assign(Object.assign({},Object(vi.c)({borderTop:"1px solid ".concat(l)})),{},{"&::after":{content:"''",display:"block",position:"absolute",width:"2px",height:"calc(100% - 30px - 52px)",backgroundColor:s,opacity:.12,left:"24px",top:"30px"}}),children:o.map((function(e,t){var a=e.content,o=e.created,r=e.url,c=0===t;return 1===n&&t>2?null:Object(i.c)(Wa.b,{zaBlock:"EventItem",target:"_blank","data-za-detail-view-id":6621,href:r,pl:"40px",css:{paddingLeft:"40px",paddingRight:"16px",position:"relative",display:"block",paddingBottom:"16px","&::after":Object.assign({content:"''",zIndex:1,display:"block",position:"absolute",left:"25px",top:"0.5em",transform:"translateX(-50%)",boxShadow:"0px 0px 0px 2px ".concat(u),borderRadius:"50%",width:"6px",height:"6px",background:s},c&&{background:d,border:"2px solid ".concat(u),boxShadow:"0 0 0 1px ".concat(d)})},children:[Object(i.b)(Te.Text,{css:Object.assign({color:s},c&&{color:d,fontWeight:b.bold}),children:Ka(1e3*o)}),Object(i.c)(Te.Flex,{flexDirection:"row",alignItems:"center",mt:"6px",color:"GBK02A",css:Object.assign({},c&&{fontWeight:b.bold}),children:[Object(i.b)(Te.Text,{flex:"0 1 auto",css:Object(vi.d)(1),children:a}),Object(i.b)(Oi.a,{text:!0,css:{color:s,flex:"0 0 auto"}})]})]},o+r)}))})},Ja=function(e){var t=e.slice(0,2).map((function(e){return e.content})).join("、");return t.length<=16?t:e[0]&&e[0].content},Ya=function(e){var t=e.event,n=e.status,a=e.onClick,o=t.url,r=!o,c=null,s=Je.a,l=6623;return 0===n?c="显示全部":1==n?(c=r?"展开全部进展":"查看全部进展",l=r?6623:6622,s=r?Je.a:Oi.a):2==n&&(c="收起",s=re.a),Object(i.c)(qe.a,{zaAction:o?"OpenUrl":null,zaBlock:"ViewAll","data-za-detail-view-id":l,target:"_blank",flex:"0 0 auto",ml:"8px",color:"GBL05A",css:{display:"flex",flexDirection:"row",alignItems:"center",cursor:"pointer"},onClick:function(e){o||(e.preventDefault(),a(!1))},href:o,children:[c,Object(i.b)(s,{})]})},Xa=function(e){var t=e.event,n=e.status,a=e.onChangeStatus,o=t.isOnline,r=t.url,c=t.events;if(o&&c.length<=3&&!r)return null;var s=Object(f.useRef)(),l=Object(di.d)((function(){0===n||1===n?a(2):2===n&&a(o?1:0),setTimeout((function(){var e;return null===(e=s.current)||void 0===e?void 0:e.check()}))}));return Object(i.b)(ce.a,{ref:s,bottom:!0,children:Object(i.c)(Te.Flex,{flexDirection:"row",alignItems:"center",justifyContent:o||2===n?"flex-end":"flex-start",bg:"GBK99B",pl:"20px",pr:"13px",height:"48px",css:function(e){return Object(vi.c)({borderTop:"1px solid ".concat(e.colors.GBK09A)})},children:[!o&&2!==n&&Object(i.c)(Te.Text,{children:[Ja(c),"等 ",c.length," 个事件进展"]}),Object(i.b)(Ya,{event:t,status:n,onClick:l})]})})},$a=function(e){var t=e.event,n=t.isOnline,a=t.url,r=Object(f.useState)((function(){return a||n?1:0})),c=Object(o.a)(r,2),s=c[0],l=c[1];return Object(i.c)(i.a,{children:[Object(i.b)(Za,{event:t,status:s}),Object(i.b)(Xa,{event:t,status:s,onChangeStatus:l})]})},eo={special_event:"事件讨论",timeline_event:"最新进展"};var to=function(e){var t,n=e.question;if(null===(t=n.event)||void 0===t||!t.events)return null;var a=Object(vi.f)().colors,o=a.GBK09A,r=a.GBL01A,c=n.event,s=n.id,l=c.url,u=c.type,d=c.title,b=c.isOnline,h=function(e){var t=e.match(/special\/(\d+)/);return t&&t[1]}(l);return Object(i.b)(j.b,{block:"SpecialTimeline",content:{type:"SpecialTopic",token:h},children:Object(i.b)(x.a,{trackCardShow:!0,module:"Content",content:{type:"SpecialTopic",token:h,parent_token:String(s)},extra:{button:{text:b?"online":"offline"}},view:{id:6620},children:Object(i.c)(j.e,{as:fa.d,zaType:"Card",css:{fontSize:15},children:[Object(i.c)(Te.Flex,{flexDirection:"row",alignItems:"center",pl:"18px",height:"48px",css:Object(vi.c)({borderTop:"1px solid ".concat(o)}),children:[Object(i.b)(La.a,{css:{color:r},size:20}),Object(i.c)(Te.Text,{fontWeight:"bold",ml:"10px",children:[eo[u]," · ",d]})]}),Object(i.b)($a,{event:c})]})})})},no=n(917),io=n(1167),ao=n(131),oo=n.n(ao),ro=n(39),co=n.n(ro),so=n(1025),lo=n.n(so),uo=n(999),bo=n(1392),ho=n(1515),fo=n(998),po=n(1190),mo=function(e){function t(){var e,n;kt()(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(n=Bt()(this,(e=It()(t)).call.apply(e,[this].concat(a)))).state={display:!1},n.handleCloseByDocument=function(e){e.target.closest("div")&&"Pc-word-card-sign-label"!==e.target.closest("div").className&&n.setState({display:!1})},n.handleClick=function(){n.setState((function(e){return{display:!e.display}}));var e=n.sign.querySelector(".Pc-word-card-sign-label").getBoundingClientRect(),t=e.left,i=e.top,a=e.width,o=e.height+15,r=Math.floor(a/2);n.sign.querySelector(".Pc-word-card-sign-popup").style.top="".concat(i+o,"px"),n.sign.querySelector(".Pc-word-card-sign-popup").style.left="".concat(t-r,"px")},n.handleClose=function(){n.props.onClose&&n.props.onClose()},n.handleRef=function(e){n.sign=e},n}return Nt()(t,e),St()(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleCloseByDocument)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleCloseByDocument)}},{key:"render",value:function(){return p.a.createElement("div",{className:"Pc-word-card-sign",ref:this.handleRef},p.a.createElement("div",{className:"Pc-word-card-sign-label",onClick:this.handleClick},"广告​",p.a.createElement(po.a,{name:"triangle",className:"Pc-word-card-sign-svg"})),p.a.createElement("div",{className:"Pc-word-card-sign-popup ".concat(this.state.display?"Pc-word-card-sign-popup--isShowed":"Pc-word-card-sign-popup--isHidden")},p.a.createElement("span",{className:"Pc-word-card-sign-popup-arrow"}),p.a.createElement("div",{className:"Pc-word-card-sign-popup-menu"},p.a.createElement("button",{type:"button",onClick:this.handleClose},"不感兴趣"),p.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"/promotion-intro"},"知乎广告介绍"))))}}]),t}(f.Component);mo.propTypes={onClose:v.a.func};var vo=n(1248),Oo=n(892),jo=function(e){function t(){var e,n;kt()(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(n=Bt()(this,(e=It()(t)).call.apply(e,[this].concat(a)))).state={display:!0},n.handleClick=function(e){e.stopPropagation();var t=Object(bo.a)(n.props).ad.clickTracks;Object(fo.a)(t)},n.handleClose=function(){var e=Object(bo.a)(n.props).ad.closeTracks;Object(fo.b)(e).then((function(){n.setState((function(e){return{display:!e.display}})),n.props.onClose&&n.props.onClose()}))},n.handleRef=function(e){n.root=e},n}return Nt()(t,e),St()(t,[{key:"componentDidMount",value:function(){if(this.root&&!this.props.preview){var e=Object(bo.a)(this.props).ad,t=e.impressionTracks,n=e.debugTracks,i={impressionTracks:t,viewTracks:e.viewTracks,debugTracks:n};Object(fo.f)(this.root,i),Object(fo.c)(n,!!this.props.data.adjson)}}},{key:"render",value:function(){if(!this.state.display)return null;var e=Object(bo.a)(this.props),t=e.ad,n=e.creative,i=t.expand.displayAdvertisingTag,a=n.asset,o=a.title,r=a.desc,c=a.cta,s=a.landingUrl,l=a.brandName,u=a.brandLogo,d="out_link"===Object(Oo.e)(n,"protoInfo.contentType","");return p.a.createElement("div",{className:"Pc-word",ref:this.handleRef},p.a.createElement("div",{className:"Pc-word-card"},p.a.createElement(go,{href:s,onClick:this.handleClick},p.a.createElement(yo,{data:{name:l,logo:u}})),i&&p.a.createElement(mo,{onClose:this.handleClose}),p.a.createElement(go,{href:s,onClick:this.handleClick},p.a.createElement("h2",{className:"Pc-word-card-title"},o),p.a.createElement("div",{className:"Pc-word-card-content  "},r&&p.a.createElement(p.a.Fragment,null,p.a.createElement("span",null,r),p.a.createElement("span",{className:"Pc-word-card-content-cta  "},c))))),p.a.createElement(vo.a,{url:d?"":s}))}}]),t}(f.Component);function go(e){var t=e.children,n=lo()(e,["children"]);return p.a.createElement("a",co()({target:"_blank"},n),t)}function yo(e){var t=e.data,n=t.name,i=t.logo;return p.a.createElement("div",{className:"Pc-word-card-brand"},p.a.createElement("div",{className:"Pc-word-card-brand-wrapper"},p.a.createElement("img",{width:"20",height:"20",src:i,alt:"logo"}),p.a.createElement("span",null,n)))}function wo(e){var t=Object(ho.a)(e.data);return t&&t.adjson?p.a.createElement(uo.a,null,p.a.createElement(jo,co()({},e,t))):null}jo.propTypes={data:v.a.object.isRequired,onClose:v.a.func};var Co=n(897),xo=n(1007),ko=n(5),Ao=["item"];var So={isDrained:!1,isFetching:!1,ids:[]};function Ro(e,t){var n=t.id,i=t.resource;return e.question[i][n]||So}var No=function(e){var t=e.item,n=Object(Ne.default)(e,Ao);return Object(i.b)(Co.a,{children:Object(i.b)(xo.a,Object.assign({editable:!0,expanded:!0,relatedTo:"question",answer:t,zaInfos:{cardShow:4351,index:String(n.dataZaIndex)}},n))},t.id)},To=function(e,t,n){var i=t.relationship,a=i.canCollapseAnswers,o=i.canStickAnswers,r=t.hasPublishingDraft,c=e.map((function(e,t){return No({item:e,canCollapse:a,canStick:o,hasPublishingDraft:r,itemProp:0===t?"acceptedAnswer":"suggestedAnswer",dataZaIndex:t})}));return n?c:Object(fe.b)(2,c)},Bo=function(e,t){return e.map((function(e){return t[e]})).filter((function(e){return e&&!e.isDelete}))},Eo=Object(Qt.isBrowser)()?oo()(Bo,(function(e,t){return"".concat(e.join(","),"-").concat(t.length)})):Bo;function Io(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var qo=function(e){Object(d.a)(n,e);var t=Io(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).load=function(){var t=e.props,n=t.isFetching,i=t.id,a=t.loadNotificationAnswers;n||a(i)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isDrained,n=e.id,i=e.items,a=e.router;i.length||a.replace(location.pathname),(t||i.length)&&Object(I.S)(n)}},{key:"render",value:function(){var e=this.props,t=e.question,n=t.id,a=t.answerCount,o=e.question,r=e.items,c=e.isFetching,s=e.isDrained;return Object(i.c)("div",{className:"QuestionAnswers-answers",children:[Object(i.b)(fa.d,{children:Object(i.c)(io.a,{to:"/question/".concat(n),children:["查看全部 ",Object(Be.formatNumber)(a)," 条回答"]})}),Object(i.c)(fa.d,{children:[Object(i.c)(no.b,{children:[To(r,o),c&&Object(i.b)(pa.a,{className:"List-item"})]}),!s&&!c&&Object(i.b)(io.a,{onClick:this.load,children:"更多"})]}),Object(i.b)(fa.d,{children:Object(i.c)(io.a,{to:"/question/".concat(n),children:["查看全部 ",Object(Be.formatNumber)(a)," 条回答"]})})]})}}]),n}(f.PureComponent),zo=Object(E.compose)(a.withRouter,Object(O.connect)((function(e,t){var n=Ro(e,{id:t.id,resource:"notificationAnswers"}),i=n.isFetching,a=n.isDrained,o=n.ids;return{isFetching:i,isDrained:a,items:Eo(o,e.entities.answers)}}),{loadNotificationAnswers:I.S}))(qo),Mo=n(903),Po=n(210),Lo=n(970);function Do(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var Qo=[{text:"默认排序",value:"default"},{text:"".concat("按","时间排序"),value:"updated"}],Ho={updatedAnswers:"updated",answers:"default"};var Fo=function(e){Object(d.a)(n,e);var t=Do(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleResourceChange=function(t){e.props.router.push("/question/".concat(e.props.question.id).concat("default"===t?"":"/answers/".concat(t)))},e}return Object(u.a)(n,[{key:"componentWillReceiveProps",value:function(e){JSON.stringify(this.props.permission)!==JSON.stringify(e.permission)&&this.loadQuestionAnswerCount(e)}},{key:"loadQuestionAnswerCount",value:function(e){var t=e.question,n=t.id,i=t.questionType,a=e.permission.canBrandAdminEdit,o=e.loadBrandQuestionAnswerCount;"commercial"===i&&a&&o(n)}},{key:"renderAnswerListHeader",value:function(){var e=this.props,t=e.resource,n=e.question,a=n.id,o=n.answerCount,r=n.questionType,c=n.brand,s=(c=void 0===c?{}:c).isPuQuestion,l=e.commonAnswerCount,u=e.hiddenAnswerCount,d=e.permission.canBrandAdminEdit,b=s?"":"，由品牌推荐";return"commercial"===r&&void 0!==s?d?Object(i.c)("div",{className:"QuestionAnswers-navs",children:[Object(i.c)(G.c,{preset:"plain",className:de()("QuestionAnswers-nav",{"is--active":["answers","updatedAnswers"].includes(t)}),onClick:function(){location.href="/question/".concat(a)},children:[Object(Be.formatNumber)(l)," 个回答",b]}),Object(i.c)(G.c,{preset:"plain",className:de()("QuestionAnswers-nav",{"is--active":"hiddenAnswers"===t}),onClick:function(){location.href="/question/".concat(a,"/answers/hidden")},children:[Object(Be.formatNumber)(u)," 个隐藏回答"]})]}):Object(i.c)("span",{children:[Object(Be.formatNumber)(o)," 个回答 ",b]}):Object(i.c)("span",{children:[Object(Be.formatNumber)(o)," 个回答"]})}},{key:"render",value:function(){var e=this.props,t=e.resource,n=e.children;return Object(i.b)(fa.d,{className:"AnswersNavWrapper",children:Object(i.b)(Lo.a,Object.assign(Object.assign({title:this.renderAnswerListHeader()},{options:"hiddenAnswers"===t?Object(i.b)("span",{children:"按时间排序"}):Object(i.b)(Po.b,{listClassName:"Answers-select",needsReposition:!0,plain:!0,value:Ho[t],onChange:this.handleResourceChange,children:Qo.map((function(e){var t=e.value,n=e.text;return Object(i.b)(Po.a,{value:t,text:n},t)}))})}),{},{children:n}))})}}]),n}(f.PureComponent),Uo=Object(E.compose)(a.withRouter,Object(O.connect)((function(e){var t=e.question;return{commonAnswerCount:t.commonAnswerCount,hiddenAnswerCount:t.hiddenAnswerCount,permission:Object(I.cb)(e)}}),{loadBrandQuestionAnswerCount:I.K}))(Fo),Vo=n(1047),_o=n(13);function Go(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var Wo=function(e){Object(d.a)(n,e);var t=Go(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handlePaginationClick=function(t){e.props.router.push("".concat(location.pathname,"?page=").concat(t))},e.handleUpdatedAnswersLoad=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_o.b,i=e.props,a=i.question.id,o=i.loadItems;o(a,"updatedAnswers",{offset:t,limit:n})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.question.id,n=e.page,i=e.isDrained,a=e.items,o=e.loadItems;!i&&a.length<_o.b&&o(t,"updatedAnswers",{offset:Object(ko.c)(n)+a.length,limit:_o.b-a.length})}},{key:"render",value:function(){var e=this.props,t=e.isFetching,n=e.isDrained,a=e.isNextLoaded,o=e.isCurrentLoaded,r=e.page,c=e.items,s=e.total,l=e.question,u=e.isMuteSpecial;return n&&!c.length?Object(i.b)(fa.d,{className:"Answers-none",children:Object(i.c)(Mo.k,{children:[Object(i.b)(Mo.b,{}),Object(i.b)("div",{children:u?"回答暂时无法查看":"还没有回答"})]})}):Object(i.b)(Vo.a,{isFetching:t,isDrained:r>=s?n:o,isNextLoaded:a,page:r,total:s,placeholder:Object(i.b)(pa.a,{className:"List-item"}),onPaginationClick:this.handlePaginationClick,onLoad:this.handleUpdatedAnswersLoad,children:To(c,l)})}}]),n}(f.PureComponent),Ko=Object(E.compose)(a.withRouter,Object(O.connect)((function(e,t){var n=t.page,i=Ro(e,{id:t.question.id,resource:"updatedAnswers"}),a=i.isFetching,o=i.isDrained,r=i.ids,c=Object(ko.d)(n,r),s=c.total,l=c.isCurrentLoaded,u=c.isNextLoaded,d=c.items;return{isMuteSpecial:Object(I.E)(t.question),isFetching:a,isDrained:o,total:s,isNextLoaded:u,isCurrentLoaded:l,items:Eo(d,e.entities.answers).filter((function(e){return!e.isDelete}))}}),{loadItems:I.R}))(Wo),Zo=n(2258),Jo=n.n(Zo),Yo=n(397),Xo=n.n(Yo),$o=n(1487),er=n(1480),tr=n(1488),nr=n(1021),ir=n(1499),ar=n(1314),or=function(){var e=Object(f.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(f.useState)("login"),c=Object(o.a)(r,2),s=c[0],l=c[1],u=Object(f.useState)(""),d=Object(o.a)(u,2),b=d[0],h=d[1],p=Object(f.useState)(""),m=Object(o.a)(p,2),v=m[0],O=m[1];return Object(i.c)("div",{className:"BlockTypeLogin",children:[Object(i.c)("div",{className:"BlockTypeLogin-leftPart",children:[Object(i.c)("div",{className:"BlockTypeLogin-headImg",children:[Object(i.b)(ar.a,{css:{width:"59px",height:"70px"}}),Object(i.b)("div",{className:"BlockTypeLogin-imgTips",children:"登录查看余下内容"})]}),"login"===s?Object(i.b)("div",{children:Object(i.b)(er.a,{showSwitchTypeIcon:!1,showQrcode:!1,selectClassName:"BlockTypeLogin-select"})}):Object(i.c)("div",{children:[Object(i.b)(nr.b.Provider,{value:{selectClassName:"BlockTypeLogin-select"},children:Object(i.b)(tr.a,{socialType:v,defaultFullname:b,onResetRegister:function(){l("login"),h(""),O("")}})}),Object(i.b)("div",{className:"SignContainer-tip",children:Object(i.b)("div",{children:Object(i.c)("div",{children:["手机验证后自动登录，登录即代表同意",Object(i.b)("a",{href:"https://www.zhihu.com/term/zhihu-terms",children:"《知乎协议》"}),Object(i.b)("a",{href:"https://www.zhihu.com/term/privacy",children:"《隐私保护指引》"})]})})})]}),Object(i.b)("div",{className:"BlockTypeLogin-loginModeSwitch",onClick:function(){a((function(e){return!e}))},children:n?"关闭其他方式":"其他方式登录"})]}),Object(i.b)("div",{className:"BlockTypeLogin-rightPart",children:Object(i.c)("div",{className:"BlockTypeLogin-otherLoginMode",style:{opacity:n?1:0},children:[Object(i.b)($o.a,{showSwitchTypeIcon:!1,className:"smallVersion",isBlockType:!0}),Object(i.b)(ir.a,{onRegister:function(e){var t=e.fullname,n=e.socialType;l("register"),h(t),O(n)}})]})})]})},rr=function(){return Object(i.b)(j.e,{zaType:"Block",zaBlock:"blockingTypeLoginModal",zaText:"阻断式登录弹层",children:Object(i.b)("div",{css:{position:"absolute",zIndex:3,borderTop:"1px solid #e7eaf1",left:0,width:"100%",marginTop:-254,height:294,backgroundColor:"rgba(255, 255, 255, 0.95)"},children:Object(i.b)(or,{})})})};function cr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var sr=function(e){Object(d.a)(n,e);var t=cr(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={showBlockModal:!1},e.handleLoad=function(){var t,n=e.state.showBlockModal,i=e.props,a=i.question.id,o=i.loadItems,r=i.isFetching,c=i.isDrained,s=i.items,l=i.resource,u=void 0===l?"answers":l,d=Number(null===(t=e.props.modalShowCondition)||void 0===t?void 0:t.insertIndex)||10;if(!c&&!r){if(s.length>=+d&&n)return;o(a,u,{limit:5})}},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.question.id,i=t.isDrained,a=t.items,o=t.loadItems,r=t.getShowConditions,c=t.getActiveDays;if(t.hasBlockLogin){var s=Ae.a.get("blockShow"),l=(new Date).getTime();(!s||Jo.a.duration(l-s).asDays()>30)&&Promise.all([r(),c()]).then((function(t){var n,i,a,o,r=null===(n=t[0].payload)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.activeDays;+(null===(a=t[1].payload)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.num)>=+r&&(e.setState({showBlockModal:!0}),Ae.a.set("blockShow",l))}))}!i&&a.length<5&&o(n,"answers",{offset:a.length,limit:5})}},{key:"render",value:function(){var e,t=this,n=this.state.showBlockModal,a=this.props,o=a.adverts,r=a.isBot,c=a.isFetching,s=a.isDrained,l=a.items,u=a.question,d=Number(null===(e=this.props.modalShowCondition)||void 0===e?void 0:e.insertIndex)||10,b=n?l.slice(0,d):l,h=u.relationship,f=h.canCollapseAnswers,p=h.canStickAnswers,m=u.hasPublishingDraft,v=[0].concat(Object(Zt.a)(Object.keys(o||{}).map(Number).sort((function(e,t){return e-t})))),O=n?v.filter((function(e){return e<d})):v,j={canCollapse:f,canStick:p,hasPublishingDraft:m};return Object(i.c)("div",{children:[Object(i.b)(pa.b,{onRef:function(e){t.listEl=e},isLocal:!0,isLoading:c,isDrained:s,onLoad:this.handleLoad,placeholder:Object(i.b)(pa.a,{className:"List-item"}),children:r?b.map((function(e,t){return No(Object.assign({item:e,itemProp:0===t?"acceptedAnswer":"suggestedAnswer",dataZaIndex:t},j))})):Object(fe.b)(2,Xo()(O.map((function(e,t){var a,r=O[t+1],c=(r?b.slice(e,r):b.slice(e)).map((function(a,o){var r=e+o+t;return r===d&&n?Object(i.b)("div",{style:{height:254,overflow:"hidden"},children:No(Object.assign({item:a,itemProp:0===r?"acceptedAnswer":"suggestedAnswer",dataZaIndex:r},j))}):No(Object.assign({item:a,itemProp:0===r?"acceptedAnswer":"suggestedAnswer",dataZaIndex:r},j))}));return r?[].concat(Object(Zt.a)(c),[(a=o[r],a?Object(i.b)(wo,{data:a}):null)]):c}))))}),b.length>d-1&&n&&Object(i.b)(rr,{})]})}}]),n}(f.Component),lr=Object(E.compose)(Object(O.connect)((function(e,t){var n=Ro(e,{id:t.question.id,resource:"answers"}),i=n.isFetching,a=n.isDrained,o=n.ids,r=a||i?o:o.slice(0,Math.max(5,o.length-5)),c=Object(H.b)(e);return{isBot:e.env.userAgent.isBot,isFetching:i,hasBlockLogin:!("1"!==Object(Q.abParamSelector)(e,"PC_blockLogin")||Object(Q.isMobileSelector)(e)||c&&"guest"!==c.userType),modalShowCondition:e.question.modalShowCondition,isDrained:a,items:Eo(r,e.entities.answers).filter((function(e){return e&&!e.isDelete})),adverts:Object(I.c)(e)}}),{loadItems:I.R,getShowConditions:I.x,getActiveDays:I.p}))(sr);function ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var dr=function(e){Object(d.a)(n,e);var t=ur(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handlePaginationClick=function(t){e.props.router.push("".concat(location.pathname,"?page=").concat(t))},e.handleHiddenAnswersLoad=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_o.b,i=e.props,a=i.question.id,o=i.loadItems;o(a,"hiddenAnswers",{offset:t,limit:n})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.question.id,n=e.page,i=e.isDrained,a=e.items,o=e.loadItems;!i&&a.length<_o.b&&o(t,"hiddenAnswers",{offset:Object(ko.c)(n)+a.length,limit:_o.b-a.length})}},{key:"render",value:function(){var e=this.props,t=e.isFetching,n=e.isDrained,a=e.isNextLoaded,o=e.isCurrentLoaded,r=e.page,c=e.items,s=e.total,l=e.question;return Object(i.b)(Vo.a,{isFetching:t,isDrained:r>=s?n:o,isNextLoaded:a,page:r,total:s,placeholder:Object(i.b)(pa.a,{className:"List-item"}),onPaginationClick:this.handlePaginationClick,onLoad:this.handleHiddenAnswersLoad,children:To(c,l)})}}]),n}(f.PureComponent),br=Object(E.compose)(a.withRouter,Object(O.connect)((function(e,t){var n=t.page,i=Ro(e,{id:t.question.id,resource:"hiddenAnswers"}),a=i.isFetching,o=i.isDrained,r=i.ids,c=Object(ko.d)(n,r,_o.b);return Object.assign(Object.assign({isFetching:a,isDrained:o},c),{},{items:Eo(c.items,e.entities.answers).filter((function(e){return!e.isDelete}))})}),{loadItems:I.R}))(dr);function hr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var fr=function(e){Object(d.a)(n,e);var t=hr(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.question,n=t.id,i=t.relationship.isAuthor,a=e.resource,o=e.router;"collapsedAnswers"!==a||i||o.push("/question/".concat(n))}},{key:"render",value:function(){var e=this.props,t=e.resource,n=e.question,a=e.question,o=a.questionType,r=a.answerCount,c=a.reviewInfo.tips,s=a.isVisible,l=e.location;if(e.isMuteSpecial||!s)return Object(i.b)(fa.d,{className:"Answers-none",children:Object(i.c)(Mo.k,{children:[Object(i.b)(Mo.b,{}),Object(i.b)("div",{children:"回答暂时无法查看"})]})});if("commercial"!==o&&!r){if(c)return null;var u=n.status||{},d=u.isClose,b=u.isLocked,h=u.isSuggest;return d||b||h?null:Object(i.b)(fa.d,{className:"Answers-none",children:Object(i.c)(Mo.k,{children:[Object(i.b)(Mo.b,{}),Object(i.c)("div",{children:["暂时还没有回答，开始",Object(i.b)(mt,{preset:"plain",className:"QuestionAnswers-answerLink",children:"写第一个回答"})]})]})})}return Object(i.b)("div",{id:"QuestionAnswers-answers",className:"QuestionAnswers-answers","data-zop-feedlistmap":"answers"===t?"0,0,1,0":"0,0,1",children:Object(i.c)(Uo,{question:n,resource:t,children:["updatedAnswers"===t&&Object(i.b)(Ko,{question:n,page:Number(l.query.page)||1}),"answers"===t&&Object(i.b)(lr,{question:n}),"hiddenAnswers"===t&&Object(i.b)(br,{question:n,page:Number(l.query.page)||1})]})})}}]),n}(f.PureComponent),pr=Object(E.compose)(Object(x.b)({module:"ContentList"}),a.withRouter,Object(O.connect)((function(e,t){return{isMuteSpecial:Object(I.E)(t.question)}})))(fr),mr=n(1430),vr=n(887),Or=n(1216),jr=n(1729),gr=n(1654);function yr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var wr=function(e){Object(d.a)(n,e);var t=yr(n);function n(){var e,i;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(i=t.call.apply(t,[this].concat(o))).state={topicBiosModalShown:!1,activeTabKey:"video_answer"===(null===(e=i.props.draft)||void 0===e?void 0:e.draftType)?Or.a.videoAnswer:Or.a.textAnswer},i.answerFormRef=Object(f.createRef)(),i.handleSubmit=function(e){var t=i.props,n=t.currentUser,a=t.question.id,o=t.addAnswer,r=t.scheduledPublish,c=t.validateScheduledPublish,s=t.loadDraft;if(e.publishAt){var l=r(a,e);return l.then((function(){i.context.endAddAnswer(),s(a)})),l}var u=function(){return o(a,e)};return n.autoSendingCreations?c(a).then(u,(function(e){if(e&&e.payload&&e.payload.message&&400===e.status)return lt.a.confirm(e.payload.message,{title:"提醒",text:{ok:"确定发布",cancel:"我再想想"}}).then(u,(function(){}))})):u()},i.focus=function(){i.answerFormRef.current.focus()},i.handleToggleAnonymous=function(){var e=i.context.toggleAnonymous,t=i.props,n=t.showNotification,a=t.question.relationship.isAnonymous,o=t.isOffice;if(a||!i.answerFormRef.current.hasVideo()){if(a||!i.answerFormRef.current.hasMCNLinkCard())return!a&&i.answerFormRef.current.hasADLinkCard()?i.answerFormRef.current.hasFeeConsultCard()?n("不能使用匿名身份插入付费咨询卡片","red"):void n("不能使用匿名身份插入推荐卡片","red"):void(!a&&i.answerFormRef.current.hasCommercialReport()&&o?n("已经进行商业声明的内容不能启用匿名","red"):e());n("不能使用匿名身份推荐商品","red")}else n("匿名不能使用视频功能，如需启用匿名请删除草稿中的视频","red")},i.handleTabChange=function(e){if(e!==i.state.activeTabKey){var t=i.props,n=t.question.relationship.isAnonymous,a=t.showNotification;if(e===Or.a.videoAnswer){if(n)return void a("视频回答不支持匿名","red");i.answerFormRef.current.hasEditorContent()&&(Ae.a.get("answerContentSync")||(a("图文回答内容已同步至视频描述"),Ae.a.set("answerContentSync",!0)))}i.setState({activeTabKey:e})}},i}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.question.id;(0,e.getBio)(t),this.props.answering&&setTimeout(this.focus)}},{key:"componentWillReceiveProps",value:function(e){this.props.answering!==e.answering&&this.focus()}},{key:"render",value:function(){var e,t=this.state.activeTabKey,n=this.props.question;return Object(i.c)("div",{className:"AnswerAdd",css:{position:"relative"},children:[Object(i.c)(Te.Flex,{justifyContent:"space-between",css:function(e){return{borderBottom:"1px solid ".concat(e.colors.GBK09A),".Tabs":{border:"none"}}},children:[Object(i.b)(Or.b,{activeTabKey:t,onChange:this.handleTabChange}),Object(i.b)(gr.a,{handleClick:null===(e=this.answerFormRef.current)||void 0===e?void 0:e.toggleFullscreen})]}),Object(i.b)(jr.a,{activeTabKey:t,handleTabChange:this.handleTabChange,handleToggleAnonymous:this.handleToggleAnonymous,imperativeRef:this.answerFormRef,question:n,onSubmit:this.handleSubmit})]})}}]),n}(f.Component);wr.contextTypes={toggleAnonymous:v.a.func.isRequired,endAddAnswer:v.a.func};var Cr=Object(E.compose)(a.withRouter,Object(O.connect)((function(e,t){var n=e.question.bio,i=e.topic.bios,a=e.answers.newAnswer,o=e.entities.drafts,r=void 0===o?{}:o,c=t.question.id,s=(n[c]||{result:{type:"headline"}}).result;return"topic"===s.type&&(s.bio=i[s.topic.id]||s.bio),{currentUser:Object(H.b)(e),questionBio:s,newAnswer:a,allowCommercialAnonymousAnswer:"show"===Object(Q.abParamSelector)(e,"gue_anonymous"),isOffice:Object(Q.isOfficeSelector)(e),draft:r["question_".concat(c)]}}),{showNotification:V.h,addAnswer:U.a,scheduledPublish:U.C,validateScheduledPublish:U.N,loadDraft:I.Q,getBio:I.q}))(wr);function xr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var kr=function(e){Object(d.a)(n,e);var t=xr(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.question,i=n.id,a=n.relationship.myAnswer,o=void 0===a?{}:a,r=t.router,c=e.question,s=c.id,l=c.relationship.myAnswer,u=void 0===l?{}:l;i===s&&o.answerId!==u.answerId&&(le.a.trackEvent(this,{action:"StatusReport"},{status:{result:"Success",event:{action:"Answer"}}}),r.push("/question/".concat(i,"/answer/").concat(u.answerId)),Ae.a.set("answer::justPublished",!0))}},{key:"render",value:function(){if(!this.context.currentUser)return null;var e=this.props,t=e.question,n=e.question,a=n.relationship.myAnswer,o=n.isNormal,r=n.status,c=(r=void 0===r?{}:r).isClose,s=r.isLocked,l=r.isSuggest,u=n.hasPublishingDraft,d=e.answering;return a?null:l?Object(i.c)("div",{className:"QuestionAnswers-answerTip",children:["被建议修改的问题不允许添加新的回答。",Object(i.b)(ht.a,{preset:"plain",to:"/question/21290061",children:"问题为什么会被建议修改？"})]}):s?Object(i.c)("div",{className:"QuestionAnswers-answerTip",children:["该问题目前已经被锁定，无法添加新答案。",Object(i.b)(ht.a,{preset:"plain",to:"/question/19604313",children:"问题为什么会被锁定？"})]}):c?Object(i.c)("div",{className:"QuestionAnswers-answerTip",children:["被关闭的问题不允许添加新的回答。",Object(i.b)(ht.a,{className:"QuestionAnswers-iconLink",preset:"plain",to:"/question/21290061","data-tooltip":"为什么部分问题会被「关闭」「建议修改」？","aria-label":"为什么部分问题会被「关闭」「建议修改」？",icon:vr.a})]}):u?Object(i.b)(fa.d,{className:"QuestionAnswers-answerTipCard",children:"你创建的回答正在发布中…"}):o?Object(i.b)(mr.CSSTransitionGroup,{className:"QuestionAnswers-statusWrapper",transitionEnterTimeout:300,transitionLeaveTimeout:300,transitionName:"expand",component:"div",children:d&&Object(i.c)(fa.d,{className:"QuestionAnswers-answerAdd",id:"js-answerAddCard",children:[Object(i.b)("a",{name:"draft"}),Object(i.b)(Cr,{question:t,answering:d})]})}):null}}]),n}(f.PureComponent);kr.contextTypes={currentUser:v.a.object};var Ar=Object(a.withRouter)(kr),Sr=["className","children"];function Rr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var Nr=function(e){Object(d.a)(n,e);var t=Rr(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,a=Object(Ne.default)(e,Sr);return Object(i.b)("div",Object.assign(Object.assign({},a),{},{className:de()("QuestionMainDivider",t),children:Object(i.b)("span",{className:"QuestionMainDivider-inner",children:n})}))}}]),n}(f.Component);function Tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var Br=function(e){Object(d.a)(n,e);var t=Tr(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={opened:!1},e.handleLoad=function(){var t=e.props,n=t.question.id;return(0,t.loadItems)(n,"collapsedAnswers")},e.handleOpen=function(){e.handleLoad(),e.setState({opened:!0})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isDrained,n=e.isFetching,a=e.items,o=e.question,r=e.question,c=r.collapsedAnswerCount,s=r.questionType,l=this.state.opened,u="org"===s,d="".concat(Object(Be.formatNumber)(c)," 个回答被").concat(u?"隐藏":"折叠"),b=Object(i.b)(ht.a,{preset:"plain",to:u?"/org-intro#org-question":"/question/20120168",target:"_blank",children:"为什么？"});return l?Object(i.c)(fa.d,{children:[Object(i.c)(Nr,{children:[d,"（",b,"）"]}),Object(i.c)(no.b,{children:[To(a,o),n&&Object(i.b)(pa.a,{className:"List-item"})]}),!t&&!n&&Object(i.b)(io.a,{onClick:this.handleLoad,children:"更多"})]}):Object(i.c)("div",{className:"CollapsedAnswers-bar",style:{},children:[Object(i.b)(G.c,{preset:"plain",onClick:this.handleOpen,children:d}),"（",b,"）"]})}}]),n}(f.Component);Br.contextTypes={currentUser:v.a.object};var Er=Object(O.connect)((function(e,t){var n=Ro(e,{id:t.question.id,resource:"collapsedAnswers"}),i=n.isFetching,a=n.isDrained,o=n.ids;return{isFetching:i,isDrained:a,items:Eo(o,e.entities.answers)}}),{loadItems:I.R})(Br),Ir=n(1493),qr=n(1505),zr=n(1055),Mr=n(1e3),Pr=n(1391),Lr=n(140);function Dr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var Qr=function(e){Object(d.a)(n,e);var t=Dr(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.question,t=e.id,n=e.title,a=e.answerCount,o=e.followerCount,r="/question/".concat(t);return Object(i.c)("div",{className:"SimilarQuestions-item",itemProp:"zhihu:similarQuestion",itemType:"http://schema.org/Question",itemScope:!0,children:[Object(i.b)("meta",{itemProp:"name",content:n}),Object(i.b)("meta",{itemProp:"url",content:"https://www.zhihu.com".concat(r)}),Object(i.b)("meta",{itemProp:"answerCount",content:a}),Object(i.b)("meta",{itemProp:"zhihu:followerCount",content:o}),Object(i.b)(ht.a,{preset:"plain",to:r,target:"_blank",children:n})," ",Object(Be.formatNumber)(a)," 个回答"]})}}]),n}(f.Component),Hr=Object(x.b)((function(e){var t=e.question;return{module:"QuestionItem",content:{type:"Question",token:String(t.id),author_member_hash_id:(t.author||{}).id},trackCardShow:!0}}))(Qr);function Fr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var Ur=function(e){Object(d.a)(n,e);var t=Fr(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.question.id;(0,e.loadSimilarQuestions)(t)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.question.id,i=t.loadSimilarQuestions,a=e.question.id;n!==a&&i(a)}},{key:"componentDidUpdate",value:function(e){!e.items&&this.props.items&&this.props.onLoad&&this.props.onLoad()}},{key:"render",value:function(){var e=this.props.items;return e&&e.length?Object(i.c)(fa.d,{css:{borderRadius:"0 0 2px 2px"},role:"complementary","aria-label":"相关问题",children:[Object(i.b)(fa.b,{className:"SimilarQuestions-title",children:"相关问题"}),Object(i.b)(fa.c,{className:"SimilarQuestions-list",children:e.map((function(e){return Object(i.b)(Hr,{question:e},e.id)}))})]}):null}}]),n}(f.Component),Vr=Object(E.compose)(Object(O.connect)((function(e,t){return{items:e.question.similarQuestions[t.question.id]}}),{loadSimilarQuestions:I.bb}),Object(x.b)({module:"RelatedQuestions"}))(Ur),_r=n(6),Gr=n(2802);function Wr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var Kr=function(e){Object(d.a)(n,e);var t=Wr(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={hideDescription:!1},e.handleRef=function(t){e.title=t},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.title.offsetWidth<this.title.scrollWidth&&this.setState({hideDescription:!0})}},{key:"render",value:function(){var e=this.props,t=e.link,n=e.title,a=e.description,o=e.meta,r=e.imageUrl,c=this.state.hideDescription;return Object(i.c)(ht.a,{preset:"plain",a:!0,to:t,className:"RelatedCommodities-item",target:"_blank",children:[Object(i.b)("img",{className:"RelatedCommodities-image",src:Object(Ee.imgUrl)(r,{quality:90,size:"250x0"}),alt:"live"}),Object(i.c)("div",{className:"RelatedCommodities-content",children:[Object(i.b)("div",{className:de()("RelatedCommodities-subject",{"RelatedCommodities-subject-two":c}),style:{},ref:this.handleRef,"data-tooltip":n,children:n}),c||Object(i.b)("div",{className:"RelatedCommodities-description",children:a}),Object(i.b)("div",{className:"RelatedCommodities-meta",children:o})]})]})}}]),n}(f.Component),Zr=n(1233);function Jr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var Yr=function(e){Object(d.a)(n,e);var t=Jr(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleListen=function(e){var t="".concat(e.target.closest("a").href,"?extra_auto_play=1");e.preventDefault(),e.stopPropagation(),le.a.trackEvent(e.target,{action:"OpenUrl",element_name:"Play"},{link:{url:t}}),window.open(t,"_blank")},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.item;switch(e.type){case"live":var t=e.id,n=e.subject,a=e.reviewScore,o=e.seats,r=(e.startsAt,e.speaker.member),c=r.name,s=r.avatarUrl;return Object(i.b)(Kr,{link:"/lives/".concat(t),imageUrl:s,title:n,description:c,meta:Object(i.c)("div",{className:"RelatedCommodities-scoreWrapper",children:[Object(i.b)(Zr.a,{score:a}),Boolean(o&&o.taken)&&"".concat(o.taken," 人参与"),!1]})});case"remix_album":case"podcast":case"remix":var l=e.id,u=e.artwork,d=e.title,b=e.author,h=(b=void 0===b?{}:b).user,f=e.trackCount,p="/remix/albums/".concat(l);return Object(i.b)(Kr,{link:p,imageUrl:u,title:d,description:h&&h.name,meta:Object(i.c)("div",{className:"RelatedCommodities-remixMeta",children:[Object(i.c)("div",{children:["共 ",Object(Be.formatNumber)(f)," 节课"]}),Object(i.b)(G.c,{className:"RelatedCommodities-remixListen",onClick:this.handleListen,preset:"plain",children:"试听"})]})});case"special":var m=e.id,v=e.subject,O=e.liveCount,j=e.liveMemberCount,g=e.speakers,y=e.artworkMobile,w=g.slice(0,2).map((function(e){return e.member.name})).join("、");return Object(i.b)(Kr,{link:"/lives/specials/".concat(m),imageUrl:y,title:v,description:"".concat(w).concat(g.length>=2?" 等":""),meta:"".concat(Object(Be.formatNumber)(O)," 场 Live, ").concat(Object(Be.formatNumber)(j)," 次参与")});case"book":var C=e.id,x=e.title,k=e.cover,A=e.authorName,S=e.readCount;return Object(i.b)(Kr,{link:"/pub/book/".concat(C),imageUrl:k,title:x,description:A,meta:Object(i.c)("div",{className:"RelatedCommodities-bookMeta",children:["".concat(Object(Be.formatNumber)(S)," 人读过"),Object(i.c)("span",{className:"RelatedCommodities-bookRead",children:[Object(i.b)(Gr.a,{width:13,height:14,center:!0}),"阅读"]})]})});default:return null}}}]),n}(f.Component),Xr=Object(x.b)((function(e){var t=e.item,n=e.index;if("book"===t.type)return{module:"EBookItem",index:n,content:{type:"EBook",token:String(t.id)},trackCardShow:!0};var i="special"===t.type?"LiveAlbum":Object(_r.pascalize)(t.type);return{module:"".concat(i,"Item"),index:n,content:Object.assign({type:i,id:t.id},"live"===t.type&&{author_member_hash_id:t.speaker.member.id}),trackCardShow:!0}}))(Yr);function $r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var ec=function(e){Object(d.a)(n,e);var t=$r(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.question.id,n=e.answer;(0,e.loadRelatedCommodities)(t,n&&n.id)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.question.id,i=t.loadRelatedCommodities,a=e.question.id;n!==a&&i(a)}},{key:"componentDidUpdate",value:function(e){!e.items&&this.props.items&&this.props.onLoad&&this.props.onLoad()}},{key:"render",value:function(){var e=this.props.items;return e&&e.length?Object(i.c)(fa.d,{children:[Object(i.b)(fa.b,{className:"RelatedCommodities-title",children:"相关推荐"}),Object(i.b)(fa.c,{className:"RelatedCommodities-list",children:e.slice(0,3).map((function(e){return Object(i.b)(Xr,{item:e},e.id)}))})]}):null}}]),n}(f.Component),tc=Object(E.compose)(Object(O.connect)((function(e,t){var n=e.question.relatedCommodities[t.question.id];return{attachedInfo:(n||[]).attachedInfo,items:n}}),{loadRelatedCommodities:I.ab}),Object(x.b)((function(e){return{attachedInfoBytes:e.attachedInfo,module:"ContentList",moduleName:"相关推荐"}})))(ec),nc=n(1677),ic=n(1078);function ac(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var oc=function(e){Object(d.a)(n,e);var t=ac(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).goToBrand=function(){var t=e.props.brand.target;t&&(location.href="/org/".concat(t.urlToken))},e}return Object(u.a)(n,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.brand,n=e.brand,i=e.loadProfile;t&&n&&t.name!==n.name&&n.target&&n.target.urlToken&&i(n.target.urlToken,!1)}},{key:"render",value:function(){var e=this.props,t=e.brand,n=t.logo,a=t.name,o=t.target,r=t.isPuQuestion,c=e.brandMember,s=this.context.currentUser,l=r?"关于大咖":"关于品牌";return Object(i.c)(fa.d,{className:de()({MobileBrandQuestionAuthor:!1}),children:[Object(i.b)(fa.b,{className:"BrandQuestionAuthor-header",children:Object(i.b)("span",{className:"BrandQuestionAuthor-headerText",children:l})}),Object(i.c)(fa.c,{className:de()("BrandQuestionAuthor",o&&"is-clickable"),onClick:this.goToBrand,children:[Object(i.b)("img",{src:n,className:"BrandQuestionAuthor-icon",alt:"brand"}),Object(i.c)("div",{className:"BrandQuestionAuthor-content",children:[Object(i.c)("div",{className:"BrandQuestionAuthor-name",children:[a,o&&o.urlToken&&Object(i.b)(je.c,{css:{marginLeft:3},badge:o.badge})]}),o&&o.headline&&Object(i.b)("div",{className:"BrandQuestionAuthor-intro",children:o.headline})]})]}),c&&c.id&&s&&s.id!==c.id&&Object(i.b)(ic.a,{className:"BrandQuestionAuthor-buttons",user:c})]})}}]),n}(f.Component);oc.contextTypes={currentUser:v.a.object};var rc=Object(O.connect)((function(e){var t=e.entities,n=e.question.brand,i={};return n&&n.target&&n.target.urlToken&&(i=t.users[n.target.urlToken]||{}),{brand:n,brandMember:i}}),{loadBrand:I.I,loadProfile:Lr.i})(oc),cc=Object(E.compose)(a.withRouter,Object(q.a)(null))((function(e){var t=e.params,n=Object(O.useSelector)((function(e){return Object(I.db)(e,{id:t.id})})),a=Object(O.useDispatch)();return Object(f.useEffect)((function(){n||a(Object(I.X)(t.id))}),[t.id]),null!=n&&n.title?n.vote&&!n.vote.disable?null:Object(i.b)(fa.d,{css:{marginBottom:"10px"},children:Object(i.b)(_i,{data:n})}):null})),sc=n(291),lc=Object(E.compose)(Object(q.a)(null),sc.b,Object(O.connect)(null,{getReadingMembership:I.w}))((function(e){var t=e.getReadingMembership,n=e.isLogin,a=Object(f.useState)(!1),r=Object(o.a)(a,2),c=r[0],s=r[1],l=Object(f.useState)(!1),u=Object(o.a)(l,2),d=u[0],b=u[1];Object(f.useEffect)((function(){n&&t().then((function(e){var t=e.payload;b(t.isHaveRight)})).catch((function(){}))}),[t,n]);var h=function(){s(!c)};return d&&Object(i.c)(i.a,{children:[Object(i.c)(fa.d,{className:"ReadingMembership",onClick:h,children:[Object(i.c)("div",{className:"ReadingMembership-banner",children:[Object(i.b)("div",{children:"领取读书会会员体验卡"}),Object(i.c)("div",{children:["海量电子书免费读 ",Object(i.b)(Oi.a,{size:22})]})]}),Object(i.b)("img",{src:"https://pic3.zhimg.com/80/v2-ba02e89d92407e3e2491a27af5ace660_hd.jpeg",alt:""})]}),Object(i.b)(Wt.b,{className:"ReadingMembership-modal",onClose:h,children:c&&Object(i.c)("div",{className:"ReadingMembership-content",children:[Object(i.b)("img",{src:"https://pic2.zhimg.com/80/v2-8f8b9ff43e407c160bfc2d6352c662b6_hd.jpeg",alt:""}),Object(i.c)("div",{className:"ReadingMembership-title",children:[Object(i.b)("div",{children:"登录知乎 App 领取"}),Object(i.b)("div",{children:"读书会会员 7 天体验卡"})]}),Object(i.c)("div",{className:"ReadingMembership-qrcode",children:[Object(i.b)("div",{children:"知乎读书会会员，海量电子书免费读"}),Object(i.b)("img",{src:"https://pic2.zhimg.com/80/v2-e3a03af184c11dc3526218de74977fd5_hd.png",alt:"知乎二维码"}),Object(i.b)("div",{children:"扫码下载知乎 App"})]})]})})]})}));function uc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var dc=function(e){Object(d.a)(n,e);var t=uc(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onHeightChange=function(){e.dynamicSticky&&e.dynamicSticky.check()},e}return Object(u.a)(n,[{key:"componentWillMount",value:function(){var e=this.props,t=e.question,n=t.id,i=t.questionType,a=e.loadBrand;"commercial"===i&&a(n)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.brand,n=e.brand,i=e.loadProfile;t&&n&&t.name!==n.name&&n.target&&i(n.target.urlToken,!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.question,a=t.question,o=a.id,r=a.questionType,c=t.brand;return Object(i.b)(Mr.a,{className:"Question-sideColumn Question-sideColumn--sticky",onRef:function(t){e.sidebar=t},offset:dn.i+10,ref:function(t){e.dynamicSticky=t},children:Object(i.c)(Pr.a,{selector:".Card",children:["commercial"===r&&Object(i.b)(nc.a,{questionId:o,pageType:"question",onLoad:this.onHeightChange}),"commercial"===r&&c&&Object(i.b)(rc,{brand:c}),"commercial"!==r&&Object(i.b)(qr.a,{type:"question",getSidebar:function(){return e.sidebar}}),"normal"===r&&Object(i.b)("div",{className:"Card",children:Object(i.b)(Ir.a,{isMobile:!1,id:"question/".concat(o),location:"new_question_up",query:{question_token:o},onHeightChange:this.onHeightChange})}),Object(i.b)(cc,{}),Object(i.b)(lc,{}),Object(i.b)(ta,{id:o,question:n,position:"right"}),"normal"===r&&Object(i.b)(Vr,{question:n,onLoad:this.onHeightChange}),"normal"===r&&Object(i.b)(tc,{question:n,onLoad:this.onHeightChange}),"normal"===r&&Object(i.b)("div",{className:"Card",children:Object(i.b)(Ir.a,{isMobile:!1,id:"question/".concat(o),location:"new_question_down_sticky",query:{question_token:o},delay:500,onHeightChange:this.onHeightChange})}),"commercial"===r&&Object(i.b)(qr.a,{type:"question",getSidebar:function(){return e.sidebar}}),Object(i.b)(zr.a,{})]})})}}]),n}(f.Component),bc=Object(E.compose)(Object(q.a)(null),Object(x.b)({module:"RightSideBar"}),Object(O.connect)((function(e){return{brand:e.question.brand}}),{loadBrand:I.I,loadProfile:Lr.i}))(dc);function hc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var fc=function(e){Object(d.a)(n,e);var t=hc(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"renderAnswers",value:function(){var e=this.props,t=e.resource,n=e.question,a=n.questionType,o=n.collapsedAnswerCount,r=n.answerCount,c=n.isNormal,s=n.status,l=(s=void 0===s?{}:s).isLocked,u=e.question,d=e.location,b=e.answering,h=e.invitationShowCount,f=e.isDrained,p=e.isMuteSpecial,m=e.isMuteFreeze,v="updatedAnswers"===t||f,O="commercial"!==a&&!r;return Object(i.c)("div",{children:[Object(i.b)(Ar,{question:u,answering:b}),Object(i.b)(to,{question:u}),Boolean(h)&&!p&&!m&&Object(i.b)(Ut.a,{expandCount:h,question:u}),Object(i.b)(pr,{resource:t,question:u,location:d}),c&&!l&&"updatedAnswers"!==t&&f&&!O&&Object(i.b)(x.a,{module:"BottomBar",children:Object(i.b)(fa.d,{children:Object(i.b)(mt,{className:"QuestionAnswers-answerButton",size:"spread"})})}),v&&o>0&&!p&&Object(i.b)(Er,{question:u})]})}},{key:"render",value:function(){var e=this.props,t=e.question,n=e.isNormalNotification,a=e.notificationId,o=e.location;return Object(i.c)("div",{className:"Question-main",children:[Object(i.b)("div",{className:"Question-mainColumn",children:n?Object(i.b)(zo,{location:o,question:t,id:a}):this.renderAnswers()}),Object(i.b)(fe.a,{children:Object(i.b)(bc,{question:t})})]})}}]),n}(f.PureComponent);fc.fetchData=function(e){var t=e.params.id,n=e.route.resource,i=e.location.query,a=i.group_id,o=i.page,r=i.qc,c=e.dispatch,s=e.getState;if(!r&&a)return c(Object(I.S)(a));var l=s(),u=l.env.userAgent,d=Object(Q.isMobileSelector)(l),b=5;return u.isBot?b=20:d&&(b=4),c(Object(I.R)(t,n,{offset:Object(ko.c)(Number(o)||1),limit:b}))};var pc=Object(O.connect)((function(e,t){var n=t.params.id,i=t.route.resource,a=t.location.query,o=a.group_id,r=a.qc,c=e.currentUser,s=!r&&o,l=Ro(e,{id:n,resource:i}).isDrained,u=Object(I.eb)(e,{id:n}),d=u.answerCount,b=u.relationship.isAnonymous;return{isNormalNotification:s,notificationId:o,resource:i,question:u,isDrained:l,invitationShowCount:c&&!b&&d<4?d?5:3:0,isBot:e.env.userAgent.isBot,isHuman:Object(Q.isHumanSelector)(e),currentUser:Object(H.b)(e),canOia:Object(Q.isMobileSelector)(e),shouldOia:Object(Q.shouldOiaSelector)(e),shouldSpecialOia:Object(Q.shouldSpecialOiaSelector)(e),referer:Object(Q.refererSelector)(e),isMuteSpecial:Object(I.E)(u),isMuteFreeze:Object(I.D)(u),ua:Object(Q.uaSelector)(e),draft:Object(I.n)(e,{id:n})}}))(fc),mc=n(1127),vc=n(245),Oc=n(156);function jc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var gc=function(e){Object(d.a)(n,e);var t=jc(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={contentRef:null},e.contentRef=Object(f.createRef)(),e.handleCloseComment=function(){var t=e.props,n=t.location,i=n.pathname,a=n.search,o=t.byComment,r=t.router;o&&r.replace({pathname:i,search:a})},e.handleCloseEditing=function(){var t=e.props,n=t.location,i=n.pathname,a=n.query,o=n.hash,r=t.router;"#draft"===o&&r.replace({pathname:i,query:a})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.answer.id,n=e.loadContentRightsNotification;this.context.currentUser&&Object(be.c)("answer",t,be.a),this.setState({contentRef:this.contentRef.current}),Ae.a.get("answer::justPublished")&&(Ae.a.delete("answer::justPublished"),n("answer",t))}},{key:"render",value:function(){var e,t=this.props,n=t.question,a=n.id,o=n.relationship,r=o.canCollapseAnswers,c=o.canStickAnswers,s=n.hasPublishingDraft,l=t.answer,u=t.location,d=t.location.hash,b=t.isSearchSpecialSource,h=t.hasLoadedDraft;return(null==l||null===(e=l.question)||void 0===e?void 0:e.id)!==a||l.isDelete?Object(i.b)(mc.a,{to:"/question/".concat(a)}):Object(i.b)(fa.d,{className:"AnswerCard",children:Object(i.b)("div",{className:"QuestionAnswer-content",ref:this.contentRef,tabIndex:0,children:Object(i.b)(vc.d.Provider,{value:this.state.contentRef,children:Object(i.b)(xo.a,{relatedTo:"answer",answer:l,byComment:Object(jn.a)(d),onCloseComment:this.handleCloseComment,onCloseEditing:this.handleCloseEditing,canCollapse:r,canStick:c,editing:h&&Object(jt.f)(u),editable:!0,canAbstract:!0,expanded:b||!0,hasPublishingDraft:s,itemProp:"mainEntityOfPage",showReviewingLabel:!0,isSearchSpecialSource:b})})})})}}]),n}(f.Component);gc.contextTypes={currentUser:v.a.object};var yc=Object(E.compose)(a.withRouter,Object(O.connect)((function(e,t){var n,i,a=e.question,o=(a=void 0===a?{}:a).draftStatus,r=t.answer;return{hasLoadedDraft:!1===(null==o||null===(n=o[null==r||null===(i=r.question)||void 0===i?void 0:i.id])||void 0===n?void 0:n.loading)}}),{loadAnswer:U.o,loadContentRightsNotification:Oc.xb}))(gc);function wc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var Cc=function(e){Object(d.a)(n,e);var t=wc(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isDrained,n=e.items;t||n.length||this.loadItems()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.question.id,n=e.question.id,i=e.isDrained,a=e.items;n!==t&&!i&&a.length<2&&this.loadItems()}},{key:"loadItems",value:function(){var e=this.props,t=e.question.id,n=e.loadItems;return n(t,"answers",{limit:3})}},{key:"render",value:function(){var e=this.props,t=e.question.relationship.canCollapseAnswers,n=e.items,a=e.isWechat;return Boolean(n.length)&&Object(i.b)(fa.d,{className:"MoreAnswers",children:Object(i.b)(no.b,{title:"更多回答","data-zop-feedlist":!0,children:n.map((function(e){return Object(i.b)(Co.a,{children:Object(i.b)(xo.a,{relatedTo:"question",answer:e,canCollapse:t,lastreadTouchable:!0,blockReading:!a})},e.id)}))})})}}]),n}(f.Component),xc=Object(O.connect)((function(e,t){var n=t.question.id,i=t.answerId,a=e.entities.answers,o=e.question.answers[n]||{ids:[],isDrained:!1},r=o.ids;return{isDrained:o.isDrained,items:r.filter((function(e){return e!==Number(i)})).slice(0,2).map((function(e){return a[e]})),isWechat:e.env.userAgent.Wechat}}),{loadAnswer:U.o,loadItems:I.R})(Cc),kc=n(954),Ac=n(1014),Sc=n(1262),Rc=n(113);function Nc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var Tc=function(e){Object(d.a)(n,e);var t=Nc(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.author;return t&&t.length?Object(i.c)("div",{className:"AnswerAuthor-item",children:[Object(i.b)("span",{className:"AnswerAuthor-item-icon",children:Object(i.b)(Sc.a,{text:!0,center:!0})}),Object(i.b)("div",{className:"AnswerAuthor-item-value",children:Object(i.c)(Ac.CJKSpace,{children:[t.slice(0,3).map((function(e,t){return Object(i.c)("span",{children:[0!==t&&"、",Object(i.b)(Ft.a,{user:e,noBadge:!0,noHoverCard:!0,children:e.name})]},e.urlToken)})),"也关注了",dn.O[n.gender]]})})]}):null}}]),n}(f.Component);Tc.propTypes={author:v.a.object.isRequired};var Bc=Object(E.compose)(Object(O.connect)((function(e,t){var n=t.author;return Object.assign({currentUser:Object(H.b)(e)},n&&function(e,t){var n=t.urlToken||t.id,i=e.people.mutualsByUser[n]||{isDrained:!1,isFetching:!1,ids:[]};return{isDrained:i.isDrained,isFetching:i.isFetching,items:i.ids.map((function(t){var n=Object(Rc.c)(e,{id:t});return n.code?null:n})).filter(Boolean)}}(e,{urlToken:n.urlToken}))}),{loadItems:Lr.g}),Object(tn.a)({shouldLoad:function(e){return e.currentUser&&e.author&&e.author.urlToken&&e.currentUser.urlToken!==e.author.urlToken&&!e.isDrained},load:function(e){return e.loadItems(e.author.urlToken,"mutuals")}}))(Tc),Ec=n(941),Ic=n(931);function qc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var zc=function(e){return e&&void 0!==e.answerCount&&"undefined"!=typeof articlesCount&&"undefined"!=typeof followerCount&&void 0!==e.badge};var Mc=function(e){Object(d.a)(n,e);var t=qc(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.nextItem()}},{key:"componentWillReceiveProps",value:function(e){this.props.answer.author.urlToken!==e.answer.author.urlToken&&this.nextItem(e)}},{key:"componentDidUpdate",value:function(e){!e.user&&this.props.user&&this.props.onLoad&&this.props.onLoad()}},{key:"nextItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.answer.author.urlToken,n=e.loadProfile,i=e.isDrained;t&&(i||n(t))}},{key:"render",value:function(){var e,t=this.props,n=t.user,a=t.isSelf;if(!n)return null;var o=n.urlToken,r=n.isOrg,c=n.headline,s=n.badge,l=n.badgeV2,u=n.answerCount,d=n.articlesCount,b=n.followerCount,h=je.e(l||s),f=h.identity,p=h.bestAnswerer,m=h.baike,v=r?"org":"people";return Object(i.c)(fa.d,{className:"AnswerAuthor",role:"complementary","aria-label":"关于作者",children:[Object(i.b)(fa.b,{className:"AnswerAuthor-title",children:"关于作者"}),Object(i.b)(fa.c,{children:Object(i.c)("div",{className:"AnswerAuthor-user",children:[Object(i.b)("div",{className:"AnswerAuthor-user-avatar",children:Object(i.b)(Ec.a,{user:n,avatarProps:{size:60},noHoverCard:!0})}),Object(i.c)("div",{className:"AnswerAuthor-user-content",children:[Object(i.b)("div",{className:"AnswerAuthor-user-name",children:Object(i.b)(Ic.a,{user:n,noBadge:!0,noHoverCard:!0})}),c&&Object(i.b)("div",{className:"AnswerAuthor-user-headline",children:Object(i.b)(Ht.a,{html:c})})]})]})}),Object(i.c)(fa.c,{children:[f&&Object(i.c)("div",{className:"AnswerAuthor-item",children:[Object(i.b)("a",{className:"AnswerAuthor-item-icon",href:"/account/verification/intro",target:"_blank",children:Object(i.b)(je.a,{center:!0,size:19})}),Object(i.b)("div",{className:"AnswerAuthor-item-value",children:f.slice(0,2).map((function(e){return e.description})).join("，")})]}),Boolean(null==p||null===(e=p.topics)||void 0===e?void 0:e.length)&&Object(i.c)("div",{className:"AnswerAuthor-item",children:[Object(i.b)("span",{className:"AnswerAuthor-item-icon",children:Object(i.b)(je.b,{center:!0,size:19})}),Object(i.c)("div",{children:[Object(i.b)(kc.a,{topics:p.topics,user:n,noHoverCard:!0}),"的优秀答主"]})]}),Boolean(m)&&Object(i.c)("div",{className:"AnswerAuthor-item",children:[Object(i.b)("span",{className:"AnswerAuthor-item-icon",children:Object(i.b)(je.d,{center:!0,size:19})}),Object(i.b)("div",{children:m.description})]}),n&&!a&&Object(i.b)(Bc,{author:n})]}),o&&Object(i.c)(fa.c,{children:[Object(i.b)("div",{className:"AnswerAuthor-counts",children:Object(i.c)(Kt.a,{children:[Object(i.b)(Kt.a.Item,{tag:ht.a,preset:"plain",to:"/".concat(v,"/").concat(o,"/answers"),name:"回答",value:u,"data-za-detail-view-element_name":"Answer"}),Object(i.b)(Kt.a.Item,{tag:ht.a,preset:"plain",to:"/".concat(v,"/").concat(o,"/posts"),name:"文章",value:d,"data-za-detail-view-element_name":"Post"}),Object(i.b)(Kt.a.Item,{tag:ht.a,preset:"plain",to:"/".concat(v,"/").concat(o,"/followers"),name:"关注者",value:b,"data-za-detail-view-element_name":"Follower"})]})}),!a&&Object(i.b)(ic.a,{className:"AnswerAuthor-buttons",user:n})]})]})}}]),n}(f.Component),Pc=Object(O.connect)((function(e,t){var n=t.answer,i=n.author,a=n.author.urlToken,o=e.entities.users,r=a?o[a]:i;return{currentUser:Object(H.b)(e),isDrained:zc(r),user:r,isSelf:Object(H.i)(e,r)}}),{loadProfile:Lr.i})(Mc),Lc=n(894),Dc=n(1151);function Qc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var Hc=function(e){Object(d.a)(n,e);var t=Qc(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).load=function(){var t=e.props,n=t.answer.id;(0,t.loadAnswerFavlists)(n)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.count,a=e.isFetching,o=e.isDrained;return Object(i.c)("div",{className:"AnswerFavlists",children:[Object(i.b)("div",{className:"AnswerFavlists-header",children:Object(i.c)("div",{className:"AnswerFavlists-title",children:["被收藏 ",Object(Be.formatNumber)(n)," 次"]})}),!(o&&!t.length)&&Object(i.b)(pa.b,{className:"AnswerFavlists-list",isLocal:!0,isLoading:a,isDrained:o,onLoad:this.load,getContainer:function(e){return e},placeholder:Object(i.b)(pa.a,{className:"AnswerFavlists-item",small:!0}),children:t.map((function(e){var t=e.id,n=e.type,a=e.creator,o=e.isFollowing,r=e.answerCount,c=e.followerCount;return Object(i.b)(no.a,{children:Object(i.b)(Dc.a,{favlist:e,action:Object(i.b)(vt.a,{preset:"primary",id:t,type:n,isFollowing:o}),status:Object(i.c)(Lc.d,{children:[Object(i.c)("span",{children:["由"," ",Object(i.b)(Ft.a,{user:a,noBadge:!0,noHoverCard:!0,target:"_blank"})," ","创建"]}),Object(i.c)("span",{children:[Object(Be.formatNumber)(r)," 条内容"]}),Object(i.c)("span",{children:[Object(Be.formatNumber)(c)," 人关注"]})]})})},t)}))})]})}}]),n}(f.Component),Fc=Object(E.compose)(Object(O.connect)((function(e,t){var n=t.answer.id,i=e.entities.favlists,a=e.answers.favlists[n]||{isFetching:!1,isDrained:!1,totals:0,ids:[]};return{items:a.ids.map((function(e){return i[e]})),count:a.totals,isFetching:a.isFetching,isDrained:a.isDrained}}),{loadAnswerFavlists:U.t}),Object(x.b)({module:"CollectionList"}))(Hc),Uc=n(975);function Vc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var _c=function(e){Object(d.a)(n,e);var t=Vc(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).load=function(){var t=e.props,n=t.answer.id;(0,t.loadAnswerCopyrightApplicants)(n)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.count,a=e.isFetching,o=e.isDrained;return Object(i.c)("div",{className:"AnswerCopyrightApplicants",children:[Object(i.b)("div",{className:"AnswerCopyrightApplicants-header",children:Object(i.c)("div",{className:"AnswerCopyrightApplicants-title",children:["授权转载 ",Object(Be.formatNumber)(n)," 次"]})}),!(o&&!t.length)&&Object(i.b)(pa.b,{className:"AnswerCopyrightApplicants-list",isLocal:!0,isLoading:a,isDrained:o,onLoad:this.load,getContainer:function(e){return e},placeholder:Object(i.b)(pa.a,{className:"AnswerCopyrightApplicants-item",small:!0}),children:t.map((function(e){var t=e.applier,n=e.accountType,a=e.accountUsername,o=e.createdAt;return Object(i.b)("div",{className:"AnswerCopyrightApplicants-item",children:Object(i.b)(Uc.a,{user:t,meta:"".concat(n," ").concat(a),status:null,action:Object(i.c)("div",{className:"AnswerCopyrightApplicants-time",children:["申请于 ",Object(k.toDateString)(o)]})})},"".concat(t.name,".").concat(o))}))})]})}}]),n}(f.Component),Gc=Object(O.connect)((function(e,t){var n=t.answer.id,i=e.entities.copyrightApplicants,a=e.answers.copyrightApplicants[n]||{isFetching:!1,isDrained:!1,totals:0,ids:[]};return{items:a.ids.map((function(e){return i[e]})),count:a.totals,isFetching:a.isFetching,isDrained:a.isDrained}}),{loadAnswerCopyrightApplicants:U.r})(_c);function Wc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var Kc=function(e){Object(d.a)(n,e);var t=Wc(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.copyrightApplicant,t=e.applier,n=e.accountType,a=e.accountUsername,o=e.createdAt;return Object(i.c)("div",{className:"AnswerInfo-copyright-applicant",children:[Object(i.b)(Ft.a,{user:t,noBadge:!0,noHoverCard:!0,target:"_blank"}),"，",n," ",a]},"".concat(t.name,".").concat(o))}}]),n}(f.Component);function Zc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var Jc=function(e){Object(d.a)(n,e);var t=Zc(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.copyrightApplicants;return Object(i.b)(fa.c,{className:"AnswerInfo-copyright-applicants",children:e.map((function(e,t){return Object(i.b)(Kc,{copyrightApplicant:e},t)}))},"content")}}]),n}(f.Component);function Yc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var Xc=function(e){Object(d.a)(n,e);var t=Yc(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.favlist,t=e.id,n=e.title,a=e.followerCount,o=e.creator;return Object(i.c)("div",{className:"AnswerInfo-favlist",children:[Object(i.b)("div",{className:"AnswerInfo-favlist-title",children:Object(i.b)(ht.a,{preset:"plain",a:!0,to:"/collection/".concat(t),target:"_blank","data-za-detail-view-element_name":"Collection",title:n,children:n})}),Object(i.c)("div",{className:"AnswerInfo-favlist-author",children:[Object(i.b)(Ft.a,{user:o,noBadge:!0,noHoverCard:!0,target:"_blank","data-za-detail-view-element_name":"Author"})," ","创建"]}),Object(i.c)("div",{className:"AnswerInfo-favlist-followers",children:[Object(Be.formatNumber)(a)," 人关注"]})]},t)}}]),n}(f.Component),$c=Object(x.b)((function(e){var t=e.favlist;return{module:"CollectionItem",content:{type:"Collection",token:String(t.id),follower_num:t.followerCount,author_member_hash_id:t.creator.id},trackCardShow:!0}}))(Xc);function es(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var ts=function(e){Object(d.a)(n,e);var t=es(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.favlists;return Object(i.b)(fa.c,{className:"AnswerInfo-favlists",children:e.map((function(e){return Object(i.b)($c,{favlist:e},e.id)}))},"content")}}]),n}(f.Component),ns=Object(x.b)({module:"CollectionList"})(ts);function is(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var as=function(e){Object(d.a)(n,e);var t=is(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={copyrightApplicantsModalShown:!1,favlistsModalShown:!1},e.handleCopyrightApplicantsModalShow=function(){le.a.trackEvent(Object(st.a)(e),{action:"Click",element:"Button",name:"转载授权"}),e.setState({copyrightApplicantsModalShown:!0})},e.handleCopyrightApplicantsModalHide=function(){e.setState({copyrightApplicantsModalShown:!1})},e.handleFavlistsModalShow=function(){le.a.trackEvent(Object(st.a)(e),{action:"Click",element:"Button",name:"被收藏"}),e.setState({favlistsModalShown:!0})},e.handleFavlistsModalClose=function(){e.setState({favlistsModalShown:!1})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.answer.id,n=e.copyrightApplicants,i=e.favlists,a=e.loadAnswerCopyrightApplicants,o=e.loadAnswerFavlists;n.length||i.length||(a(t),o(t))}},{key:"componentDidUpdate",value:function(e){this.props.onLoad&&(!e.copyrightApplicants.length&&this.props.copyrightApplicants.length||!e.favlists.length&&this.props.favlists.length)&&this.props.onLoad()}},{key:"render",value:function(){var e=this.props,t=e.answer,n=e.copyrightApplicants,a=e.copyrightApplicantCount,o=e.favlists,r=e.favlistCount,c=this.state,s=c.favlistsModalShown,l=c.copyrightApplicantsModalShown;return n.length||o.length?Object(i.c)(fa.d,{role:"complementary","aria-label":"更多回答信息",children:[Boolean(n.length)&&[Object(i.c)(fa.b,{className:"AnswerInfo-title",children:["授权转载"," ",Object(i.b)(G.c,{preset:"plain",onClick:this.handleCopyrightApplicantsModalShow,children:Object(Be.formatNumber)(a)})," ","次"]},"header"),Object(i.b)(Jc,{copyrightApplicants:n.slice(0,5)},"content")],Boolean(o.length)&&[Object(i.c)(fa.b,{className:"AnswerInfo-title",children:["被收藏"," ",Object(i.b)(G.c,{preset:"plain",onClick:this.handleFavlistsModalShow,children:Object(Be.formatNumber)(r)})," ","次"]},"header"),Object(i.b)(ns,{favlists:o.slice(0,5)},"content")],Object(i.b)(Wt.b,{size:"fullPage",onClose:this.handleFavlistsModalClose,children:s&&Object(i.b)(Fc,{answer:t})}),Object(i.b)(Wt.b,{size:"fullPage",onClose:this.handleCopyrightApplicantsModalHide,children:l&&Object(i.b)(Gc,{answer:t})})]}):null}}]),n}(f.Component),os=Object(O.connect)((function(e,t){var n=t.answer.id,i=e.entities,a=i.copyrightApplicants,o=i.favlists,r=e.answers.copyrightApplicants[n]||{totals:0,ids:[]},c=e.answers.favlists[n]||{totals:0,ids:[]};return{copyrightApplicants:r.ids.map((function(e){return a[e]})),copyrightApplicantCount:r.totals,favlists:c.ids.map((function(e){return o[e]})),favlistCount:c.totals}}),{loadAnswerCopyrightApplicants:U.r,loadAnswerFavlists:U.t})(as);function rs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var cs=function(e){Object(d.a)(n,e);var t=rs(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onHeightChange=function(){e.dynamicSticky&&e.dynamicSticky.check()},e}return Object(u.a)(n,[{key:"shouldComponentUpdate",value:function(e){return e.answer.id!==this.props.answer.id}},{key:"render",value:function(){var e=this,t=this.props,n=t.question,a=t.question,o=a.id,r=a.questionType,c=t.answer,s=Object(U.n)(c)||Object(U.l)(c);return Object(i.b)(Mr.a,{className:"Question-sideColumn Question-sideColumn--sticky",onRef:function(t){e.sidebar=t},offset:dn.i+10,ref:function(t){e.dynamicSticky=t},children:Object(i.c)(Pr.a,{selector:".Card",children:[Object(i.b)(qr.a,{type:"question",getSidebar:function(){return e.sidebar}}),s||"normal"===r&&437329650!==o&&Object(i.b)("div",{className:"Question-sideColumnAdContainer",children:Object(i.b)(Ir.a,{isMobile:!1,id:"question/".concat(o,"/answer/").concat(c.id),location:"new_answer_up",query:{question_token:o,answer_token:c.id},onHeightChange:this.onHeightChange})}),"commercial"===r&&Object(i.b)(nc.a,{questionId:o}),c.author&&Object(i.b)(Pc,{answer:c,onLoad:this.onHeightChange}),Object(i.b)(cc,{}),Object(i.b)(os,{answer:c,onLoad:this.onHeightChange}),Object(i.b)(lc,{}),Object(i.b)(ta,{id:o,question:n,position:"right"}),s||"normal"===r&&Object(i.b)(Vr,{question:n,onLoad:this.onHeightChange}),s||"normal"===r&&Object(i.b)(tc,{answer:c,question:n,onLoad:this.onHeightChange}),s||"normal"===r&&437329650!==o&&Object(i.b)("div",{children:Object(i.b)(Ir.a,{isMobile:!1,id:"question/".concat(o,"/answer/").concat(c.id),location:"new_answer_down_sticky",query:{question_token:o,answer_token:c.id},delay:1e3,onHeightChange:this.onHeightChange})}),Object(i.b)(zr.a,{})]})})}}]),n}(f.Component),ss=Object(E.compose)(Object(q.a)(null),Object(x.b)((function(e){var t=e.answer;return{module:"RightSideBar",content:Object.assign({},t.author&&{member_hash_id:t.author.id})}})))(cs);function ls(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var us=function(e){Object(d.a)(n,e);var t=ls(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.to,n=e.itemNum,a=e.questionType;e.bottom;return Object(i.b)(fa.d,{className:de()("ViewAll",{"ViewAll--bottom":!1}),children:Object(i.b)(io.a,{className:"ViewAll-QuestionMainAction",to:t,"data-za-detail-view-element_name":"ViewAll",style:{},children:"commercial"===a?"查看 ".concat(Object(Be.formatNumber)(n)," 个品牌推荐的回答"):"查看全部 ".concat(Object(Be.formatNumber)(n)," 个回答")})})}}]),n}(f.Component),ds=Object(x.b)((function(e){return{module:"MessageItem",content:{item_num:e.itemNum}}}))(us),bs=n(1213),hs=Object.assign;var fs=function(e){return p.a.createElement(ze.a,hs({width:"43",height:"50",fill:"none",viewBox:"0 0 43 50"},e),p.a.createElement("path",{fill:"#121212",d:"M23.376 45.237c-1.567 0-3.133.012-4.698 0a1.701 1.701 0 00-1.133.386 507.16 507.16 0 01-4.493 3.517 3.959 3.959 0 01-.694.449 1.305 1.305 0 01-1.792-1.537c.239-.737.477-1.47.744-2.192.158-.42.153-.597-.384-.68-1.963-.3-3.672-1.093-4.879-2.756a7.614 7.614 0 01-1.272-2.983c-.098-.477-.238-.455-.651-.317-.625.212-.783.568-.601 1.16.041.155.057.316.047.477a.988.988 0 01-.806 1.03.954.954 0 01-1.162-.589c-.115-.257-.189-.417-.527-.408a1.009 1.009 0 01-1.003-.701c-.188-.463.015-.828.337-1.112.238-.22.238-.356.067-.625a1.023 1.023 0 01.238-1.432.98.98 0 011.377.203c.293.348.542.344.966.227 1.315-.365 1.974-1.088 1.99-2.534.015-1.239.346-2.467.494-3.706.158-1.314-.1-2.61-.258-3.905-.205-1.67-.477-3.34-.742-4.992-.136-.89.44-1.462 1.325-1.312 1.119.186 1.104.183 1.255-.955.224-1.689.45-3.376.715-5.058a1.102 1.102 0 00-.522-1.243C5.336 12.284 4.34 10.273 3.93 7.954c-.462-2.57.65-4.554 2.53-6.175C8.34.156 10.609-.166 12.993.068a11.67 11.67 0 013.884 1.028 5.311 5.311 0 012.147 1.728c.303.436.645.541 1.138.539 4.362-.017 8.721 0 13.08 0 1.776 0 3.415.413 4.813 1.563 2.04 1.67 2.784 3.87 2.558 6.442-.009.08-.023.16-.04.239-.178.954-.21 1.655.715 2.479a4.5 4.5 0 01.386 6.15 13.421 13.421 0 01-2.2 2.246 1.322 1.322 0 00-.548.928c-.604 4.355-1.267 8.7-1.814 13.06-.539 4.327-3.407 7.65-7.566 8.59-.876.169-1.768.235-2.66.198H23.38l-.003-.021z"}),p.a.createElement("path",{fill:"#FEFEFE",d:"M12.394 47.606c.441-1.293.809-2.417 1.21-3.526.136-.377 0-.442-.335-.444-.715 0-1.431-.019-2.147-.07-1.346-.095-2.458-.698-3.412-1.624a1.357 1.357 0 01-.425-1.105c.046-.93.062-1.863.062-2.794a.614.614 0 01.492-.692c.513-.148 1.014-.338 1.517-.517.442-.156.642-.478.509-.929-.144-.477-.537-.532-.955-.41-.322.09-.64.21-.954.31-.403.13-.601 0-.592-.446.02-.89 0-1.782.024-2.675.05-2.944-.33-5.85-.775-8.751-.02-.117-.043-.239-.055-.351-.046-.535.086-.659.606-.53 1.095.267 2.2.504 3.278.833 1.67.51 3.329.365 4.975-.1 1.97-.559 3.798-1.473 5.64-2.343a1.038 1.038 0 00.604-.955c.072-1.047.16-2.095.238-3.14.048-.61.184-.715.747-.477 1.625.628 3.252 1.25 4.865 1.909a3.12 3.12 0 002.195.074c1.73-.558 3.348-1.413 5.018-2.114.745-.306.768-.306 1.074.458.532 1.322 1.038 2.653 1.603 3.963.191.444.079.695-.265.954a37.672 37.672 0 01-4.576 2.976c-.833.463-.883.568-.716 1.517.838 4.57 1.217 9.189 1.556 13.813a1.209 1.209 0 01-.44 1.085c-1.631 1.494-3.552 2.148-5.752 2.148-3.101-.029-6.184 0-9.276 0a1.432 1.432 0 00-1 .374c-1.436 1.179-2.93 2.317-4.538 3.58z"}),p.a.createElement("path",{fill:"#06F",d:"M32.376 15.823a3.172 3.172 0 00-.04-.366c-.284-1.171.035-2.087 1.026-2.834.584-.441.61-.926.293-1.403s-.78-.573-1.45-.239c-.24.122-.299.072-.356-.157a1.583 1.583 0 00-.212-.477.936.936 0 00-1.14-.408.995.995 0 00-.693 1.062c.023.211.06.42.112.627-.365-.05-.69-.239-1.05-.086a.99.99 0 00-.675.759.869.869 0 00.415.973c.392.239.802.427 1.215.62a.548.548 0 01.394.52c.023.655.076 1.308.133 1.957a.46.46 0 01-.327.542 2.832 2.832 0 01-2.343.05c-1.894-.8-3.817-1.517-5.743-2.26-.97-.376-1.536-.028-1.63 1.005-.114 1.262-.238 2.524-.312 3.791a.809.809 0 01-.51.78c-1.797.83-3.594 1.67-5.56 2.031a6.441 6.441 0 01-2.708-.06c-.752-.176-1.494-.398-2.248-.555-.36-.075-.439-.24-.39-.568.28-1.922.552-3.843.813-5.765.043-.322.183-.418.477-.336.424.112.871.104 1.29-.024.492-.132.82.045 1.163.365a8.126 8.126 0 003.209 1.849c.828.239 1.243-.11 1.08-.954-.142-.738-.262-1.482-.443-2.212a1 1 0 01.334-1.093 17.656 17.656 0 002.758-3.34c.821-1.272 1.265-2.642.954-4.171-.083-.418.063-.506.451-.506 4.18.012 8.363 0 12.544.012 1.708 0 3.242.477 4.435 1.782 1.29 1.42 1.484 3.102 1.336 4.94-.095 1.176-.522 1.791-1.732 2.147-1.489.434-2.878 1.21-4.309 1.837-.17.1-.363.157-.56.165z"}),p.a.createElement("path",{fill:"#FEFEFE",d:"M14.94 15.307c-.871-.3-1.477-.87-2.088-1.431-.318-.291-.685-.477-1.129-.392-1.88.404-3.219-.587-4.4-1.806-1.479-1.53-2.2-3.426-1.892-5.538.33-2.25 2.699-4.328 4.99-4.56 1.838-.206 3.7.034 5.425.702 2.83 1.107 3.775 3.844 2.207 6.442a15.454 15.454 0 01-3.102 3.656.992.992 0 00-.367 1.143c.153.56.231 1.147.356 1.784z"}),p.a.createElement("path",{fill:"#06F",d:"M35.01 38.244a128.668 128.668 0 00-.763-7.824 60.35 60.35 0 00-.527-3.464.584.584 0 01.324-.716c.842-.52 1.67-1.062 2.51-1.59.146-.09.296-.295.463-.197.167.098.088.36.064.544-.226 1.652-.455 3.299-.687 4.939-.362 2.507-.73 5.014-1.105 7.523a1.38 1.38 0 01-.279.785z"}),p.a.createElement("path",{fill:"#B7B7B6",d:"M37.792 17.19c-.238-.239-.353-.392-.303-.6 0-.03.13-.073.139-.061a.98.98 0 01.164.66z"}),p.a.createElement("path",{fill:"#121212",d:"M20.92 27.309c.025.954-.488 1.479-1.43 1.5-.943.022-1.633-.615-1.64-1.56-.007-.945.697-1.53 1.804-1.546.9-.012 1.231.42 1.267 1.606z"}),p.a.createElement("path",{fill:"#444",d:"M11.938 5.575c.172-.137.35-.265.537-.382a.804.804 0 011.178.294c.378.652.654 1.358.816 2.094.1.38-.176.432-.43.492-.252.06-.522.112-.6-.265-.094-.444-.172-.895-.308-1.329-.079-.255-.131-.656-.563-.518-.396.124-.477.416-.31.802.183.44.312.897.491 1.336.217.535-.2.623-.518.728-.317.105-.749.339-.93-.239a33.209 33.209 0 01-.897-3.567c-.098-.477.26-.553.584-.651.325-.098.575-.045.673.348.072.289.074.6.277.857zM9.266 9.09l.954-.356c.191-.067.356-.048.442.165a.32.32 0 01-.047.376.322.322 0 01-.11.077 9.983 9.983 0 01-2.172.775c-.446.093-.675-.238-.525-.715.22-.697.477-1.38.733-2.09-.332-.077-.616.095-.912.166-.186.046-.358.074-.453-.143a.354.354 0 01.179-.5c.67-.302 1.4-.445 2.133-.42.415.018.551.338.422.737-.196.591-.398 1.188-.644 1.927zm6.461-1.544c-.289.043-.458-.096-.55-.39-.15-.477-.238-.954-.355-1.43-.152-.597.208-.74.626-.862.46-.136.57.212.684.537.115.324.253.715.377 1.059.25.704-.002 1.064-.782 1.086z"}),p.a.createElement("path",{fill:"#4A4B4A",d:"M15.037 3.055a.77.77 0 01.75.77.728.728 0 01-.779.745.716.716 0 01-.741-.751c.028-.485.324-.707.77-.764z"}))},ps=Object.assign;var ms=function(e){return p.a.createElement(ze.a,ps({width:"14",height:"14",fill:"none",viewBox:"0 0 14 14"},e),p.a.createElement("mask",{id:"id-628033106-a",width:"14",height:"14",x:"0",y:"0",maskUnits:"userSpaceOnUse"},p.a.createElement("path",{fill:"#fff",d:"M.001.014h13.985V14H.001V.014z",fillRule:"evenodd",clipRule:"evenodd"})),p.a.createElement("g",{mask:"url(#id-628033106-a)"},p.a.createElement("path",{fill:"#121212",d:"M2.543 8.278a.636.636 0 010 1.272h-.636A1.907 1.907 0 010 7.643V1.92C0 .868.854.014 1.907.014H7.63c1.053 0 1.907.854 1.907 1.907v.636a.636.636 0 01-1.271 0V1.92a.636.636 0 00-.636-.636H1.907a.636.636 0 00-.636.636v5.722c0 .35.285.635.636.635h.636zm3.814-3.814h5.722c1.053 0 1.907.854 1.907 1.907v5.722A1.907 1.907 0 0112.08 14H6.357a1.907 1.907 0 01-1.907-1.907V6.37c0-1.053.854-1.907 1.907-1.907zm0 1.271a.636.636 0 00-.635.636v5.722c0 .35.284.636.635.636h5.722a.636.636 0 00.636-.636V6.37a.636.636 0 00-.636-.636H6.357z",fillRule:"evenodd",clipRule:"evenodd"})))},vs=Object.assign;var Os=function(e){return p.a.createElement(ze.a,vs({width:"15",height:"14",fill:"none",viewBox:"0 0 15 14"},e),p.a.createElement("path",{fill:"#121212",d:"M3.55 14c-.106 0-.159 0-.265-.053a.583.583 0 01-.318-.53v-2.225H.954A.95.95 0 010 10.238V.965A.95.95 0 01.954.01h12.982a.95.95 0 01.954.954v9.273a.95.95 0 01-.954.954H7.418l-3.497 2.702c-.106.053-.212.106-.37.106zm-2.49-3.921h2.437c.318 0 .53.212.53.53v1.854l2.914-2.225c.106-.053.212-.106.318-.106h6.518V1.124H1.06v8.955z",fillRule:"evenodd",clipRule:"evenodd"}),p.a.createElement("path",{fill:"#121212",d:"M3.709 4.515h7.948v-1.06H3.71v1.06zm0 3.18h4.239v-1.06H3.709v1.06z",fillRule:"evenodd",clipRule:"evenodd"}))},js=Object.assign;var gs=function(e){return p.a.createElement(ze.a,js({width:"16",height:"16",fill:"none",viewBox:"0 0 16 16"},e),p.a.createElement("mask",{id:"id-95574191-a",width:"16",height:"16",x:"0",y:"0",maskUnits:"userSpaceOnUse"},p.a.createElement("path",{fill:"#fff",d:"M.001.016h15.983V16H.001V.016z",fillRule:"evenodd",clipRule:"evenodd"})),p.a.createElement("g",{mask:"url(#id-95574191-a)"},p.a.createElement("path",{fill:"#121212",d:"M7.992.016C3.585.016 0 3.6 0 8.008a7.96 7.96 0 001.344 4.435.521.521 0 00.867-.58 6.915 6.915 0 01-1.169-3.855 6.958 6.958 0 016.95-6.95 6.958 6.958 0 016.95 6.95 6.958 6.958 0 01-6.95 6.95 6.917 6.917 0 01-3.865-1.175.522.522 0 00-.58.866A7.956 7.956 0 007.992 16c4.407 0 7.992-3.585 7.992-7.992S12.4.016 7.992.016zM5.046 8.368c-.221 0-.332-.096-.332-.29V7.29c0-.216.111-.323.332-.323h2.167a4.28 4.28 0 01-.394 1.401H5.046zm3.14-1.401h2.746a.47.47 0 01.28.071c.058.041.086.125.086.252v.845c0 .155-.12.233-.366.233H7.873a8.4 8.4 0 00.314-1.401zm-2.964 3.316c-.386.266-.945.508-1.677.727v.822c.301-.032.542-.069.722-.11a4.708 4.708 0 001.63-.774c.558-.409 1.07-.976 1.54-1.701h.712v1.615c0 .33.098.572.294.727.178.143.404.214.68.214h3.206V10.9H9.426c-.126 0-.218-.023-.275-.07-.054-.045-.079-.142-.076-.29l.005-1.293h2.166a.98.98 0 00.703-.261c.155-.149.233-.376.233-.68V7.03c0-.311-.085-.545-.256-.704-.105-.098-.268-.172-.49-.223l.252-.58c.073-.168.11-.308.11-.422a.823.823 0 00-.276-.608c-.187-.187-.444-.28-.77-.28h-5.14l.137-.47h-.893c-.161.449-.327.778-.498.987-.206.257-.447.412-.723.466v.907a2.96 2.96 0 00.908-.404 3 3 0 00.622-.608h5.221c.188 0 .304.013.352.038.073.038.109.092.109.162s-.03.175-.095.318l-.21.46H5.09c-.478 0-.805.083-.983.248-.187.177-.28.43-.28.76V8.26c0 .491.202.804.607.94.096.032.288.048.576.048h1.287c-.37.46-.728.805-1.074 1.036z",fillRule:"evenodd",clipRule:"evenodd"})))};function ys(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var ws=function(e){Object(d.a)(n,e);var t=ys(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.answer,n=e.params.answerId,i=e.loadAnswer,a=e.currentUser,o=e.checkIfCanConvertToVessay;t||i(n),Object(bs.a)(a,null==t?void 0:t.author)&&o(n)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.params.answerId,n=e.params.answerId,i=e.loadAnswer;n!==t&&i(n)}},{key:"render",value:function(){if(!this.props.answer)return null;var e=this.props,t=e.answer,n=e.answer.id,a=e.question,o=e.question,r=o.id,c=o.answerCount,s=o.questionType,l=e.location,u=e.isMuteSpecial,d=(e.currentUser||{}).userType;return!t.relationship.isAuthor&&t.visibleOnlyToAuthor?Object(i.b)(B,{}):Object(i.c)("div",{className:"Question-main",children:[Object(i.b)(y.a,{meta:Object(L.a)(t,a.topics)}),Object(i.b)(vc.b,{selector:[".ViewAll-QuestionMainAction",".QuestionAnswer-content",".List-item"].join(","),children:Object(i.c)("div",{className:"Question-mainColumn","data-zop-questionanswerlist":!0,children:[("guest"===d||!d)&&Object(i.c)("div",{className:"Question-mainColumnLogin",children:[Object(i.b)("div",{className:"Question-mainColumnLoginImg",children:Object(i.b)(fs,{})}),Object(i.c)("div",{className:"Question-mainColumnLoginContent",children:[Object(i.b)("div",{className:"Question-mainColumnLoginTitle",children:"登录后你可以"}),Object(i.c)("div",{className:"Question-mainColumnLoginDes",children:[Object(i.c)("span",{className:"Question-mainColumnLoginDesIcon",children:[Object(i.b)(ms,{}),"不限量看优质回答"]}),Object(i.c)("span",{className:"Question-mainColumnLoginDesIcon",children:[Object(i.b)(Os,{}),"私信答主深度交流"]}),Object(i.c)("span",{className:"Question-mainColumnLoginDesIcon",children:[Object(i.b)(gs,{}),"精彩内容一键收藏"]})]})]}),Object(i.b)("div",{className:"Question-mainColumnLoginRightButton",children:Object(i.b)(_.b,{loginButton:Object(i.b)(G.c,{className:"Question-mainColumnLoginButton",children:"登录"})})})]}),Object(U.n)(t)||Object(U.l)(t)||c>0&&!u&&Object(i.b)(ds,{itemNum:c,to:"/question/".concat(r),questionType:s}),Object(i.b)(yc,{question:a,location:l,answer:t}),Object(U.n)(t)||Object(U.l)(t)||Object(i.b)(xc,{question:a,answerId:n}),c>0&&!u&&Object(i.b)(ds,{itemNum:c,to:"/question/".concat(r),questionType:s})]})}),Object(i.b)(fe.a,{children:Object(i.b)(ss,{question:a,answer:t})})]})}}]),n}(f.Component);ws.fetchData=function(e){var t=e.dispatch,n=e.params.answerId;return t(Object(U.o)(n))};var Cs=Object(O.connect)((function(e,t){var n=t.params,i=n.id,a=n.answerId,o=Object(I.eb)(e,{id:i}),r=Object(U.c)(e,{id:a}),c=Object(H.b)(e),s=(o||{}).relationship||{myAnswer:{isDelete:!1}};return{question:o,isOffice:Object(Q.isOfficeSelector)(e),answer:r&&Object.assign(Object.assign({},r),{},{isDelete:(r.relationship||{}).isAuthor&&(s.myAnswer||{}).isDeleted}),isMuteSpecial:Object(I.E)(o),currentUser:c}}),{loadAnswer:U.o,checkIfCanConvertToVessay:U.f})(ws),xs=n(222),ks=n(458),As={},Ss=function(e){var t=e.handleTabChange,n=e.activeTabKey,a=e.isReediting,o=e.videoAnswerPublished,r=Object(O.useSelector)(xs.a),c=Object(O.useSelector)(V.g)||As;return Object(i.c)(j.b,{block:"AnswerEditorPageHeader",children:[Object(i.b)(fe.a,{children:Object(i.b)(Dt.a,{notification:c,delay:dn.K,className:"AppHeader-notification",css:c.css})}),Object(i.c)(Te.Box,{bg:"GBK99A",css:{position:"relative",width:"100%",height:"52px",backgroundClip:"content-box",boxShadow:"0px 16px 32px rgba(0, 0, 0, 0.04)",zIndex:1},children:[Object(i.c)(Te.Flex,{css:{position:"relative",width:"1000px",height:"52px",padding:"0 16px",margin:"0 auto",alignItems:"center"},children:[Object(i.b)(ks.a,{}),Object(i.b)(Te.Box,{height:"28px",width:"1px",pl:"20px",sx:{borderRight:"1px solid",borderColor:"GBK09A"}}),a?Object(i.b)(Te.Box,{fontSize:15,fontWeight:"bold",lineHeight:"21px",color:"GBK03A",pl:"20px",children:o?"本回答为视频回答":"本回答为图文回答"}):Object(i.b)(Or.b,{activeTabKey:n,onChange:t})]}),Object(i.b)(Te.Box,{css:{position:"absolute",top:"50%",left:"50%",transform:"translate(522px, -50%)"},children:Object(i.b)(na.a,{currentUser:r})})]})]})},Rs=n(908),Ns=n(1414),Ts=n(2250),Bs=n(2251),Es=n(289),Is=n(1147),qs=n(981),zs=n(896),Ms=n(1341),Ps=n(420),Ls=Object.assign;var Ds=function(e){return p.a.createElement(Ps.a,Ls(Ls({width:"12",height:"12",viewBox:"0 0 12 12"},e),{className:"ZDI ZDI--ArrowDropdown12"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M5.76 7.68a.3.3 0 00.48 0l2.4-3.2A.3.3 0 008.4 4H3.6a.3.3 0 00-.24.48l2.4 3.2z",fillRule:"evenodd",clipRule:"evenodd"}))},Qs=function(e){return{background:e.colors.GBK10A,borderRadius:"4px"}},Hs=function(e){return{svg:{path:{fill:e.colors.GBL01A}},".togglerIcon":{borderLeftColor:e.colors.GBL01A},color:e.colors.GBL01A}},Fs=Object(f.forwardRef)((function(e,t){var n=e.showTogglerIcon,a=e.isMenuOpen,o=e.icon,r=e.isActive,c=e.disabled,s=e.onClick,l=e.className,u=e.text,d=e.label,b=n&&Object(i.b)("div",{className:"togglerIcon",css:{transform:"".concat(a?"rotate(180deg)":"rotate(0deg)"),fontSize:0,marginBottom:"2px"},children:Object(i.b)(Ds,{})});return Object(i.c)(j.a,{as:G.c,zaType:"Button",zaText:d,ref:t,preset:G.b.Plain,className:l,disabled:c,css:function(e){return{"&.Button.Button--plain":Object.assign(Object.assign({marginRight:"20px",padding:"2px 3px",fontSize:"11px",color:e.colors.GBK03A,textAlign:"center",alignItems:"flex-end",display:"flex",whiteSpace:"nowrap"},r&&Hs(e)),{},{"&:hover":Qs(e)})}},"aria-label":d,onClick:s,children:[Object(i.c)("div",{css:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(i.b)(o,{center:!0}),Object(i.b)("span",{css:{width:"100%"},children:null!=u?u:d})]}),b]})}));Fs.propTypes={icon:v.a.elementType.isRequired,label:v.a.string.isRequired,isActive:v.a.bool,disabled:v.a.bool,showTogglerIcon:v.a.bool,isMenuOpen:v.a.bool,className:v.a.string,text:v.a.string,shortcut:v.a.string,onClick:v.a.func},Fs.defaultProps={isActive:!1,disabled:!1,isMenuOpen:!1,showTogglerIcon:!1,onClick:function(){}};var Us=Fs,Vs=n(62),_s=function(e){return{background:e.colors.GBK10A,".togglerIcon":{borderLeftColor:e.colors.GBL01A}}},Gs=function(e){return{svg:{path:{fill:e.colors.GBL01A}},".togglerIcon":{borderLeftColor:e.colors.GBL01A},color:e.colors.GBL01A}},Ws=Object(f.forwardRef)((function(e,t){var n=e.isActive,a=e.disabled,o=e.onClick,r=e.icon,c=e.text,s=e.label,l=e.onMouseEnter,u=e.onMouseLeave;return Object(i.c)(j.a,{as:G.c,zaType:"Button",zaText:s,preset:G.b.Plain,"aria-label":s,disabled:a,css:function(e){return{"&.Button.Button--plain":Object.assign({padding:"16px 20px",display:"flex",alignItems:"center",color:e.colors.GBK03A,width:"100%",boxSizing:"border-box","&:hover":_s(e),"&:active":Gs(e)},n&&Gs(e))}},onClick:o,onMouseEnter:l,onMouseLeave:u,ref:t,children:[Object(i.b)(r,{center:!0,css:{marginRight:"4px"}}),null!=c?c:s]})}));Ws.propTypes={icon:v.a.elementType.isRequired,label:v.a.string.isRequired,isActive:v.a.bool,disabled:v.a.bool,className:v.a.string,text:v.a.string,shortcut:v.a.string,onClick:v.a.func,onMouseEnter:v.a.func,onMouseLeave:v.a.func},Ws.defaultTypes={isActive:!1,disabled:!1,onClick:function(){},onMouseEnter:function(){},onMouseLeave:function(){}};var Ks=Ws;function Zs(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Js(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Js(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){c=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(c)throw o}}}}function Js(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ys(e,t,n){return null!=e&&e.children?e.children.find((function(e){return Ys(e,t,n)})):e.commandName?t(e.commandName,n)&&e:void 0}function Xs(e,t,n){return null!=e&&e.children?e.children.some((function(e){return Xs(e,t,n)})):t(e.commandName,n)}function $s(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=-1,a=Number.MAX_SAFE_INTEGER,r=Zs(e.entries());try{for(r.s();!(t=r.n()).done;){var c=Object(o.a)(t.value,2),s=c[0],l=c[1];l.priority<a&&l.priority>n&&(a=l.priority,i=s)}}catch(e){r.e(e)}finally{r.f()}return i}function el(e){var t=e.items,n=e.onCommand,a=e.queryCommandState,o=e.queryCommandEnable,r=e.editorState;return t.map((function(e){var t;if(!0===e.hide)return null;var c,s,l=Ys(e,a,r),u=!Xs(e,o,r);return null!=e&&null!==(t=e.children)&&void 0!==t&&t.length?Object(i.b)(un.c,{toggleEvent:"hover",placement:Vs.RIGHT,enterDelay:300,leaveDelay:300,toggler:Object(i.b)(Ks,{icon:null!==(c=null==l?void 0:l.icon)&&void 0!==c?c:e.icon,onClick:function(t){var i;null===(i=e.onClick)||void 0===i||i.call(e,t),e.commandName&&n(e.commandName)},label:e.label,isActive:!!l,disabled:u}),className:"ToolbarV3SubmenuButton",children:Object(i.b)(el,{items:e.children,onCommand:n,queryCommandState:a,queryCommandEnable:o,editorState:r})},e.label):Object(i.b)(Ks,{icon:null!==(s=null==l?void 0:l.icon)&&void 0!==s?s:e.icon,onClick:function(t){var i;null===(i=e.onClick)||void 0===i||i.call(e,t),e.commandName&&n(e.commandName)},label:e.label,isActive:!!l,disabled:u},e.label)}))}function tl(e){var t=e.subMenu,n=e.onCommand,a=e.queryCommandState,r=e.queryCommandEnable,c=e.editorState,s=e.isActive,l=e.label,u=e.shortcut,d=e.disabled,b=e.onClick,h=e.icon,p=Object(f.useState)(!1),m=Object(o.a)(p,2),v=m[0],O=m[1],j=Object(i.b)(Us,{isMenuToggler:!0,isMenuOpen:v,showTogglerIcon:!0,icon:h,isActive:s,disabled:d,shortcut:u,onClick:b,label:l});return Object(i.b)(un.c,{toggler:j,onOpen:function(){return O(!0)},onClose:function(){return O(!1)},arrowed:!1,menuContainerClassName:"ToolbarV3Menu-container",children:Object(i.b)(el,{items:t,onCommand:n,queryCommandState:a,queryCommandEnable:r,editorState:c})})}function nl(){return Object(i.b)("span",{css:function(e){return{background:e.colors.GBK09A,height:"20px",width:"1px",marginLeft:"-4px"}}})}function il(e){var t=e.items,n=e.onCommand,a=e.queryCommandState,o=e.queryCommandEnable,r=e.editorState,c=e.showDivider,s=e.showRightSpace,l=e.replaceIconByOnlyChild,u=void 0===l||l,d=e.shouldHide;return null!=d&&d(t)?null:Object(i.c)("div",{className:"toolbar-section",css:Object.assign({display:"flex",alignItems:"center"},s&&{marginRight:"16px"}),children:[t.filter((function(e){return!!e})).map((function(e){var t=e.Component,c=e.label,s=e.text,l=e.children,d=e.shortcut,b=e.commandName,h=e.onClick;if(!0===e.hide)return null;var f,p=Ys(e,a,r),m=!Xs(e,o,r),v=e.icon,O={label:c,icon:v,disabled:m,shortcut:d,isActive:!!p,text:s,onClick:function(e){null==h||h(e),b&&n(b)}};if((null==l?void 0:l.length)>1||!u&&(null==l?void 0:l.length)>0)v=(null==p?void 0:p.icon)||v,f=tl,O=Object.assign(Object.assign({},O),{},{icon:v,onCommand:n,queryCommandState:a,queryCommandEnable:o,editorState:r,subMenu:l});else if(1===(null==l?void 0:l.length)&&u){f=Us;var j=l[0],g=j.icon,y=j.label,w=j.text,C=j.shortcut,x=j.commandName;O=Object.assign(Object.assign({},O),{},{icon:g,label:y,text:w,shortcut:C,onClick:function(e){null==h||h(e),x&&n(x)}})}else f=Us;return t?Object(i.b)(t,Object.assign({toolbarButton:f},O),e.label):Object(i.b)(f,Object.assign({},O),e.label)})),c&&Object(i.b)(nl,{})]})}el.propTypes={items:v.a.arrayOf(v.a.oneOfType([v.a.object,v.a.bool])).isRequired,onCommand:v.a.func.isRequired,queryCommandState:v.a.func.isRequired,queryCommandEnable:v.a.func.isRequired,editorState:v.a.object.isRequired},tl.propTypes={icon:v.a.elementType.isRequired,subMenu:v.a.arrayOf(v.a.oneOfType([v.a.object,v.a.bool])).isRequired,label:v.a.string.isRequired,onCommand:v.a.func.isRequired,queryCommandEnable:v.a.func.isRequired,queryCommandState:v.a.func.isRequired,editorState:v.a.object.isRequired,shortcut:v.a.string,disabled:v.a.bool,isActive:v.a.bool,onClick:v.a.func},tl.defaultTypes={disabled:!1,isActive:!1,onClick:function(){}},il.propTypes={items:v.a.arrayOf(v.a.oneOfType([v.a.object,v.a.bool])).isRequired,onCommand:v.a.func.isRequired,queryCommandState:v.a.func.isRequired,queryCommandEnable:v.a.func.isRequired,shouldHide:v.a.func,editorState:v.a.object.isRequired,showDivider:v.a.bool.isRequired,showRightSpace:v.a.bool.isRequired,isMoreSection:v.a.bool};var al=["sectionName","itemIndex"];function ol(e){var t=e.onCommand,n=e.queryCommandState,a=e.queryCommandEnable,r=e.editorState,c=e.toolbarMainAreaData,s=e.toolbarMoreAreaData,l=e.toolbarFixtureAreaData,u=Object(f.useState)(zs.List.of.apply(zs.List,Object(Zt.a)(c))),d=Object(o.a)(u,2),b=d[0],h=d[1],p=Object(f.useState)(zs.List.of.apply(zs.List,Object(Zt.a)(s))),m=Object(o.a)(p,2),v=m[0],O=m[1],j=Object(Ms.a)(),g=Object(o.a)(j,2),y=g[0],w=g[1],C=Object(f.useRef)(null),x=Object(f.useRef)(null),k=Object(f.useRef)(null);return Object(f.useEffect)((function(){h(zs.List.of.apply(zs.List,Object(Zt.a)(c)))}),[c]),Object(f.useEffect)((function(){O(zs.List.of.apply(zs.List,Object(Zt.a)(s)))}),[s]),Object(f.useEffect)((function(){var e,t,n,i=null==w?void 0:w.width,a=null==C||null===(e=C.current)||void 0===e?void 0:e.getBoundingClientRect().width,r=(null==x||null===(t=x.current)||void 0===t?void 0:t.getBoundingClientRect().width)||0,c=null==k||null===(n=k.current)||void 0===n?void 0:n.getBoundingClientRect().width;if(i&&a&&void 0!==r&&c)if(i-r-c<a){var s=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=$s(t,n);if(i<0)return!1;var a=t.get(i);return a.minLength<a.items.length?{section:a,index:i}:e(t,a.priority)}(b),l=s.section,u=s.index;if(!l)return;var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=$s(e,t);return!(n<0)&&{item:e[n],index:n}}(l.items),f=d.item,p=d.index,m=l;m=Object.assign(Object.assign({},m),{},{items:[].concat(Object(Zt.a)(m.items.slice(0,p)),Object(Zt.a)(m.items.slice(p+1)))}),h(b.set(u,m));var j=l.sectionName,g=v.get(0),y=g.items[0].children.filter(Boolean).findIndex((function(e){return e.label===f.label}));O(y>-1?v.set(0,Object.assign(Object.assign({},g),{},{items:[Object.assign(Object.assign({},g.items[0]),{},{children:[].concat(Object(Zt.a)(g.items[0].children.slice(0,y)),[Object.assign(Object.assign({},f),{},{sectionName:j,itemIndex:p})],Object(Zt.a)(g.items[0].children.slice(y+1)))})]})):v.set(0,Object.assign(Object.assign({},g),{},{items:[Object.assign(Object.assign({},g.items[0]),{},{children:[Object.assign(Object.assign({},f),{},{sectionName:j,itemIndex:p})].concat(Object(Zt.a)(g.items[0].children))})]})))}else if(i-r-c-a>=100&&v.get(0).items[0].children.length>0){var A=v.get(0),S=Object(o.a)(A.items,1)[0].children[0],R=S.sectionName,N=S.itemIndex,T=Object(Ne.default)(S,al),B=Object.assign(Object.assign({},A),{},{items:[Object.assign(Object.assign({},A.items[0]),{},{children:Object(Zt.a)(A.items[0].children.slice(1))})]}),E=b.find((function(e){return e.sectionName===R})),I=b.findIndex((function(e){return e.sectionName===R})),q=Object.assign(Object.assign({},E),{},{items:[].concat(Object(Zt.a)(E.items.slice(0,N)),[Object.assign({},T)],Object(Zt.a)(E.items.slice(N)))});O(v.set(0,B)),h(b.set(I,q))}}),[w,b,v]),r?Object(i.c)("div",{className:"toolbarV3",ref:y,css:{display:"flex",padding:"10px 0",width:"100%",overflow:"hidden",justifyContent:"center",boxShadow:"0px -0.5px 0px 0px rgba(235, 235, 235, 1) inset"},onMouseDown:function(e){return e.preventDefault()},children:[Object(i.b)("div",{className:"mainArea",ref:C,css:{display:"flex"},children:b.map((function(e,o,c){var s,l,u=o===c.size-1&&!(null!==(s=v.get(0))&&void 0!==s&&null!==(l=s.items)&&void 0!==l&&l.every((function(e){var t;return 0===(null==e||null===(t=e.children)||void 0===t?void 0:t.length)})));return e.items.length>0&&Object(i.b)(il,{items:e.items,onCommand:t,queryCommandState:n,queryCommandEnable:a,editorState:r,showDivider:!u,showRightSpace:!u},e.sectionName)}))}),Object(i.b)("div",{className:"moreArea",ref:x,css:{display:"flex"},children:v.map((function(e){return e.items.length>0&&Object(i.b)(il,{items:e.items,onCommand:t,queryCommandState:n,queryCommandEnable:a,editorState:r,showDivider:!0,showRightSpace:!0,replaceIconByOnlyChild:!1,shouldHide:function(e){return e.every((function(e){var t;return 0===(null==e||null===(t=e.children)||void 0===t?void 0:t.length)}))}},e.sectionName)}))}),Object(i.b)("div",{className:"fixArea",ref:k,css:{display:"flex"},children:l.map((function(e,o,c){return e.items.length>0&&Object(i.b)(il,{items:e.items,onCommand:t,queryCommandState:n,queryCommandEnable:a,editorState:r,showDivider:o!==c.length-1,showRightSpace:o!==c.length-1},e.sectionName)}))})]}):null}ol.propTypes={onCommand:v.a.func.isRequired,queryCommandState:v.a.func.isRequired,queryCommandEnable:v.a.func.isRequired,editorState:v.a.object.isRequired,toolbarMainAreaData:v.a.array.isRequired,toolbarMoreAreaData:v.a.array.isRequired,toolbarFixtureAreaData:v.a.array.isRequired};var rl=n(1655),cl=n(1657),sl=n(1737),ll=n(492),ul=n(502);function dl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var bl=function(e,t){var n=t?e.replace(/<.+?>/g,""):e;return Array.from(n).length},hl=function(e,t,n){var i=bl(e,n);if(0===i)return{ok:!1,message:null};var a=i-t;return a>0?{ok:!1,message:"已超过 ".concat(a," 个字")}:a>=-10?{ok:!0,message:"还可以输入 ".concat(-a," 个字")}:{ok:!0,message:null}};(function(e){Object(d.a)(n,e);var t=dl(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).check="title"===e.props.type?function(e){return hl(e,100)}:function(e){return hl(e,1e5,!0)},e.state=e.check(e.props.content),e.compareState=function(t){var n=t.ok,i=t.message;return e.state.message!==i||e.state.ok!==n},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.onStatusChange(this.state.ok)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.onStatusChange,i=t.content;if(e.content!==i){var a=this.check(e.content);this.compareState(a)&&(n(a.ok),this.setState(a))}}},{key:"shouldComponentUpdate",value:function(e,t){return this.compareState(t)}},{key:"render",value:function(){var e=this.state,t=e.ok,n=e.message,a=de()("WriteIndex-LengthStatus",{"WriteIndex-LengthStatus-warning":!t});return n&&Object(i.b)("div",{className:a,children:n})}}]),n}(f.Component)).propTypes={content:v.a.string,type:v.a.oneOf(["content","title"]).isRequired,onStatusChange:v.a.func.isRequired};var fl=n(527),pl=n(483),ml=n(432),vl=n(449),Ol=n(1148),jl=Object.assign;var gl=function(e){return p.a.createElement(Ps.a,jl(jl({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Undo24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M4.165 6.591l3.522-3.523a.75.75 0 011.06 1.061L6.494 6.384h6.155c3.924 0 7.029 2.69 7.029 6.687 0 2.017-.96 3.706-2.297 4.875-1.329 1.162-3.071 1.849-4.732 1.849H5.082a.75.75 0 010-1.5h7.566c1.269 0 2.666-.535 3.745-1.478 1.07-.935 1.784-2.233 1.784-3.746 0-3.064-2.325-5.187-5.53-5.187H6.494l2.255 2.255a.75.75 0 11-1.06 1.061L4.163 7.677a.748.748 0 010-1.086z"}))},yl=Object.assign;var wl=function(e){return p.a.createElement(Ps.a,yl(yl({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Redo24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M19.454 6.6L15.92 3.07a.75.75 0 10-1.06 1.06l2.255 2.255H10.96c-3.924 0-7.029 2.69-7.029 6.687 0 2.017.96 3.706 2.297 4.875 1.329 1.162 3.071 1.849 4.733 1.849h7.565a.75.75 0 000-1.5H10.96c-1.27 0-2.667-.535-3.745-1.478-1.07-.935-1.785-2.234-1.785-3.746 0-3.064 2.325-5.187 5.53-5.187h6.155l-2.255 2.256a.75.75 0 101.06 1.06l3.536-3.535a.75.75 0 00-.003-1.064z"}))},Cl=Object.assign;var xl=function(e){return p.a.createElement(Ps.a,Cl(Cl({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Eraser24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M6.956 17.185c.435.365.984.565 1.552.565h5.245c.572 0 1.114-.253 1.481-.69l4.929-5.874a2.415 2.415 0 00-.298-3.402l-5.11-4.288a2.415 2.415 0 00-3.402.298l-6.858 8.173a2.415 2.415 0 00.297 3.403l2.164 1.815zm1.552-.935a.915.915 0 01-.588-.214l-2.163-1.815a.915.915 0 01-.113-1.29l6.858-8.173a.915.915 0 011.29-.113L18.9 8.933a.915.915 0 01.113 1.289l-4.929 5.873a.434.434 0 01-.332.155H8.508z",fillRule:"evenodd",clipRule:"evenodd"}),p.a.createElement("path",{d:"M17 21.75a.75.75 0 100-1.5H5a.75.75 0 000 1.5h12z"}))},kl=Object.assign;var Al=function(e){return p.a.createElement(Ps.a,kl(kl({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Header24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M7.25 4a.75.75 0 10-1.5 0v17a.75.75 0 001.5 0v-8.25h9.5V21a.75.75 0 001.5 0V4a.75.75 0 00-1.5 0v7.25h-9.5V4z"}))},Sl=Object.assign;var Rl=function(e){return p.a.createElement(Ps.a,Sl(Sl({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Headingone24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M6 4a.75.75 0 00-1.5 0v17A.75.75 0 006 21v-8.16h8.565V21a.75.75 0 101.5 0V4a.75.75 0 00-1.5 0v7.34H6V4zm12.511 11.83h2.211l.048.007a.15.15 0 01.102.142v5.5l-.007.048a.15.15 0 01-.143.102h-1.166l-.047-.007a.15.15 0 01-.103-.143v-3.833l-.007-.07a.35.35 0 00-.343-.28h-.779l-.045-.006a.15.15 0 01-.102-.173l.234-1.167.02-.048a.15.15 0 01.127-.073z"}))},Nl=Object.assign;var Tl=function(e){return p.a.createElement(Ps.a,Nl(Nl({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Headingtwo24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M6 4a.75.75 0 10-1.5 0v17A.75.75 0 006 21v-8.16h8.565V21a.75.75 0 101.5 0V4a.75.75 0 00-1.5 0v7.34H6V4zm11.687 13.77c.078-1.146 1.051-1.86 2.393-1.86 1.332 0 2.4.853 2.4 1.823 0 .6-.232 1-1.007 1.71l-.955.79-.227.178h.29l1.751.008.047.008a.15.15 0 01.102.143v.99l-.007.048a.15.15 0 01-.143.103h-4.498l-.048-.008a.15.15 0 01-.102-.142v-.608l.007-.045a.15.15 0 01.051-.074l2.252-1.738.298-.235.242-.202c.393-.344.524-.555.527-.791.009-.497-.377-.85-.979-.85l-.134.007c-.52.049-.842.311-.888.778a.105.105 0 01-.106.104H17.82a.134.134 0 01-.132-.137z"}))},Bl=Object.assign;var El=function(e){return p.a.createElement(Ps.a,Bl(Bl({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Bold24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M5.324 3.987a.75.75 0 01.75-.75h5.28c3.393 0 5.489 2.296 5.489 4.754 0 1.087-.235 2.386-1.024 3.431-.195.26-.42.496-.675.707.67.262 1.235.638 1.691 1.104.927.945 1.34 2.194 1.34 3.421a4.626 4.626 0 01-1.5 3.442c-1.016.933-2.503 1.493-4.423 1.493H6.074a.75.75 0 01-.75-.75V3.987zm1.5 7.718h4.914c1.541 0 2.392-.534 2.884-1.186.52-.689.721-1.622.721-2.528 0-1.532-1.323-3.254-3.99-3.254H6.824v6.968zm0 1.5h5.878c1.485 0 2.46.462 3.062 1.078.61.622.91 1.473.91 2.371a3.13 3.13 0 01-1.013 2.337c-.684.628-1.782 1.098-3.409 1.098H6.824v-6.884z",fillRule:"evenodd",clipRule:"evenodd"}))},Il=Object.assign;var ql=function(e){return p.a.createElement(Ps.a,Il(Il({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Ltalic24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M11.132 18.982h2.565a.75.75 0 010 1.5h-7a.75.75 0 010-1.5h2.906L12.34 5H9.418a.75.75 0 010-1.5h7a.75.75 0 010 1.5h-2.55l-2.736 13.982z"}))},zl=Object.assign;var Ml=function(e){return p.a.createElement(Ps.a,zl(zl({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--List24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M5.25 5A.75.75 0 016 4.25h12a.75.75 0 010 1.5H6A.75.75 0 015.25 5zM6 8.277a.75.75 0 100 1.5h8.5a.75.75 0 000-1.5H6zm0 10a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5H6zm0-4.027a.75.75 0 000 1.5h12a.75.75 0 000-1.5H6z"}))},Pl=Object.assign;var Ll=function(e){return p.a.createElement(Ps.a,Pl(Pl({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Orderedlist24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M4.539 4.1h2.21l.048.008a.15.15 0 01.103.142v5.5l-.008.047a.15.15 0 01-.142.103H5.584l-.048-.008a.15.15 0 01-.102-.142V5.917l-.007-.07a.35.35 0 00-.343-.28h-.78L4.26 5.56a.15.15 0 01-.102-.172l.234-1.167.018-.049a.15.15 0 01.13-.072zM3.105 15.96c.079-1.147 1.052-1.86 2.394-1.86 1.33 0 2.399.853 2.399 1.822 0 .6-.232 1.001-1.007 1.71l-.955.791-.226.177H6l1.75.009.048.007a.15.15 0 01.102.143v.991l-.008.047a.15.15 0 01-.142.103H3.251l-.047-.008a.15.15 0 01-.103-.142v-.608l.007-.045a.15.15 0 01.051-.073l2.252-1.739.299-.234.241-.202c.394-.345.524-.556.527-.792.01-.497-.376-.85-.978-.85l-.134.007c-.521.049-.843.311-.889.778a.105.105 0 01-.105.104H3.237a.134.134 0 01-.132-.136zm7.145-6.933a.75.75 0 01.75-.75h8.5a.75.75 0 010 1.5H11a.75.75 0 01-.75-.75zm.75 9.25a.75.75 0 100 1.5h8.5a.75.75 0 000-1.5H11zM10.25 5a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H11a.75.75 0 01-.75-.75zm.75 9.25a.75.75 0 000 1.5h10.5a.75.75 0 000-1.5H11z"}))},Dl=Object.assign;var Ql=function(e){return p.a.createElement(Ps.a,Dl(Dl({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Unorderedlist24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M3.014 7a3 3 0 116 0 3 3 0 01-6 0zm3-1.5a1.5 1.5 0 100 3 1.5 1.5 0 000-3z",fillRule:"evenodd",clipRule:"evenodd"}),p.a.createElement("path",{d:"M10.25 5a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H11a.75.75 0 01-.75-.75zM11 8.277a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5H11zm0 10a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5H11zm0-4.027a.75.75 0 000 1.5h10.5a.75.75 0 000-1.5H11z"}),p.a.createElement("path",{d:"M6.014 14a3 3 0 100 6 3 3 0 000-6zm-1.5 3a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z",fillRule:"evenodd",clipRule:"evenodd"}))},Hl=Object.assign;var Fl=function(e){return p.a.createElement(Ps.a,Hl(Hl({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--ToolBarVipCatalog"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M5.288 4.5h13.424c.159 0 .288.112.288.25v1c0 .138-.13.25-.288.25H5.288C5.13 6 5 5.888 5 5.75v-1c0-.138.13-.25.288-.25zM5 11.25a.25.25 0 01.25-.25h13.5a.25.25 0 01.25.25v1a.25.25 0 01-.25.25H5.25a.25.25 0 01-.25-.25v-1zm13.712 6.25H5.288c-.159 0-.288.112-.288.25v1c0 .138.13.25.288.25h13.424c.159 0 .288-.112.288-.25v-1c0-.138-.13-.25-.288-.25z",fillRule:"evenodd",clipRule:"evenodd"}))},Ul=Object.assign;var Vl=function(e){return p.a.createElement(Ps.a,Ul(Ul({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Blockquote24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M9.728 5.023a.75.75 0 01-.35 1c0 .001 0 0 0 0l-.002.002-.012.005a4.39 4.39 0 00-.25.132 9.644 9.644 0 00-.671.407c-.54.358-1.124.83-1.484 1.341-.453.646-.805 1.208-1.054 1.914-.198.56-.339 1.239-.388 2.147h3.53a1.95 1.95 0 011.95 1.95v4.1a1.95 1.95 0 01-1.95 1.95h-3.3a1.75 1.75 0 01-1.75-1.75v-5.5c0-1.426.175-2.493.493-3.395.318-.902.765-1.598 1.242-2.278.52-.74 1.288-1.335 1.881-1.729a11.14 11.14 0 011.085-.633l.02-.01.005-.002.002-.001h.001l.31.644-.31-.645a.75.75 0 011.002.351zm-4.23 8.448v4.75c0 .138.111.25.25.25h3.3a.45.45 0 00.45-.45v-4.1a.45.45 0 00-.45-.45h-3.55zm12.879-7.447h-.002l-.01.006a4.344 4.344 0 00-.25.132 9.658 9.658 0 00-.672.407c-.54.358-1.125.83-1.484 1.341-.453.646-.805 1.208-1.054 1.914-.198.56-.339 1.239-.388 2.147h3.53a1.95 1.95 0 011.95 1.95v4.1a1.95 1.95 0 01-1.95 1.95h-3.3a1.75 1.75 0 01-1.75-1.75v-5.5c0-1.426.175-2.493.493-3.395.318-.902.764-1.598 1.242-2.278.52-.74 1.288-1.335 1.881-1.729a11.127 11.127 0 011.085-.633l.02-.01.005-.002.002-.001h.001l.326.675-.326-.676a.75.75 0 01.65 1.352zm-3.88 7.447v4.75c0 .138.112.25.25.25h3.3a.45.45 0 00.45-.45v-4.1a.45.45 0 00-.45-.45h-3.55z",fillRule:"evenodd",clipRule:"evenodd"}))},_l=Object.assign;var Gl=function(e){return p.a.createElement(Ps.a,_l(_l({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Divider24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M6.75 6a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h3a.75.75 0 01.75.75zm0 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h3a.75.75 0 01.75.75zm6.75.75a.75.75 0 000-1.5h-3a.75.75 0 000 1.5h3zM14.25 6a.75.75 0 01-.75.75h-3a.75.75 0 010-1.5h3a.75.75 0 01.75.75zM21 18.75a.75.75 0 000-1.5h-3a.75.75 0 000 1.5h3zM21.75 6a.75.75 0 01-.75.75h-3a.75.75 0 010-1.5h3a.75.75 0 01.75.75zM21 12.75a.75.75 0 000-1.5H3a.75.75 0 000 1.5h18z"}))},Wl=Object.assign;var Kl=function(e){return p.a.createElement(Ps.a,Wl(Wl({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Code24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M13.394 4.041a.75.75 0 01.592.88l-2.977 15.214a.75.75 0 01-1.472-.288l2.977-15.214a.75.75 0 01.88-.592zM8.03 6.47a.75.75 0 010 1.06L3.56 12l4.47 4.47a.75.75 0 11-1.06 1.06l-5-5a.75.75 0 010-1.06l5-5a.75.75 0 011.06 0zm7.94 0a.75.75 0 011.06 0l5 5a.75.75 0 010 1.06l-5 5a.75.75 0 11-1.06-1.06L20.44 12l-4.47-4.47a.75.75 0 010-1.06z",fillRule:"evenodd",clipRule:"evenodd"}))},Zl=Object.assign;var Jl=function(e){return p.a.createElement(Ps.a,Zl(Zl({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Reference24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M2.647 17.828a2.415 2.415 0 002.415 2.415H7a.75.75 0 000-1.5H5.062a.915.915 0 01-.915-.915V6.173c0-.506.41-.915.915-.915H7a.75.75 0 000-1.5H5.062a2.415 2.415 0 00-2.415 2.415v11.655zM17 18.743a.75.75 0 000 1.5h1.938a2.415 2.415 0 002.415-2.415V6.173a2.415 2.415 0 00-2.416-2.415H17a.75.75 0 000 1.5h1.938c.505 0 .915.41.915.915v11.655c0 .505-.41.915-.916.915H17zM10.5 7.25a.75.75 0 000 1.5h1.25V16a.75.75 0 001.5 0V8.5c0-.69-.56-1.25-1.25-1.25h-1.5z"}))},Yl=Object.assign;var Xl=function(e){return p.a.createElement(Ps.a,Yl(Yl({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Image24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M5.416 3.004A2.415 2.415 0 003.001 5.42v7.42a.75.75 0 001.5 0V5.42c0-.505.41-.915.915-.915h13.169c.505 0 .915.41.915.915v13.162c0 .505-.41.915-.915.915H5.416a.915.915 0 01-.915-.915V17.42h.462a8.52 8.52 0 004.883-1.538l1.678-1.173a7.02 7.02 0 014.023-1.267h1.533a.75.75 0 000-1.5h-1.533a8.52 8.52 0 00-4.883 1.537l-1.678 1.174a7.02 7.02 0 01-4.023 1.267h-.657c-.72 0-1.305.584-1.305 1.305v1.356a2.415 2.415 0 002.415 2.415h13.169A2.415 2.415 0 0021 18.58V5.419a2.415 2.415 0 00-2.415-2.415H5.416z"}),p.a.createElement("path",{d:"M8.918 6.52a2.417 2.417 0 100 4.834 2.417 2.417 0 000-4.834zm-.917 2.417a.917.917 0 111.834 0 .917.917 0 01-1.834 0z",fillRule:"evenodd",clipRule:"evenodd"}))},$l=Object.assign;var eu=function(e){return p.a.createElement(Ps.a,$l($l({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Imageupload24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M3 5.42a2.415 2.415 0 012.415-2.416h13.17a2.415 2.415 0 012.414 2.415V11.5a.75.75 0 01-1.5 0V5.42a.915.915 0 00-.915-.916H5.415a.915.915 0 00-.915.915v7.42a.75.75 0 01-1.5 0V5.42z"}),p.a.createElement("path",{d:"M15.09 13.442a5.57 5.57 0 00-3.192 1.005l-2.053 1.435a8.52 8.52 0 01-4.882 1.538H4.5v1.16c0 .506.41.916.915.916H14a.75.75 0 010 1.5H5.415A2.415 2.415 0 013 18.58v-1.356c0-.72.585-1.305 1.305-1.305h.658a7.02 7.02 0 004.023-1.267l2.052-1.435a7.07 7.07 0 014.051-1.276h.191a.75.75 0 110 1.5h-.19zm1.38 4.088a.75.75 0 010-1.06l2-2a.75.75 0 011.06 0l2 2a.75.75 0 01-1.06 1.06l-.72-.72v3.89a.75.75 0 01-1.5 0v-3.89l-.72.72a.75.75 0 01-1.06 0z"}),p.a.createElement("path",{d:"M8.918 6.52a2.417 2.417 0 100 4.834 2.417 2.417 0 000-4.834zM8 8.937a.917.917 0 111.833 0 .917.917 0 01-1.833 0z",fillRule:"evenodd",clipRule:"evenodd"}))},tu=Object.assign;var nu=function(e){return p.a.createElement(Ps.a,tu(tu({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Images24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M6.729 3.342a.75.75 0 01.75-.75h11.196a2.415 2.415 0 012.415 2.415v11.19a.75.75 0 01-1.5 0V5.007a.915.915 0 00-.915-.915H7.48a.75.75 0 01-.75-.75z"}),p.a.createElement("path",{d:"M3 8.321a2.415 2.415 0 012.415-2.415h10.266a2.415 2.415 0 012.415 2.415v10.26a2.415 2.415 0 01-2.415 2.415H5.415A2.415 2.415 0 013 18.58v-.727c0-.725.592-1.305 1.308-1.305 1.44 0 2.855-.443 4.034-1.267l.677-.473A8.52 8.52 0 0113.9 13.27h.833a.75.75 0 010 1.5H13.9a7.02 7.02 0 00-4.023 1.267l-.677.473a8.553 8.553 0 01-4.7 1.536v.534c0 .505.41.915.914.915H15.68c.505 0 .915-.41.915-.915V8.32a.915.915 0 00-.915-.915H5.415a.915.915 0 00-.915.915v5.822a.75.75 0 01-1.5 0V8.32z"}),p.a.createElement("path",{d:"M8.008 8.804a2.123 2.123 0 100 4.247 2.123 2.123 0 000-4.247zm-.623 2.123a.623.623 0 111.246 0 .623.623 0 01-1.246 0z",fillRule:"evenodd",clipRule:"evenodd"}))},iu=Object.assign;var au=function(e){return p.a.createElement(Ps.a,iu(iu({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Video24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M14.34 12.291a.347.347 0 000-.583L11.056 9.56c-.237-.155-.555.012-.555.292v4.298c0 .28.318.447.555.291l3.286-2.149z"}),p.a.createElement("path",{d:"M2.647 17.827a2.415 2.415 0 002.415 2.415h13.875a2.415 2.415 0 002.415-2.415V6.172a2.415 2.415 0 00-2.415-2.415H5.063a2.415 2.415 0 00-2.415 2.415v11.655zm2.415.915a.915.915 0 01-.915-.915V6.172c0-.505.41-.915.915-.915h13.875c.506 0 .915.41.915.915v11.655c0 .506-.41.915-.915.915H5.063z",fillRule:"evenodd",clipRule:"evenodd"}))},ou=Object.assign;var ru=function(e){return p.a.createElement(Ps.a,ou(ou({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Link24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M5.327 18.696a3.005 3.005 0 010-4.25l2.608-2.608a.75.75 0 00-1.06-1.06l-2.608 2.607a4.505 4.505 0 106.37 6.371l2.608-2.607a.75.75 0 10-1.06-1.06l-2.608 2.607a3.005 3.005 0 01-4.25 0zm5.428-11.799a.75.75 0 101.061 1.06l2.665-2.664a3.005 3.005 0 014.25 4.25l-2.665 2.664a.75.75 0 001.06 1.06l2.665-2.664a4.505 4.505 0 00-6.371-6.37l-2.665 2.664z"}),p.a.createElement("path",{d:"M16.078 9.013a.75.75 0 00-1.06-1.06l-7.072 7.07a.75.75 0 001.061 1.061l7.071-7.07z"}))},cu=Object.assign;var su=function(e){return p.a.createElement(Ps.a,cu(cu({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Income24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M10.836 10.522a.75.75 0 10-1.114 1.003l1.607 1.786v.462h-1.5a.75.75 0 000 1.5h1.5v1.75a.75.75 0 001.5 0v-1.75h1.5a.75.75 0 000-1.5h-1.5v-.462l1.607-1.786a.75.75 0 10-1.115-1.003l-1.242 1.38-1.243-1.38z"}),p.a.createElement("path",{d:"M6.97 2.766a.75.75 0 00-.658 1.107l1.58 2.916c-3.376 1.37-5.37 4.385-5.37 7.66 0 2.253.992 4.176 2.707 5.518 1.702 1.33 4.078 2.065 6.85 2.065 2.771 0 5.147-.735 6.849-2.065 1.715-1.342 2.707-3.265 2.707-5.519 0-3.315-2.1-6.371-5.544-7.72l1.581-2.848a.75.75 0 00-.655-1.114H6.97zm2.66 4.08l-1.4-2.58h7.512l-1.398 2.52a.75.75 0 00.448 1.084c3.374.973 5.343 3.708 5.343 6.578 0 1.775-.766 3.27-2.131 4.337-1.38 1.079-3.406 1.747-5.925 1.747-2.52 0-4.546-.668-5.925-1.747-1.366-1.068-2.132-2.562-2.132-4.337 0-2.847 1.868-5.53 5.166-6.527a.75.75 0 00.442-1.075z",fillRule:"evenodd",clipRule:"evenodd"}))},lu=Object.assign;var uu=function(e){return p.a.createElement(Ps.a,lu(lu({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Formula24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M3.313 4.7A.75.75 0 014 4.25h9a.75.75 0 010 1.5H5.713l4.838 5.241a.75.75 0 01.035.978L5.56 18.25H13a.75.75 0 010 1.5H4a.75.75 0 01-.586-1.218l5.598-6.997-5.563-6.026a.75.75 0 01-.136-.81zm12.251 6.69a.75.75 0 011.046.174l1.89 2.646 1.89-2.646a.75.75 0 111.22.872L19.422 15.5l2.188 3.064a.75.75 0 01-1.22.872L18.5 16.79l-1.89 2.646a.75.75 0 11-1.22-.872l2.188-3.064-2.188-3.064a.75.75 0 01.174-1.046z"}))},du=Object.assign;var bu=function(e){return p.a.createElement(Ps.a,du(du({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Table24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M5.063 20.242a2.415 2.415 0 01-2.415-2.415V6.174a2.415 2.415 0 012.415-2.415h13.875a2.415 2.415 0 012.415 2.415v11.655a2.415 2.415 0 01-2.415 2.415H5.063zm-.915-2.415c0 .506.41.915.915.915h6.188V12.75H4.148v5.078zm0-6.577h7.103V5.258H5.063a.915.915 0 00-.915.915v5.077zm8.603 1.5v5.992h6.187c.505 0 .915-.41.915-.915V12.75H12.75zm7.102-1.5H12.75V5.258h6.188c.505 0 .915.41.915.915v5.077z",fillRule:"evenodd",clipRule:"evenodd"}))},hu=Object.assign;var fu=function(e){return p.a.createElement(Ps.a,hu(hu({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Cloud24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M10.836 6.355a4.072 4.072 0 00-4.016 4.757.75.75 0 01-.772.874 2.902 2.902 0 00-3.03 2.9 2.902 2.902 0 002.9 2.902h.001l11.142-.035h.003a3.753 3.753 0 10-3.53-5.033.75.75 0 01-1.41-.512A5.255 5.255 0 0122.318 14a5.253 5.253 0 01-5.252 5.253h-.001l-11.142.035H5.92a4.402 4.402 0 01-.655-8.757v-.103a5.572 5.572 0 019.85-3.57.75.75 0 11-1.15.961 4.062 4.062 0 00-3.128-1.464z",fillRule:"evenodd",clipRule:"evenodd"}))},pu=Object.assign;var mu=function(e){return p.a.createElement(Ps.a,pu(pu({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--NavigationBarMore"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M4.25 10.5a.75.75 0 01.75.75v1.5a.75.75 0 01-.75.75h-1.5a.75.75 0 01-.75-.75v-1.5a.75.75 0 01.75-.75h1.5zm8.75 0a.5.5 0 01.5.5v2a.5.5 0 01-.5.5h-2a.5.5 0 01-.5-.5v-2a.5.5 0 01.5-.5h2zm8.25 0a.75.75 0 01.75.75v1.5a.75.75 0 01-.75.75h-1.5a.75.75 0 01-.75-.75v-1.5a.75.75 0 01.75-.75h1.5z",fillRule:"evenodd",clipRule:"evenodd"}))},vu=Object.assign;var Ou=function(e){return p.a.createElement(Ps.a,vu(vu({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Folderplus24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M4.415 5.632a.915.915 0 00-.915.915v10.52c0 .505.41.914.915.914h8.413a.75.75 0 010 1.5H4.415A2.415 2.415 0 012 17.066V6.547a2.415 2.415 0 012.415-2.415h4.081c.716 0 1.394.318 1.853.866l1.09 1.304a.915.915 0 00.701.328h6.428a2.415 2.415 0 012.415 2.415v1.954a.75.75 0 01-1.5 0V9.045a.915.915 0 00-.915-.915H12.14a2.415 2.415 0 01-1.853-.866L9.198 5.96a.915.915 0 00-.702-.328h-4.08z",fillRule:"evenodd",clipRule:"evenodd"}),p.a.createElement("path",{d:"M15.55 16.789a.75.75 0 01.75-.75H22a.75.75 0 010 1.5h-5.7a.75.75 0 01-.75-.75z",fillRule:"evenodd",clipRule:"evenodd"}),p.a.createElement("path",{d:"M19.15 20.389a.75.75 0 01-.75-.75v-5.7a.75.75 0 011.5 0v5.7a.75.75 0 01-.75.75z",fillRule:"evenodd",clipRule:"evenodd"}))},ju=Object.assign;var gu=function(e){return p.a.createElement(Ps.a,ju(ju({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Column24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M7.505 6.36a.75.75 0 01.736-.61h7.518c.36 0 .67.256.736.61l1.599 8.39H5.906l1.599-8.39zm-3.239 8.985a.753.753 0 00-.016.155v2a2.25 2.25 0 002.25 2.25h11a2.25 2.25 0 002.25-2.25v-2a.749.749 0 00-.016-.155l-1.765-9.266a2.25 2.25 0 00-2.21-1.829H8.24a2.25 2.25 0 00-2.21 1.829l-1.765 9.266zm13.984.905v1.25a.75.75 0 01-.75.75h-11a.75.75 0 01-.75-.75v-1.25h12.5zM8.25 12a.75.75 0 01.75-.75h6a.75.75 0 010 1.5H9a.75.75 0 01-.75-.75zM10 7.75a.75.75 0 000 1.5h4a.75.75 0 000-1.5h-4z",fillRule:"evenodd",clipRule:"evenodd"}))},yu=Object.assign;var wu=function(e){return p.a.createElement(Ps.a,yu(yu({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--NavigationBarHistory"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm0 2a8 8 0 100 16 8 8 0 000-16zm.5 2a.5.5 0 01.5.5v4.459a1 1 0 00.427.819l3.737 2.616a.5.5 0 01.123.696l-.574.82a.5.5 0 01-.696.122l-4.59-3.213A1 1 0 0111 12V6.5a.5.5 0 01.5-.5h1z",fillRule:"evenodd",clipRule:"evenodd"}))},Cu=Object.assign;var xu=function(e){return p.a.createElement(Ps.a,Cu(Cu({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"ZDI ZDI--Questioncircle24"+(e.className?" ".concat(e.className):"")}),p.a.createElement("path",{d:"M3.75 12a8.25 8.25 0 1116.5 0 8.25 8.25 0 01-16.5 0zM12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM9.75 9.477c0-.826.867-1.727 2.25-1.727s2.25.901 2.25 1.727c0 .47-.277.953-.823 1.304-.491.316-1.036.722-1.463 1.226-.431.508-.779 1.16-.779 1.946V14a.75.75 0 001.5 0v-.047c0-.319.137-.639.423-.976.289-.34.693-.653 1.13-.934.866-.557 1.512-1.47 1.512-2.566 0-1.91-1.82-3.227-3.75-3.227S8.25 7.567 8.25 9.477a.75.75 0 001.5 0zm3.344 7.656a1.1 1.1 0 11-2.2 0 1.1 1.1 0 012.2 0z",fillRule:"evenodd",clipRule:"evenodd"}))},ku=n(1389),Au=n(1388),Su=function(e){var t=e.showProfit,n=e.onInsertVideoClick,i=e.isVideoAnswer;return[{sectionName:"operation",minLength:3,priority:1,items:[{icon:gl,priority:2,label:"撤销",commandName:"undo",shortcut:"⌘+Z"},{icon:wl,label:"重做",priority:1,commandName:"redo",shortcut:"⌘+Y"},{icon:xl,label:"清除格式",priority:3,commandName:"clear-format",shortcut:"⌘+\\"}]},{sectionName:"style",minLength:4,priority:2,items:[{icon:Al,label:"标题",priority:1,children:[{icon:Rl,label:"一级标题",commandName:"toggle-block-type-header-two",shortcut:"⌘+⌥+1"},{icon:Tl,label:"二级标题",commandName:"toggle-block-type-header-three",shortcut:"⌘+⌥+2"}]},{icon:El,label:"加粗",commandName:"toggle-inline-style-BOLD",priority:2,shortcut:"⌘+B"},{icon:ql,label:"斜体",commandName:"toggle-inline-style-ITALIC",priority:3,shortcut:"⌘+I"}]},{sectionName:"blockType",minLength:6,priority:4,items:[{icon:Ml,label:"列表",priority:1,children:[{icon:Ll,label:"有序列表",commandName:"toggle-block-type-ordered-list-item",shortcut:"⌘+⇧+L"},{icon:Ql,label:"无序列表",commandName:"toggle-block-type-unordered-list-item",shortcut:"⌘+L"}]},{Component:ku.a,icon:Fl,label:"目录",commandName:"toggle-catalog",shortcut:"⌘+⌥+J",priority:2},{icon:Vl,label:"引用",commandName:"toggle-block-type-blockquote",shortcut:"⌘+⇧+U",priority:3},{icon:Gl,label:"分割线",commandName:"insert-divider",shortcut:"⌘+⌥+S",priority:4},{icon:Kl,label:"代码块",commandName:"toggle-block-type-code-block",shortcut:"⌘+⌥+C",priority:5},{icon:Jl,label:"注释",commandName:"insert-reference",shortcut:"⌘+⌥+R",priority:6}]},{sectionName:"advanced",minLength:2,priority:3,items:[{Component:Au.a,icon:Xl,label:"插入图片",priority:7,children:[{icon:eu,label:"上传图片",commandName:"insert-image"},{icon:nu,label:"图片库",commandName:"insert-image-from-library"}]},!i&&{label:"上传视频",icon:au,priority:6,onClick:function(){null==n||n()}},{label:"链接",icon:ru,commandName:"insert-link",priority:5,shortcut:"⌘+K"},t&&!i&&{label:"收益",icon:su,commandName:"toggle-user-profit-modal",priority:4},{label:"公式",icon:uu,commandName:"insert-formula",priority:3,shortcut:"⌘+⌥+E"},!i&&{label:"表格",icon:bu,commandName:"insert-table",priority:2,shortcut:"⌘+⌥+T"},{label:"附件",icon:fu,commandName:"insert-file-from-baidu-wangpan",priority:1}].filter(Boolean)}]},Ru=[{sectionName:"moreArea",minLength:2,priority:2,items:[{label:"更多",icon:mu,children:[]}]}],Nu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.draftPage,n=e.onNeedHelp;return[{sectionName:"fixArea",minLength:2,priority:2,items:[Object.assign({label:"文档导入",icon:Ou},t?{children:[{icon:Ou,label:"文档导入",commandName:"insert-doc"},{icon:gu,label:"草稿箱",onClick:function(){location.href=t}}]}:{commandName:"insert-doc"}),{label:"历史版本",icon:wu,commandName:"toggle-draft-history-modal"},{label:"帮助文档",icon:xu,onClick:function(){n()}}]}]};function Tu(e){var t=e.shown,n=e.onClose,a=Object(bi.b)().isAppleDevice;return Object(i.b)(Wt.b,{title:"帮助文档",closeButton:null,maskClosable:!1,hotKeyClosable:!1,css:{width:"auto"},children:t&&Object(i.c)(i.a,{children:[Object(i.c)("div",{className:"HelpDocument-wrapper",children:[Object(i.c)("div",{className:"HelpDocument-horizontal-section",children:[Object(i.c)("p",{className:"HelpDocument-section",children:["粗体：",a?"⌘+B":"Ctrl+B"]}),Object(i.c)("p",{className:"HelpDocument-section",children:["斜体：",a?"⌘+I":"Ctrl+I"]}),Object(i.c)("p",{className:"HelpDocument-section",children:["一级标题：",a?"⌘+⌥+1":"Ctrl+Alt+1"]}),Object(i.c)("p",{className:"HelpDocument-section",children:["二级标题：",a?"⌘+⌥+2":"Ctrl+Alt+2"]}),Object(i.c)("p",{className:"HelpDocument-section",children:["有序列表：",a?"⌘+⇧+L":"Ctrl+Shift+L"]}),Object(i.c)("p",{className:"HelpDocument-section",children:["无序列表：",a?"⌘+L":"Ctrl+L"]}),Object(i.c)("p",{className:"HelpDocument-section",children:["引用块：",a?"⌘+⇧+U":"Ctrl+Shift+U"]}),Object(i.c)("p",{className:"HelpDocument-section",children:["代码块：",a?"⌘+⌥+C":"Ctrl+Alt+C"]}),Object(i.c)("p",{className:"HelpDocument-section",children:["撤销：",a?"⌘+Z":"Ctrl+Z"]})]}),Object(i.c)("div",{className:"HelpDocument-horizontal-section",children:[Object(i.c)("p",{className:"HelpDocument-section",children:["添加目录：",a?"⌘+⌥+J":"Ctrl+Alt+J"]}),Object(i.c)("p",{className:"HelpDocument-section",children:["插入注释：",a?"⌘+⌥+R":"Ctrl+Alt+R"]}),Object(i.c)("p",{className:"HelpDocument-section",children:["插入分割线：",a?"⌘+⌥+S":"Ctrl+Alt+S"]}),Object(i.c)("p",{className:"HelpDocument-section",children:["清除格式：",a?"⌘+\\":"Ctrl+\\"]}),Object(i.c)("p",{className:"HelpDocument-section",children:["插入链接：",a?"⌘+K":"Ctrl+K"]}),Object(i.c)("p",{className:"HelpDocument-section",children:["插入表格：",a?"⌘+⌥+T":"Ctrl+Alt+T"]}),Object(i.c)("p",{className:"HelpDocument-section",children:["插入公式：",a?"⌘+⌥+E":"Ctrl+Alt+E"]}),Object(i.c)("p",{className:"HelpDocument-section",children:["重做：",a?"⌘+Y":"Ctrl+Y"]})]})]}),Object(i.b)(Te.Box,{css:{textAlign:"center"},children:Object(i.b)(G.c,{preset:"primary",color:"blue",onClick:n,css:{width:"359px",margin:"25px auto 0"},children:"我知道了"})}),Object(i.b)(Te.Box,{css:function(e){return{marginTop:"20px",textAlign:"center",fontSize:"12px",fontWeight:300,color:e.colors.GBL05A}},children:Object(i.b)("p",{children:"以上说明可能与您的系统快捷键冲突，以实际使用为准。"})})]})})}Tu.propTypes={shown:v.a.bool.isRequired,onClose:v.a.func},Tu.defaultProps={onClose:function(){}};n(2231);var Bu=n(2805),Eu=n(940),Iu=function(e){var t=e.children,n=e.hideScrollButton,a=Object(di.a)(!1),r=Object(o.a)(a,2),c=r[0],s=r[1];return Object(f.useEffect)((function(){var e=function(){var e=document.documentElement;e.scrollTop+e.clientHeight>=e.scrollHeight-5?s.on():s.off()};return document.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[s]),Object(i.c)(i.a,{children:[Object(i.b)(Te.Box,{height:"52px",css:{visibility:"hidden"}}),Object(i.b)(Te.Flex,{height:"52px",css:function(e){return{position:"fixed",left:0,right:0,bottom:0,justifyContent:"center",borderTop:"1px solid ".concat(e.colors.GBK09A),background:e.colors.GBK99C,WebkitFontSmoothing:"subpixel-antialiased"}},children:Object(i.c)(Te.Flex,{height:"52px",alignItems:"center",mx:"auto",css:{width:"800px"},children:[!n&&Object(i.b)(j.a,{as:"button",zaType:"Button",zaText:!0,onClick:function(){Object(se.scrollTo)(window,{top:c?0:document.body.scrollHeight,behavior:"smooth"})},css:function(e){return{cursor:"pointer",display:"flex",alignItems:"center",color:e.colors.GBL05A}},children:c?Object(i.c)(i.a,{children:[Object(i.b)(Te.Text,{mr:"4px",fontSize:"14px",children:"回到顶部"}),Object(i.b)(re.a,{text:!0,fontSize:"16px"})]}):Object(i.c)(i.a,{children:[Object(i.b)(Te.Text,{mr:"4px",fontSize:"14px",children:"发布设置"}),Object(i.b)(Je.a,{text:!0,fontSize:"16px"})]})}),t]})})]})};var qu=n(38),zu=n(958),Mu=n(1658),Pu=n(1442),Lu=["checked","onChange","text","id","disabled","shouldTrackClick","zaTextPrefix","zaText"],Du=function(e){var t=e.required,n=e.name,a=e.title,o=e.helper,r=e.props,c=Object(vi.f)();return Object(i.c)(Te.Flex,Object.assign(Object.assign({as:"label",color:"GBK03A",mr:"3px",css:[{lineHeight:"38px",fontSize:"15px",fontWeight:"400",width:"110px"},!t&&{paddingLeft:"10px"}]},r),{},{children:[t&&Object(i.b)(Te.Text,{"aria-label":"必填",color:"GRD03A",mt:"2px",mr:"4px",children:"*"}),n,o&&Object(i.b)(j.a,{as:"button",zaType:"Button",zaText:"提示信息-".concat(n),css:function(e){return{color:e.colors.GBL05A}},onClick:function(){lt.a.alert(Object(i.c)("div",{css:{paddingTop:"16px",h2:{paddingBottom:"20px",fontWeight:"bold",fontSize:"24px",textAlign:"center"},p:{textAlign:"left",fontSize:"15px",textIndent:"30px"},a:{textDecoration:"underline",color:c.colors.primary}},children:[Object(i.b)("h2",{children:a||n}),o]}),{text:{ok:"我知道了"}}).then(fi.a,fi.a)},children:Object(i.b)(Bu.a,{css:{marginLeft:"4px"},center:!0,size:18})})]}))};function Qu(e){var t=e.checked,n=e.onChange,a=e.text,o=e.id,r=e.disabled,c=e.shouldTrackClick,s=e.zaTextPrefix,l=e.zaText,u=Object(Ne.default)(e,Lu),d=Object(j.i)().trackEvent;return Object(i.c)(Te.Flex,Object.assign(Object.assign({flex:1,alignItems:"center",as:"label",htmlFor:o,css:{flex:"0 0 auto",marginRight:"20px",cursor:"pointer"}},u),{},{children:[Object(i.b)(Eu.a,{id:o,size:20,checked:t,onChange:Object(di.d)((function(){c&&d({eventType:"Click",action:"Unknown",elementLocation:{type:"Button",text:l||(s?"".concat(s,"-").concat(a):a)}}),n.apply(void 0,arguments)})),disabled:r}),Object(i.b)(Te.Text,{ml:"4px",fontSize:"14px",color:"GBL05A",children:a})]}))}var Hu,Fu,Uu=function(e){return Object(i.b)(Po.b,Object.assign({css:{".Select-button":{width:"180px",height:"38px"},".Select-arrow":{marginLeft:"auto"}}},e))},Vu=function(e){return Object(i.b)(Po.a,Object.assign({css:function(e){return{color:e.colors.GBK02A,fontSize:"14px"}}},e))},_u=[{type:!1,description:"非商业推广"},{type:!0,description:"商业推广"}],Gu=function(e){var t=e.isReport,n=e.commercialPermissionInfo,a=e.setCommercialPermissionInfo,r=e.setIsReport,c=e.validate,s=Object(j.i)().trackEvent,l=Object(di.a)(!1),u=Object(o.a)(l,2),d=u[0],b=u[1];return Object(i.c)(i.a,{children:[Object(i.b)(Uu,{onChange:function(e){if(!c||c()){var t=_u.find((function(t){return t.type===e}));s({eventType:"Click",action:"Unknown",elementLocation:{type:"Button",text:"商业推广-".concat(null==t?void 0:t.description)}}),!0!==e||null!=n&&n.isCommercialVip?r(e):b.on()}},value:Boolean(t),children:_u.map((function(e){return Object(i.b)(Vu,{css:function(e){return{color:e.colors.GBK02A,fontSize:"14px"}},value:e.type,text:e.description},e.type)}))}),Object(i.b)(Mu.a,{shown:d,toggle:b.toggle,onSuccess:function(){r(!0),a((function(e){return Object.assign(Object.assign({},e),{},{isCommercialVip:!0})}))},onFail:function(){r(!1)}})]})},Wu=function(e){return Object(i.c)(Te.Flex,{py:"11px",children:[Object(i.b)(Du,{name:"商业推广",title:"商业内容推广",helper:Object(i.c)(i.a,{children:[Object(i.b)("p",{children:"商业内容是指，未经平台允许，用户以推广曝光为目的，发布含有产品售卖信息、牟利性外链等内容，或引导用户至第三方平台进行交易。"}),Object(i.b)("p",{children:"知乎提供了报备功能，创作者可以选择主动对包含商业推广的内容进行报备。对于包含商业推广但是未报备的内容，将按社区规范进行处理"}),Object(i.c)("p",{style:{marginTop:"10px"},children:["关于报备功能更多的信息，",Object(i.b)("a",{href:"https://www.zhihu.com/creator/explore/academy/income/rights",target:"_blank",rel:"noreferrer noopener",children:"点击前往了解"})]})]})}),Object(i.b)(Te.Box,{flex:"1",children:Object(i.b)(Gu,Object.assign({},e))})]})},Ku=function(e){var t=e.question,n=e.settings,a=e.isAnonymous,r=null==n?void 0:n.commercialReportInfo,c=Object(O.useDispatch)(),s=Object(f.useState)(null),l=Object(o.a)(s,2),u=l[0],d=l[1],b=Object(f.useContext)(zu.a),h=b.updateFormData,p=(0,b.getFormData)().isReport,m=Object(di.d)((function(e){h({isReport:e})})),v=Object(di.d)((function(){return!a||(c(Object(V.h)("已经启用匿名的内容不能进行商业推广声明","red")),!1)}));return Object(f.useEffect)((function(){r&&h({isReport:Boolean(r.isReport)})}),[r,h]),Object(di.i)((function(){c(Object(Pu.b)(t.id)).then((function(e){var t=e.payload;d(t.commercialPermissionInfo)}))})),null!=u&&u.isShowTab?Object(i.b)(Wu,{isReport:Boolean(p),commercialPermissionInfo:u,setIsReport:m,setCommercialPermissionInfo:d,validate:v}):null},Zu=function(e){var t=e.question,n=e.isAnonymous,a=e.disabled,r=Object(di.a)(!1),c=Object(o.a)(r,2),s=c[0],l=c[1];return Object(i.c)(Te.Box,{color:"GBL05A",flex:"1",css:{fontSize:"14px"},children:[Object(i.c)(Te.Flex,{height:"38px",children:[Object(i.b)(Qu,{checked:!n,text:"不启用匿名",onChange:l.on,id:"PublishPanel-Anonymous-0",disabled:a,shouldTrackClick:!0,zaTextPrefix:"匿名设置"}),Object(i.b)(Qu,{checked:n,text:"启用匿名",onChange:l.on,id:"PublishPanel-Anonymous-1",disabled:a,shouldTrackClick:!0,zaTextPrefix:"匿名设置"})]}),Object(i.b)(J,{question:t,shown:s,onClose:l.off})]})},Ju=function(e){var t=(0,Object(f.useContext)(zu.a).getFormData)().isReport;return Object(i.c)(Te.Flex,{py:"11px",children:[Object(i.b)(Du,{name:"匿名设置"}),Object(i.b)(Zu,Object.assign({disabled:Boolean(t)},e))]})},Yu={type:"none",description:"无声明"},Xu=function(e){var t=e.reshipmentDisclaimers,n=e.setReshipmentDisclaimers,a=e.disclaimers,o=Object(j.i)().trackEvent;return t=t||Yu,(a=JSON.parse(JSON.stringify(a||[]))).push(Yu),Object(i.b)(Uu,{onChange:function(e){var t=a.find((function(t){return t.type===e}));o({eventType:"Click",action:"Unknown",elementLocation:{type:"Button",text:"创作声明-".concat(t.description)}}),t&&n(t)},value:t.type,children:a.map((function(e){return Object(i.b)(Vu,{value:e.type,text:e.description},e.type)}))})},$u=Object(f.forwardRef)((function(e,t){return Object(i.c)(Te.Flex,{py:"11px",children:[Object(i.b)(Du,{name:"创作声明",helper:Object(i.c)(i.a,{children:[Object(i.b)("p",{children:"「创作声明」是为自己创作的添加个人声明的工具。当你在创作特定内容（如内容存在虚构或剧透等情节）时，可设置创作声明，该声明将会展示在回答或文章开头。"}),Object(i.b)("p",{children:"创作声明表达的是创作者对内容负责的态度。知乎鼓励创作者设置创作声明，以方便知友更好地辨识和理解内容信息。你也可以在编辑内容时，关闭创作声明。"})]})}),Object(i.b)(Te.Box,{flex:"1",children:Object(i.b)(Xu,Object.assign(Object.assign({},e),{},{ref:t}))})]})})),ed=function(e){var t=e.question,n=e.answer,a=e.settings,o=Object(f.useContext)(zu.a),r=o.getFormData,c=o.updateFormData,s=Object(O.useDispatch)(),l=Object(O.useSelector)((function(e){return e.question.disclaimers[t.id]})),u=r().disclaimerType,d=(null==l?void 0:l.find((function(e){return e.type===u})))||Yu,b=(null==l?void 0:l.length)>0&&(!(null!=n&&n.id)||a);Object(f.useEffect)((function(){a&&c(function(e){var t,n,i,a,o="open"===(null==e||null===(t=e.disclaimerInfo)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.status);return{isDisclaimerChecked:o,disclaimerType:o?null==e||null===(i=e.disclaimerInfo)||void 0===i||null===(a=i[0])||void 0===a?void 0:a.type:"none"}}(a))}),[Boolean(a)]),Object(di.i)((function(){l||s(Object(I.P)(t.id))}));var h=Object(di.d)((function(e){c({isDisclaimerChecked:"none"!==e.type,disclaimerType:e.type})}));return b?Object(i.b)($u,{reshipmentDisclaimers:d,setReshipmentDisclaimers:h,disclaimers:l}):null},td=n(645),nd=n(1074),id=function(e){var t=e.scheduledPublishAt,n=e.initialScheduledPublishAt,a=e.setUseScheduledPublish,o=Boolean(t),r=function(e){a(e)};return Object(i.c)(Te.Box,{color:"GBL05A",flex:"1",css:{fontSize:"14px"},children:[Object(i.c)(Te.Flex,{height:"38px",children:[Object(i.b)(Qu,{checked:!o,text:"不使用定时发布",onChange:function(){return r(!1)},id:"PublishPanel-scheduleLabel-0",shouldTrackClick:!0,zaTextPrefix:"定时发布"}),Object(i.b)(Qu,{checked:o,text:"使用定时发布",onChange:function(){r(!0),requestAnimationFrame((function(){Object(se.scrollBy)(window,{top:50,behavior:"smooth"})}))},id:"PublishPanel-scheduleLabel-1",shouldTrackClick:!0,zaTextPrefix:"定时发布"})]}),o&&n&&Object(i.b)(nd.a,{value:t,min:n,max:td.a(n,7),onChange:function(e){a(!0,e)},css:function(e){return{color:e.colors.GBL05A,fontSize:"14px",marginTop:"5px",".InputButton":{height:"38px"}}}})]})},ad=function(e){return Object(i.c)(Te.Flex,{py:"11px",children:[Object(i.b)(Du,{name:"定时发布"}),Object(i.b)(id,Object.assign({},e))]})},od=function(e){var t=e.disabled,n=Object(f.useContext)(zu.a),a=n.updateFormData,o=(0,n.getFormData)().pushActivity;return Object(f.useEffect)((function(){a({pushActivity:void 0===o||o})}),[o,a]),Object(i.b)(Te.Box,{color:"GBL05A",flex:"1",css:{fontSize:"14px"},children:Object(i.c)(Te.Flex,{height:"38px",children:[Object(i.b)(Qu,{checked:o,text:"开启推送",onChange:function(){a({pushActivity:!0})},id:"PublishPanel-PushToFollowers-0",disabled:t,shouldTrackClick:!0,zaTextPrefix:"推送给关注者"}),Object(i.b)(Qu,{checked:!o,text:"关闭推送",onChange:function(){lt.a.confirm("设置后，关注你的其他用户将无法在「首页 - 关注」阅读这篇回答",{title:"关闭推送给关注者吗",text:{ok:"关闭推送"}}).then((function(){a({pushActivity:!1})})).catch((function(){}))},id:"PublishPanel-PushToFollowers-1",disabled:t,shouldTrackClick:!0,zaTextPrefix:"推送给关注者"})]})})},rd=function(e){return Object(i.c)(Te.Flex,{py:"11px",children:[Object(i.b)(Du,{name:"推送给关注者"}),Object(i.b)(od,Object.assign({},e))]})},cd=n(1762),sd=n(446),ld=n(288),ud=function(e){var t,n=Object(H.b)(e),i=Object.values(e.entities.answers).filter((function(e){var t;return(null===(t=e.author)||void 0===t?void 0:t.urlToken)===(n&&n.urlToken)}))[0]||{};return null==i||null===(t=i.rewardInfo)||void 0===t?void 0:t.tagline},dd=function(e){var t=e.answer,n=(t=void 0===t?{}:t).rewardInfo,a=(n=void 0===n?{}:n).isRewardable,r=void 0!==a&&a,c=e.question.id,s=e.isAnonymous,l=e.disabled,u=Object(di.a)(!1),d=Object(o.a)(u,2),b=d[0],h=d[1],p=Object(O.useSelector)(ud),m=Object(f.useContext)(zu.a),v=m.getFormData,j=m.updateFormData,g=Object(O.useDispatch)(),y=v(),w=y.canReward,C=y.rewardTagline,x=Object(di.a)(Boolean(r||C)),k=Object(o.a)(x,2),A=k[0],S=k[1];Object(f.useEffect)((function(){w&&S.on()}),[w,S]);var R=Object(di.d)((function(e){j({rewardTagline:e}),S.on(),g(Object(sd.n)()),h.off()}));return Object(f.useEffect)((function(){j({rewardTagline:p})}),[p,j]),Object(i.c)(Te.Box,{color:"GBL05A",flex:"1",css:{fontSize:"14px"},children:[Object(i.c)(Te.Flex,{height:"38px",children:[Object(i.b)(Qu,{checked:A,text:"开启赞赏",onChange:function(){s?g(Object(V.h)("匿名回答无法开启赞赏，请先取消匿名","red")):h.on()},id:"PublishPanel-RewardSetting-0",disabled:l,shouldTrackClick:!0,zaTextPrefix:"赞赏设置"}),Object(i.b)(Qu,{checked:!A,text:"关闭赞赏",onChange:function(){j({rewardTagline:""}),S.off(),g(Object(sd.n)(c,!1))},id:"PublishPanel-RewardSetting-1",disabled:l,shouldTrackClick:!0,zaTextPrefix:"赞赏设置"})]}),b&&Object(i.b)(cd.a,{submitRewardText:R,onClose:h.off,tagline:C,edit:!1})]})},bd=function(e){var t=Object(O.useDispatch)(),n=Object(O.useSelector)((function(e){return e.switches})).isAnswerRewardable;return Object(f.useEffect)((function(){void 0===n&&t(Object(ld.b)(["isAnswerRewardable"]))}),[t,n]),n?Object(i.c)(Te.Flex,{py:"11px",children:[Object(i.b)(Du,{name:"赞赏设置"}),Object(i.b)(dd,Object.assign({},e))]}):null},hd={allowed:"允许规范转载",need_payment:"允许付费转载",disallowed:"禁止转载"},fd=function(e){var t=e.currentUser,n=Object(j.i)().trackEvent,a=Object(f.useContext)(zu.a),r=a.updateFormData,c=(0,a.getFormData)(),s=c.isCopyable,l=c.reshipmentSettings,u=Object(f.useState)("allowed"),d=Object(o.a)(u,2),b=d[0],h=d[1];Object(f.useEffect)((function(){!1===s&&h("disallowed")}),[s]),Object(f.useEffect)((function(){l?h(l):t.caEnabled&&h("need_payment")}),[l,t]);return Object(i.b)(Uu,{onChange:function(e){n({eventType:"Click",action:"Unknown",elementLocation:{type:"Button",text:"转载设置-".concat(hd[e])}}),"need_payment"!==e||t.caEnabled||window.open("/copyright/invite"),h(e),r({reshipmentSettings:e})},value:b,children:Object.keys(hd).map((function(e){return"need_payment"===e&&t.isOrg?null:Object(i.b)(Vu,{value:e,text:hd[e]},e)}))})},pd=Object(f.forwardRef)((function(e,t){return Object(i.c)(Te.Flex,{py:"11px",children:[Object(i.b)(Du,{name:"转载设置"}),Object(i.b)(Te.Box,{flex:"1",children:Object(i.b)(fd,Object.assign(Object.assign({},e),{},{ref:t}))})]})})),md={all:"允许任何人评论",censor:"评论由我筛选后显示",nobody:"关闭评论"},vd={all:"允许任何人评论",followee:"允许我关注的人评论",censor:"评论由我筛选后显示",nobody:"关闭评论"},Od=function(){var e=Object(j.i)().trackEvent,t=Object(O.useSelector)(H.h),n=Object(f.useContext)(zu.a),a=n.updateFormData,r=(0,n.getFormData)().commentPermission,c=Object(f.useState)("all"),s=Object(o.a)(c,2),l=s[0],u=s[1];Object(f.useEffect)((function(){r&&u(r)}),[r]);var d=t?md:vd;return Object(i.b)(Uu,{onChange:function(t){e({eventType:"Click",action:"Unknown",elementLocation:{type:"Button",text:"评论权限-".concat(d[t])}}),t!==l&&(u(t),t&&a({commentPermission:t}))},value:l,children:Object.keys(d).map((function(e){return Object(i.b)(Vu,{value:e,text:d[e]},e)}))})},jd=Object(f.forwardRef)((function(e,t){return Object(i.c)(Te.Flex,{py:"11px",children:[Object(i.b)(Du,{name:"评论权限"}),Object(i.b)(Te.Box,{flex:"1",children:Object(i.b)(Od,Object.assign(Object.assign({},e),{},{ref:t}))})]})})),gd=n(1735),yd=function(e){var t=e.children;return"string"!=typeof t||t.trim().length?Object(i.b)(Te.Text,{maxWidth:"292px",mr:"20px",css:[Object(vi.d)(1)],children:t}):null},wd=function(e){var t=e.questionId,n=e.currentUser,a=Object(O.useSelector)((function(e){return e.question.bio})),o=Object(O.useSelector)((function(e){return e.topic.bios})),r=(a[t]||{result:{type:"headline"}}).result;return"topic"===r.type&&(r.bio=o[r.topic.id]||r.bio),r.bio&&"headline"!==r.type?Object(i.b)(yd,{children:r.bio}):n.headline?Object(i.b)(yd,{children:Object(i.b)(Ht.a,{inline:!0,html:(r||{}).bio||n.headline})}):null},Cd=function(e){var t=e.question,n=e.currentUser,a=Object(di.a)(!1),r=Object(o.a)(a,2),c=r[0],s=r[1];return Object(i.c)(Te.Box,{color:"GBL05A",flex:"1",css:{fontSize:"14px"},children:[Object(i.c)(Te.Flex,{alignItems:"center",height:"100%",css:{cursor:"pointer"},onClick:s.on,children:[Object(i.b)(wd,{questionId:t.id,currentUser:n}),Object(i.c)(j.a,{as:Te.Flex,zaType:"Button",zaText:"一句话介绍-修改",color:"GBL01A",alignItems:"center",children:["修改",Object(i.b)(et.a,{css:{marginLeft:"2px"},size:16})]})]}),Object(i.b)(gd.a,{shown:c,question:t,onClose:s.off})]})},xd=function(e){return Object(i.c)(Te.Flex,{py:"11px",children:[Object(i.b)(Du,{name:"一句话介绍"}),Object(i.b)(Cd,Object.assign({},e))]})},kd=n(2249),Ad=n(1347),Sd=n(430),Rd=function(e){var t,n,a=e.answer,r=Object(O.useDispatch)(),c=Object(ml.q)(),s=null==a||null===(t=a.attachment)||void 0===t||null===(n=t.video)||void 0===n?void 0:n.campaign,l=Boolean(!(null!=s&&s.title)),u=Object(di.a)(!1),d=Object(o.a)(u,2),b=d[0],h=d[1],p=Object(f.useState)([]),m=Object(o.a)(p,2),v=m[0],g=m[1];Object(di.i)((function(){r(Object(Sd.l)()).then((function(e){var t=e.payload;g((null==t?void 0:t.data)||[])}))}));var y=Object(di.d)((function(e){h.off(),r(Object(ml.m)(e))})),w=Object(di.d)((function(){r(Object(ml.m)(null))})),C=l?"GBL01A":"GBL05A";return Object(i.c)(Te.Flex,{color:"GBL05A",flex:"1",alignItems:"center",css:{fontSize:"14px"},children:[null!=c&&c.title?Object(i.c)(Te.Flex,{alignItems:"center",px:"14px",height:"30px",color:C,css:function(e){return{borderRadius:"20px",background:e.colorMod(e.colors[C]).alpha(.1),cursor:"pointer"}},onClick:function(){l&&h.on()},children:[Object(i.b)(kd.a,{mr:4,size:20}),c.title,l&&Object(i.b)(Lt.a,{text:!0,center:!0,size:6,css:{marginLeft:4},onClick:function(e){w(),e.stopPropagation()}})]}):Object(i.c)(j.a,{as:Te.Flex,zaType:"Button",zaText:"绑定活动-选择活动",height:"100%",alignItems:"center",color:"GBL01A",css:{cursor:l?"pointer":"not-allowed"},onClick:function(){l&&h.on()},children:[Object(i.b)(kd.a,{mr:4,size:20}),"选择活动"]}),Boolean(null==v?void 0:v.length)&&Object(i.b)(Ad.a,{shown:b,onClose:h.off,defaultCampaignId:null==c?void 0:c.id,campaignList:v,onSubmit:y})]})},Nd=function(e){return Object(i.c)(Te.Flex,{py:"11px",children:[Object(i.b)(Du,{name:"绑定活动"}),Object(i.b)(Rd,Object.assign({},e))]})},Td=Object(a.withRouter)((function(e){var t,n=e.question,a=e.answer,o=e.isVideoAnswer,r=e.isReediting,c=e.draft,s=e.settings,l=e.location,u=e.scheduledPublishAt,d=e.initialScheduledPublishAt,b=e.canScheduledPublish,h=e.setUseScheduledPublish,p=Object(O.useDispatch)(),m=Object(f.useContext)(zu.a).updateFormData,v=((null==l?void 0:l.query)||{}).push_activity,j=Object(O.useSelector)(H.b);Object(di.i)((function(){p(Object(qu.X)()).then((function(e){var t=e.payload;m(Object.assign(Object.assign(Object.assign({},null==t?void 0:t.settings),null==c?void 0:c.settings),v&&{pushActivity:Boolean(Number(v))}))}))}),[]);var g=null==n||null===(t=n.relationship)||void 0===t?void 0:t.isAnonymous,y="show"===Object(Q.useAbParam)("gue_anonymous"),w=(n||{}).questionType,C=j&&!j.isOrg,x=C&&("normal"===w||"commercial"===w&&y||g)&&!o;return o&&r?null:Object(i.c)(Te.Box,{pl:"10px",pr:"20px",width:"100%",bg:"GBK99A",css:{position:"relative"},children:[Object(i.b)(Te.Box,{sx:{borderTop:"1px solid",borderColor:"GBK09A"},ml:"10px"}),x&&!r&&Object(i.b)(Ju,{question:n,isAnonymous:g}),!o&&Object(i.b)(ed,{question:n,answer:a,settings:s}),Object(i.b)(Ku,{settings:s,draft:c,question:n,isAnonymous:g}),b&&Object(i.b)(ad,{scheduledPublishAt:u,initialScheduledPublishAt:d,setUseScheduledPublish:h}),o&&Object(i.b)(Nd,{answer:a}),!r&&C&&Object(i.b)(xd,{question:n,currentUser:j}),!r&&Object(i.b)(pd,{currentUser:j}),!r&&Object(i.b)(jd,{}),!r&&!o&&Object(i.b)(rd,{}),Object(i.b)(bd,{question:n,answer:a,isAnonymous:g})]})})),Bd=n(1659),Ed=n(1758),Id=n(1738),qd=n(1759),zd=n(1747),Md=n(1750),Pd=n(1727),Ld=n(1660),Dd=n(1662),Qd=n(1444),Hd=n(1443);n(1663);function Fd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(h.a)(e);if(t){var a=Object(h.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(b.a)(this,n)}}var Ud=function(e){Object(d.a)(n,e);var t=Fd(n);function n(e,a){var o;Object(l.a)(this,n),(o=t.call(this,e,a)).editableReady=function(){var e=o.props,t=e.reporter,n=e.draft;t.reportSuccess(Qd.a.editableInit),n&&t.reportSuccess(Qd.a.draftLoad)},o.onCompositionStart=function(){o.composition=!0,o.syncDraft.cancel()},o.onCompositionEnd=function(){o.composition=!1,o.prevValue&&o.syncDraft(o.prevValue),o.prevValue=null},o.onChangeContent=function(e){o.loggingDeltaTime||(o.loggingDeltaTime=!0,o.startCompositionTime=Math.floor((new Date).getTime()/1e3)),o.hasEdited=!0,o.setState({content:e,isEmpty:e.isEmpty,isTyping:!0}),o.composition?o.prevValue=e:o.syncDraft(e)},o.onAfterChangeContent=function(e){var t=e.getSelection().getIsBackward(),n=document.getSelection();if(n.rangeCount){var i=n.getRangeAt(0).cloneRange();i.collapse(t);var a=i.getBoundingClientRect();if(0===a.height){var o=i.commonAncestorContainer;1===o.nodeType&&(a=o.getBoundingClientRect())}if(0!==a.height){var r=a.bottom-(window.innerHeight-117);r>0&&window.scrollBy(0,r)}}},o.onDeleteDraftModalShow=function(){o.setState({deleteDraftModalShown:!0})},o.onDeleteDraft=function(){var e=o.props,t=e.isReediting,n=e.activeTabKey;t||(n===Or.a.videoAnswer?o.editable.clearAllContent():o.editable.reset(),o.setState({draft:"",content:{toHTML:function(){return""}},isEmpty:!0})),o.deleteDraft();var i=o.props.onDeleteDraft;i&&i()},o.onDeleteDraftModalHide=function(){o.setState({deleteDraftModalShown:!1})},o.checkVideoSectionReady=function(e){if(!e)return lt.a.alert("没有上传视频，请上传后提交",{title:"无视频"}),!1;var t=e.videoId,n=e.isOriginal;if(t){if("zvideo"===e.type&&null==n)return lt.a.alert("没有视频类型，请选择视频为原创或转载后提交",{title:"无视频类型"}),!1}else{var i=o.editable.checkVideoStatus();if(i.isUploading)return lt.a.alert("视频上传中，请上传完成后提交",{title:"视频上传中"}),!1;if(i.hasError)return lt.a.alert("视频上传失败，请重新上传后提交",{title:"上传失败"}),!1}return!0},o.checkEditorContentReady=function(){return o.editable.hasVideo("upload")?(o.handleError("video-uploading"),!1):o.editable.hasImage("upload")?(o.handleError("image-uploading"),!1):o.editable.hasImage("error")||o.editable.hasVideo("error")&&!o.editable.hasVideo("error-review")?(lt.a.alert("草稿中含有上传失败的内容，请更改后重新提交",{title:"上传失败"}),!1):!o.editable.hasVideo("error-review")&&!o.editable.hasVideo("censor")||(lt.a.alert("视频中包含未通过审核的信息，请更改后重新提交",{title:"视频未通过审核"}),!1)},o.getSubmitData=function(e,t,n){var a,r=o.state.scheduledPublishAt,c=o.props,s=c.answer,l=c.disclaimers,u=c.settings,d=c.isReediting,b={content:t},h=(0,c.getFormData)(),f=h.isDisclaimerChecked,p=h.disclaimerType,m=h.rewardTagline,v=h.pushActivity,O=h.commentPermission,j=h.reshipmentSettings,g=h.isReport;if(!d){var y=o.props.currentUser.caEnabled?"need_payment":"allowed";b.reshipmentSettings=j||y,b.commentPermission=O||"all"}if(b.rewardSetting={canReward:Boolean(m),tagline:m},e)return{content:t,attachment:n,rewardSetting:b.rewardSetting,reshipmentSettings:b.reshipmentSettings,commentPermission:b.commentPermission};if(l&&l.length&&(!s||u)&&(b.disclaimerStatus=f?"open":"close",b.disclaimerType=p||"none"),b.commercialReportInfo={isReport:!!g},b.isReport=!!g,r){if(le.a.trackEvent(Object(st.a)(o),{action:"Click",id:5733,name:"回答"}),Ns.a(r,Ts.a(new Date,30)))return void lt.a.alert(Object(i.b)("div",{style:{textAlign:"center"},children:"只能设置 30 分钟后的定时时间"}),{title:"定时发布"});b.publishAt=Math.floor(r/1e3)+0}return void 0!==v&&(b.pushActivity=v),null!=n&&n.bizExt&&(b.bizExt=Object(Ol.a)(n.bizExt)),b.tableOfContentsEnabled=o.editable.hasCatalog(),Object.assign(b,null===(a=o.editable)||void 0===a?void 0:a.getExtraPluginData()),b},o.canSubmit=function(){var e,t,n=null===(e=o.editable)||void 0===e?void 0:e.toHTML(),i=o.isVideoAnswer?null===(t=o.editable)||void 0===t?void 0:t.getAttachment():null;return o.isVideoAnswer?Boolean(i||n):Boolean(n)},o.handleSubmit=function(){var e=o.props.reporter;e.reportRequest(Qd.a.addAnswer);try{var t,n=o.props,i=n.draft,a=n.isReediting,r=n.onSubmit,c=n.question.id,s=n.currentUser,l=n.onCancel;if(!o.editable)return l(),void e.reportSuccess(Qd.a.addAnswer);if(!o.canSubmit())return void e.reportSuccess(Qd.a.addAnswer);var u=o.editable.toHTML(),d=o.isVideoAnswer?o.editable.getAttachment():null==i?void 0:i.attachment;if(o.isVideoAnswer&&!o.checkVideoSectionReady(d))return void e.reportSuccess(Qd.a.addAnswer);if(!o.checkEditorContentReady())return void e.reportSuccess(Qd.a.addAnswer);var b=o.getSubmitData(o.isVideoAnswer,u,Object.assign(Object.assign({},d),{},{campaign_id:null===(t=o.props.campaign)||void 0===t?void 0:t.id}));Promise.resolve(r(b)).then((function(){e.reportSuccess(Qd.a.addAnswer)})).then((function(){le.a.trackCardShow(null,{id:7879}),a||le.a.trackEvent(null,{id:4931,action:"StatusReport"},{module:[{card:{content:[{type:"Answer",parent_token:String(c),author_member_hash_id:s.id}]}}],status:{result:"Success",event:{action:"Submit"}}})})).catch((function(t){var n;t.status&&"5"!==(null===(n=t.status)||void 0===n?void 0:n.toString()[0])||e.reportFail(Qd.a.addAnswer,t),a||le.a.trackEvent(Object(st.a)(o),{id:4931,action:"StatusReport"},{status:{result:"Fail",event:{action:"Submit"}}})}));var h=a?"Edit":"Answer";"Answer"===h&&le.a.trackEvent(Object(st.a)(o),{id:4930}),le.a.trackEvent(Object(st.a)(o),{action:h,is_intent:!1})}catch(t){throw e.reportFail(Qd.a.addAnswer,t),t}},o.onCancel=function(){var e=o.props.onCancel;o.editable.hasVideo("upload")?o.handleError("video-uploading-draft"):o.editable.hasImage("upload")?o.handleError("image-uploading-draft"):(o.hasEdited&&o.syncDraftImmediately(),e&&e())},o.onFocus=function(){"org"===o.props.question.questionType&&o.shouldAnswerOrgQuestionModalShow&&o.handleAnswerOrgQuestionModalShow(),o.setState({focusing:!0})},o.onSelectText=function(e){o.setState({selectedText:e.replace(/\s/g,"")})},o.onLoadStart=function(){o.setState({loadingShown:!0})},o.onLoadEnd=function(){o.setState({loadingShown:!1})},o.handleInsertZVideo=function(){o.setState({showInsertableVideoUploader:!0})},o.getAllInviters=function(){var e=o.props,t=e.question;return(0,e.fetchAllInviters)(t.id)},o.getToolbarSidePlugins=function(){return null},o.getToolbarMenuPlugins=function(){var e=o.state.scheduledPublishAt;return Object(i.b)(f.Fragment,{children:o.canUseScheduledPublish&&Object(i.c)(Es.c,{onClick:function(){o.setUseScheduledPublish(!e),le.a.trackEvent(Object(st.a)(o),{action:"Click",id:5730,name:"回答"})},children:[Object(i.b)(Bs.a,{text:!0}),e?"取消定时发布":"定时发布"]})})},o.setUseScheduledPublish=function(e,t){if(e)if(t)o.setState({scheduledPublishAt:t});else{var n=Ts.a(new Date,30);o.setState({initialScheduledPublishAt:n,scheduledPublishAt:n})}else lt.a.confirm("取消后，当前设定的定时发布将不会生效，确定要取消发布吗？",{title:"取消定时发布",text:{cancel:"我再想想"}}).then((function(){o.setState({scheduledPublishAt:void 0}),le.a.trackEvent(Object(st.a)(o),{action:"Click",id:5737,name:"回答"})})).catch((function(){le.a.trackEvent(Object(st.a)(o),{action:"Click",id:5736,name:"回答"})})),le.a.trackCardShow(Object(st.a)(o),{id:5735,name:"回答"})},o.getEditorState=function(){return o.editable.state.editorState?o.editable.state.editorState:o.editable.getEditorState()},o.handleUploadStart=function(){o.setState({isUploading:!0})},o.handleUploadEnd=function(){o.setState({isUploading:!1})},o.handleUploadError=function(e,t){switch(t){case"video":o.handleError("video-upload-error");break;case"image":o.handleError("image-upload-error",e)}},o.handleAnswerOrgQuestionModalShow=function(){o.setState({answerModalShown:!0}),o.shouldAnswerOrgQuestionModalShow=!1},o.handleAnswerModalHide=function(){o.setState({answerModalShown:!1})},o.syncDraftImmediately=o.props.reporter.recordError(Qd.a.draftSave,(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.state.content,n=o.props,i=n.reporter,a=n.draft,r=o.state.lastUpdatedTime,c=t.toHTML(),s=Math.floor(Date.now()/1e3);e=!r||o.startCompositionTime-r>180?s-o.startCompositionTime:s-r,o.setState({isTyping:!1});var l,u=o.props.answer,d=(u=void 0===u?{}:u).attachment;l=o.videoAnswerEditable||"zvideo"===(null==d?void 0:d.type)?"video_answer":"video"===(null==d?void 0:d.type)?"video_answer_v2":"normal";var b=o.isVideoAnswer?t.getAttachment():null==a?void 0:a.attachment,h=o.isVideoAnswer?Boolean(b||c):Boolean(c);h?o.updateDraft(c,e,l,b).then((function(e){var t;null!=e&&null!==(t=e.payload)&&void 0!==t&&t.updatedTime&&o.setState({lastUpdatedTime:e.payload.updatedTime}),o.loggingDeltaTime=!1,i.reportSuccess(Qd.a.draftSave),le.a.trackEvent(Object(st.a)(o),{action:"AutoSave"})}),(function(e){throw i.reportFail(Qd.a.draftSave,e),e})).finally((function(){delete o.startCompositionTime})):(o.deleteDraft(),i.reportSuccess(Qd.a.draftSave))})),o.syncDraft=Object(Is.a)(o.syncDraftImmediately,2e3),o.updateDraft=function(){for(var e=o.props,t=e.question.id,n=e.draft,i=e.addDraft,a=e.updateDraft,r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return n?a.apply(void 0,[t].concat(c)):i.apply(void 0,[t].concat(c))},o.focus=function(){o.editable&&o.editable.focus()},o.hasVideo=function(){return!!o.editable&&o.editable.hasVideo()},o.hasADLinkCard=function(){return!!o.editable&&o.editable.hasADLinkCard()},o.hasFeeConsultCard=function(){return!!o.editable&&o.editable.hasFeeConsultCard()},o.hasMCNLinkCard=function(){return!!o.editable&&o.editable.hasMCNLinkCard()},o.hasCommercialReport=function(){var e=o.props.getFormData().commercialReportInfo;return null==e?void 0:e.isReport},o.handleChangeCommentPermission=function(e,t){var n=void 0===t?e:t;o.setState({commentPermission:n})},o.handleReshipmentSettings=function(e){"need_payment"!==e||o.props.currentUser.caEnabled||window.open("/copyright/invite"),o.setState({reshipmentSettings:e})},o.handleError=function(e,t){Object(vl.b)(e,t,o.props.showNotification)},o.handleBeforeVideoUpload=function(){var e=o.props.question;return!e.relationship||!e.relationship.isAnonymous},o.handleReverted=function(e){o.editable.resetWithValue(e.draft.content)},o.getDraftStatus=function(){var e=o.props.draft,t=o.state,n=t.isTyping,a=t.dateNow;return e?e.updating||n?"草稿保存中…":e.updated&&a<1e3*e.updatedTime+6e4?"草稿已保存":e.updateFailed?Object(i.b)("span",{className:"AnswerForm-draftStatus--failed",children:"草稿保存失败"}):oe()(Hu||(Hu=Object(ie.a)(["草稿保存于",""])),Object(k.toRelativeString)(e.updatedTime)):""},o.handleEditGGRCard=function(e){var t=e.type,n=e.payload,i=o.state.mcnEditingGood,a=o.props.updateLinkCard;"goodsEditor/submitNewGoodsInfo"!==t?"goodsEditor/closeGoodsEditor"!==t||o.setState({mcnEditingGood:null}):a(Object.assign(Object.assign({},i),{},{title:null==n?void 0:n.title})).finally((function(){o.setState({mcnEditingGood:null}),o.editable.handleCommand("edit-mcn-link-card:".concat(i.id))}))},o.getIsVideoAnswer=function(e){var t=e||o.props,n=t.activeTabKey,i=t.answer,a=(i=void 0===i?{}:i).attachment,r=n===Or.a.videoAnswer;return["zvideo","video"].includes(null==a?void 0:a.type)||r},o.shouldShowProfit=function(e){return(e||o.props).showUserProfitButton&&!o.getIsVideoAnswer(e)},o.createEditorPlugins=function(){var e,t,n;return[Object(Id.a)({type:"question",id:o.props.question.id,draftType:null!==(e=o.props.answer)&&void 0!==e&&e.id?"answer":void 0,draftId:null===(t=o.props.answer)||void 0===t?void 0:t.id,syncDraft:o.syncDraft}),Object(Md.a)({getShouldShowToolbarButton:function(){return!o.isVideoAnswer},getAllInviters:o.getAllInviters,inviterQuery:o.props.inviterQuery,getInitialThankInviterInfo:function(){return o.props.thankInviterInfo}}),Object(qd.a)({shouldDisabled:function(){return o.props.question.relationship.isAnonymous},shouldShow:function(){return o.shouldShowProfit()},getContentInfo:function(){var e;return{type:"answer",id:null===(e=o.props.answer)||void 0===e?void 0:e.id}}}),Object(zd.a)(),Object(Pd.a)({sourceType:"answer",sourceId:null===(n=o.props.question)||void 0===n?void 0:n.id})]},o.renderRichInput=function(){var e=o.props,t=e.answer,n=(t=void 0===t?{}:t).attachment,a=e.answer,r=e.question,c=e.isReediting,s=e.isPuQuestion,l=e.draft,u=e.defaultValue,d=o.state,b=d.toolbarMenuAttention,h=d.scheduledPublishAt,f=d.initialScheduledPublishAt,p="".concat(c?"修改":"写","回答...");if("commercial"===r.questionType&&!s){p="这是一个「".concat("品牌提问","」，请在回答前了解：「").concat("品牌提问","」由品牌方管理，回答由品牌方筛选后展示，传播与社区提问有所区别。回答著作权归作者所有。")}o.isVideoAnswer&&(p="详细介绍下视频（选填）");var m,v=o.videoAnswerEditable||"video_answer"===(null==l?void 0:l.type)||"zvideo"===(null==n?void 0:n.type);if(l)m=null==l?void 0:l.attachment;else if("zvideo"===(null==n?void 0:n.type))m=n.zvideo;else if("video"===(null==n?void 0:n.type)){var O;m=Object.assign(Object.assign({},null===(O=n.video)||void 0===O?void 0:O.videoInfo),{},{videoId:n.attachmentId})}var j={ref:function(e){return o.editable=e},answer:a,question:r,toolbarMenuAttention:b,scheduledPublishAt:h,initialScheduledPublishAt:f,placeholder:p,draft:l,defaultValue:u,isLegacyVideoAnswer:v,defaultVideo:m,videoAnswerEditable:o.videoAnswerEditable,videoAnswerPublished:o.videoAnswerPublished,editableReady:o.editableReady,handleChangeContent:o.onChangeContent,handleAfterChangeContent:o.onAfterChangeContent,handleFocusWithAuth:o.onFocus,handleSelectText:o.onSelectText,handleSubmit:o.handleSubmit,handleError:o.handleError,handleLoadStart:o.onLoadStart,handleLoadEnd:o.handleLoadEnd,handleUploadStart:o.handleUploadStart,handleUploadEnd:o.handleUploadEnd,handleUploadError:o.handleUploadError,handleBeforeVideoUpload:o.handleBeforeVideoUpload,handleMCNLinkCardEdit:function(e,t){o.setState({mcnEditingGood:t})},isVideoAnswer:o.isVideoAnswer,handleInsertZVideo:o.handleInsertZVideo,getToolbarSidePlugins:o.getToolbarSidePlugins,createEditorPlugins:o.createEditorPlugins,getToolbarMenuPlugins:o.getToolbarMenuPlugins,getEditorBeforePlugins:o.getEditorBeforePlugins,setUseScheduledPublish:o.setUseScheduledPublish,allowToolbar:!1,onAnyChange:o.handleAnyChange};return Object(i.b)(Ld.a,Object.assign({},j))},o.handleAnyChange=function(e){var t=e.editorState;o.setState({editorState:t})},o.handleKeyCommand=function(e){if(!o.editable)return"not-handled";var t=o.editable.handleKeyCommand(e);return"toggle-catalog"===e&&requestAnimationFrame((function(){o.forceUpdate()})),t},o.toggleHelpDocumentModal=function(){o.setState({showHelpDocumentModal:!o.state.showHelpDocumentModal})};var r=o.props,c=r.defaultValue,s=r.draft,u=s?s.editableContent:c,d=s?s.updatedTime:0;return o.state={draft:u,content:{toHTML:function(){return u}},isEmpty:!u,isTyping:!1,reshipmentSettings:null,commentPermission:null,answerModalShown:!1,focusing:!1,selectedText:null,loadingShown:!1,isUploading:!1,rewardNotication:!0,toolbarMenuAttention:null,dateNow:0,rewardModalShown:!1,lastUpdatedTime:d,showInsertableVideoUploader:!1,mcnEditingGood:null,initialScheduledPublishAt:void 0,scheduledPublishAt:void 0,thankInviterInfo:e.thankInviterInfo||e.inviterFromNotification,editorState:null,toolbarMainAreaData:Su({showProfit:o.shouldShowProfit(),onInsertVideoClick:function(){return o.handleInsertZVideo()},isVideoAnswer:o.getIsVideoAnswer()}),showHelpDocumentModal:!1},o.hasEdited=!1,o}return Object(u.a)(n,[{key:"canUseScheduledPublish",get:function(){var e=this.props,t=e.currentUser,n=e.isReediting,i=e.activeTabKey;return t&&t.autoSendingCreations&&i===Or.a.textAnswer&&!n}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.reporter,i=t.draft;n.reportRequest(Qd.a.editableInit),i&&n.reportRequest(Qd.a.draftLoad),this.shouldAnswerOrgQuestionModalShow=!rl.a.getKnown();var a=this.props,r=a.fillCurrentUserIfNeeded,c=a.getUserProfitPermission,s=r(["lastCommentPermission","caEnabled","autoSendingCreations","mcn_user_info"]);c(),Promise.resolve(s).then((function(){ll.a.getActionsByNames(["a_draft_history",e.canUseScheduledPublish&&"auto_pub_answer"].filter(Boolean)).then((function(t){var n=Object(o.a)(t,1)[0];n&&(e.setState({toolbarMenuAttention:n.description}),ll.a.markAsShown(n),"auto_pub_answer"===n.guide_name&&le.a.trackCardShow(e,{id:5738}))})),le.a.trackCardShow(e,{id:5729,name:"回答"})})),document.addEventListener("compositionstart",this.onCompositionStart),document.addEventListener("compositionend",this.onCompositionEnd),window.onbeforeunload=function(){return e.state.isUploading||e.composition||e.syncDraft.pending()||e.props.draft&&e.props.draft.updating?"草稿尚未保存完毕，确定离开此页？":void 0},this.setState({dateNow:Date.now()}),this.reRenderTimer=setInterval((function(){return e.setState({dateNow:Date.now()})}),6e4);var l=this.props,u=l.answer,d=l.settings,b=l.loadSettings;u&&!d&&b(u.id),this.props.imperativeRef&&(this.props.imperativeRef.current={focus:this.focus,hasVideo:this.hasVideo,hasADLinkCard:this.hasADLinkCard,hasMCNLinkCard:this.hasMCNLinkCard,hasFeeConsultCard:this.hasFeeConsultCard,hasCommercialReport:this.hasCommercialReport,hasEditorContent:function(){return!e.state.isEmpty}})}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.props.reporter,i=this.state,a=e.currentUser,o={};i.reshipmentSettings||void 0===a.caEnabled||(o.reshipmentSettings=a.caEnabled?"need_payment":"allowed"),i.commentPermission||void 0===a.lastCommentPermission||(o.commentPermission=a.lastCommentPermission),this.props.showUserProfitButton===e.showUserProfitButton&&this.props.activeTabKey===e.activeTabKey||(o.toolbarMainAreaData=Su({showProfit:this.shouldShowProfit(e),onInsertVideoClick:function(){return t.handleInsertZVideo()},isVideoAnswer:this.getIsVideoAnswer(e)})),Object.keys(o).length&&this.setState(o),this.draftLoaded||this.state.draft||this.props.draft||!e.draft||(n.wrapAutoRecord(Qd.a.draftLoad,(function(){var n=e.draft.editableContent;n&&(t.setState({draft:n,isEmpty:!n,content:{toHTML:function(){return n}}}),t.editable&&!t.editable.toHTML()&&t.editable.resetWithValue(n))}))(),this.draftLoaded=!0)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.state,i=n.focusing,a=n.thankInviterInfo,o=this.props,r=o.tagline,c=o.inviterFromNotification;if(r){var s=Ae.a.get("rewardNotication");i&&!s&&(this.setState({rewardNotication:!1}),Ae.a.set("rewardNotication",!0),this.timeout=setTimeout((function(){t.setState({rewardNotication:!0})}),2e3))}a||!c||e.inviterFromNotification||this.setState({thankInviterInfo:c})}},{key:"componentWillUnmount",value:function(){this.syncDraft.cancel(),document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd),window.onbeforeunload=null,this.timeout&&clearTimeout(this.timeout),this.reRenderTimer&&clearInterval(this.reRenderTimer),this.props.imperativeRef&&(this.props.imperativeRef.current=null)}},{key:"getCloneContent",value:function(){return this.getEditorState().getCurrentContent()}},{key:"deleteDraft",value:function(){var e=this.props,t=e.question,n=e.draft,i=e.deleteDraft;n&&i(t.id)}},{key:"renderFooter",value:function(){var e=this.props.isReediting,t=this.state,n=t.content,a=t.scheduledPublishAt,o=e&&this.isVideoAnswer,r=n.toHTML()||"";return Object(i.c)(Iu,{hideScrollButton:o,children:[Object(i.b)(Te.Text,{color:"GBL05A",fontSize:"14px",ml:o?"0":"24px",children:oe()(Fu||(Fu=Object(ie.a)(["正文字数：","字"])),bl(r,!0))}),Object(i.b)(Te.Text,{color:"GBL05A",fontSize:"14px",ml:"auto",children:this.getDraftStatus()}),Object(i.b)(Bd.a,{canSubmit:this.canSubmit(),handleSubmit:this.handleSubmit,isReediting:e,scheduledPublishAt:a,type:"answer",css:{marginLeft:"24px"}})]})}},{key:"videoAnswerPublished",get:function(){var e=this.props.answer,t=(e=void 0===e?{}:e).attachment;return["zvideo","video"].includes(null==t?void 0:t.type)}},{key:"videoAnswerEditable",get:function(){return this.props.activeTabKey===Or.a.videoAnswer}},{key:"isVideoAnswer",get:function(){return this.videoAnswerPublished||this.videoAnswerEditable}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.isReediting,o=t.answer,r=(o=void 0===o?{}:o).answerType,c=t.question,s=t.currentUser,l=t.answer,u=t.questionHeader,d=t.draft,b=t.settings,h=t.activeTabKey,f=this.state,p=f.deleteDraftModalShown,m=f.showInsertableVideoUploader,v=f.mcnEditingGood,O=f.editorState,j=f.toolbarMainAreaData,g=f.showHelpDocumentModal,y=f.initialScheduledPublishAt,w=f.scheduledPublishAt;return Object(i.b)(x.a,{module:"AnswerEditView",content:{type:"Answer",parent_token:String(c.id),author_member_hash_id:s.id},children:Object(i.c)("form",{ref:function(t){e.form=t},className:de()("AnswerForm",n),onSubmit:function(e){return e.preventDefault()},noValidate:!0,children:[Object(i.c)("div",{children:[Object(i.b)(Dd.a,{editorFrom:"answer-pc-editor-v2"}),this.editable&&Object(i.b)(ce.a,{getStyle:function(){return{width:"100%",top:0,left:0}},children:Object(i.b)("div",{css:function(e){return{display:"flex",justifyContent:"center",margin:"0px auto",background:e.colors.GBK99A}},children:Object(i.b)(ol,{editorState:O,onCommand:this.handleKeyCommand,queryCommandEnable:this.editable.queryCommandEnable,queryCommandState:this.editable.queryCommandState,toolbarMainAreaData:j,toolbarMoreAreaData:Ru,toolbarFixtureAreaData:Nu({onNeedHelp:this.toggleHelpDocumentModal})},h)})}),Object(i.c)("div",{css:{width:"840px",margin:"20px auto",".Editable":{paddingTop:"1px",minHeight:"calc(100vh - 120px)"}},children:[u,Object(i.b)("div",{css:{minHeight:"calc(100vh - 120px)"},children:this.renderRichInput()}),Object(i.b)(Td,{question:c,answer:l,isVideoAnswer:this.isVideoAnswer,isReediting:a,setUseScheduledPublish:this.setUseScheduledPublish,canScheduledPublish:this.canUseScheduledPublish,initialScheduledPublishAt:y,scheduledPublishAt:w,draft:d,settings:b})]}),this.renderFooter()]}),"org"===c.questionType&&Object(i.b)(rl.a,{shown:this.state.answerModalShown,onClose:this.handleAnswerModalHide}),"commercial"===c.questionType&&Object(i.b)(cl.a,{shown:this.state.answerModalShown,onClose:this.handleAnswerModalHide}),Object(i.b)(bn.a,{title:"清除草稿",subtitle:a?"你确定要清除保存的草稿并取消编辑吗？":"你确定要清除保存的草稿吗？",shown:p,onCancel:this.onDeleteDraftModalHide,onSubmit:this.onDeleteDraft}),m&&Object(i.b)(sl.a,{show:m,onClose:function(){return e.setState({showInsertableVideoUploader:!1})},onZVideoSubmit:function(t){e.setState({showInsertableVideoUploader:!1}),e.editable.handleCommand("insert-zvideo-card:".concat(JSON.stringify(t)))},onVideoSubmit:function(t){e.setState({showInsertableVideoUploader:!1}),e.editable.handleCommand("insert-video-card",t)}}),Object(i.b)(W.b,{className:"AnswerForm-MCNEditor",title:"编辑商品",onClose:function(){e.setState({mcnEditingGood:null})},children:Boolean(v)&&Object(i.b)(qs.a,{className:"AnswerForm-MCNEditorIframe",src:Object(Hd.a)({title:v.title,originTitle:v.originTitle,source:v.source,sourceId:v.sourceId,productTypeName:v.productTypeName}),onMessage:this.handleEditGGRCard})}),Object(i.b)(Tu,{shown:g,onClose:function(){return e.toggleHelpDocumentModal()}}),Object(i.b)(Ed.a,{onClose:function(){window.location.href="https://www.zhihu.com/question/".concat(c.id,"/answer/").concat(l.id)},shown:"slideshow"===r})]})})}}]),n}(f.Component);Ud.propTypes={activeTabKey:v.a.string,question:v.a.object,isReediting:v.a.bool,defaultValue:v.a.string,getFormData:v.a.func,reporter:v.a.object},Ud.defaultProps={isReediting:!1};var Vd={addDraft:I.b,updateDraft:I.lb,deleteDraft:I.j,showNotification:V.h,fillCurrentUserIfNeeded:H.e,loadSettings:U.y,updateSettingsDisclaimer:U.M,loadLabel:pl.e,getUserProfitPermission:ul.b,updateLinkCard:fl.b,fetchAllInviters:I.o},_d=Object(E.compose)(a.withRouter,Object(O.connect)((function(e,t){var n,i,a=e.entities,o=a.questions,r=a.drafts,c=void 0===r?{}:r,s=e.question,l=t.location.query.inviter,u=Object(ml.b)(e),d=Object(H.b)(e),b=Object(I.d)(e,t.question.id),h=l&&(null==b||null===(n=b.find)||void 0===n?void 0:n.call(b,(function(e){return e.id===l}))),f=c["question_".concat(t.question.id)];return{campaign:u,question:o[t.question.id]||t.question,draft:f,currentUser:d,isPuQuestion:Boolean(s&&s.brand&&s.brand.isPuQuestion),disclaimers:s.disclaimers[t.question.id],settings:t.answer?e.answers.settings[t.answer.id]:null,showUserProfitButton:e.userProfit.permission.visible,thankInviterInfo:null===(i=Object(pl.c)(e,t.answer))||void 0===i?void 0:i.thankInviterInfo,allInviters:b,inviterQuery:l,inviterFromNotification:h,isOffice:Object(Q.isOfficeSelector)(e)}}),Vd),zu.b,ra.e)(Ud),Gd=function(e){var t=e.children,n=e.className;return Object(i.b)("h1",{css:function(e){return{background:e.colors.GBK99A,color:e.colors.GBK02A,lineHeight:"31px",fontSize:"22px",fontWeight:"600"}},className:n,children:t})},Wd=function(e){var t=e.shown,n=e.title,a=e.html,o=e.onClose;return Object(i.b)(Wt.b,{title:null,maskClosable:!1,hotKeyClosable:!1,onClose:o,css:{width:"auto",".Modal-inner":{minHeight:"400px"}},children:t&&Object(i.c)(Te.Box,{width:"488px",children:[Object(i.b)(Gd,{css:function(e){return{paddingBottom:"20px",borderBottom:"1px solid ".concat(e.colors.GBK09A),marginBottom:"20px"}},children:n}),Object(i.b)(Xe.a,{itemProp:"text",tag:"span",html:a})]})})},Kd=function(e){var t=e.question,n=t.title,a=t.detail,r=t.excerpt,c=Object(di.a)(!1),s=Object(o.a)(c,2),l=s[0],u=s[1];return Object(i.c)(i.a,{children:[Object(i.b)(Te.Box,{bg:"GBK99A",css:{padding:"20px 20px 0"},children:Object(i.c)(Gd,{css:function(e){return{paddingBottom:"20px",borderBottom:"1px solid ".concat(e.colors.GBK09A)}},children:[n,r&&Object(i.c)(j.a,{as:"button",zaType:"Button",zaText:!0,onClick:u.on,css:function(e){return{color:e.colors.GBL05A,lineHeight:"14px",fontSize:"14px",fontWeight:"normal",display:"inline-flex",alignItems:"center"}},children:["问题描述",Object(i.b)(Je.a,{size:16})]})]})}),Object(i.b)(Wd,{shown:l,onClose:u.off,title:n,html:a})]})},Zd=function(e){var t,n=e.params,a=e.location,r=n.id,c=n.answerId,s=a.query,l=Object(O.useDispatch)(),u=Object(f.useRef)(null),d=Object(O.useSelector)((function(e){return Object(I.eb)(e,{id:r})})),b=s.attach_to_article,h=Object(O.useSelector)((function(e){var t;return null===(t=e.entities.drafts)||void 0===t?void 0:t["question_".concat(r)]})),p=Object(O.useSelector)((function(e){return Object(U.c)(e,{id:c})})),m=["zvideo","video"].includes(null==p||null===(t=p.attachment)||void 0===t?void 0:t.type),v=Object(f.useState)("video_answer"===(null==h?void 0:h.draftType)?Or.a.videoAnswer:Or.a.textAnswer),g=Object(o.a)(v,2),y=g[0],w=g[1],C=Object(f.useState)((function(){return Object(ra.c)("QuestionAnswerEditable")})),k=Object(o.a)(C,1)[0],A=Boolean(c),S=Object(Rs.a)(["autoSendingCreations"]),R=Object(di.d)((function(e){if(e!==y){var t=d.relationship.isAnonymous;if(e===Or.a.videoAnswer){if(t)return void l(Object(V.h)("视频回答不支持匿名","red"));u.current.hasEditorContent()&&(Ae.a.get("answerContentSync")||(l(Object(V.h)("图文回答内容已同步至视频描述")),Ae.a.set("answerContentSync",!0)))}w(e)}})),N=Object(di.d)((function(e){var t=window.location.host;if(e.publishAt){var n=l(Object(U.C)(r,e));return n.then((function(){window.onbeforeunload=null,requestAnimationFrame((function(){window.location.href="//".concat(t,"/question/").concat(r)}))})),n}var i=function(){return l(Object(U.a)(r,e)).then((function(e){var n=e.payload;window.onbeforeunload=null,requestAnimationFrame((function(){window.location.href="//".concat(t,"/question/").concat(r,"/answer/").concat(n.id)}))}))};return S.autoSendingCreations?l(Object(U.N)(r)).then(i,(function(e){if(e&&e.payload&&e.payload.message&&400===e.status)return lt.a.confirm(e.payload.message,{title:"提醒",text:{ok:"确定发布",cancel:"我再想想"}}).then(i,(function(){}))})):i()})),T=Object(di.d)((function(e){return l(Object(U.E)(c,e)).then((function(){window.onbeforeunload=null,requestAnimationFrame((function(){var e=window.location.host;window.location.href="//".concat(e,"/question/").concat(r,"/answer/").concat(c)}))}))}));return Object(di.i)((function(){Object(ra.d)(),c||b&&Object(I.F)(r,b)})),Object(i.b)(j.b,{content:{type:"Question",token:String(null==d?void 0:d.id)},children:Object(i.b)(x.a,{module:"QuestionItem",card:{content:{type:"Question",token:String(null==d?void 0:d.id)}},children:Object(i.c)(Te.Box,{children:[Object(i.b)(Ss,{isReediting:A,handleTabChange:R,activeTabKey:y,videoAnswerPublished:m}),Object(i.b)(ra.b.Provider,{value:k,children:Object(i.b)(fe.a,{children:Object(i.b)(j.b,{block:y===Or.a.textAnswer?"TextAnswer":"VideoAnswer",children:Object(i.b)(_d,{question:d,answer:p,defaultValue:null==p?void 0:p.editableContent,isReediting:A,activeTabKey:y,imperativeRef:u,onSubmit:A?T:N,questionHeader:Object(i.b)(Kd,{question:d})})})})})]})})})};Zd.fetchData=function(e){var t=e.dispatch,n=e.params,i=n.id,a=n.answerId,o=e.location.query,r=o.attach_to_article;return Promise.all([a&&t(Object(U.o)(a)),t(Object(I.Q)(i)).then((function(){if(!a&&r)return t(Object(I.F)(i,r))})),t(Object(I.T)(i)).then((function(e){var t=e.payload,n=S()(o,["write"]),r=t.relationship,c=r.isAuthor,s=r.myAnswer,l=t.isNormal,u=t.status,d=(u=void 0===u?{}:u).isClose,b=u.isLocked,h=u.isSuggest,f=t.hasPublishingDraft,p=t.visibleOnlyToAuthor,m=function(e){var t=new Error;throw t.status=302,t.redirect=Object(P.a)(e,n),t};return null!=s&&s.isDeleted?m("/question/".concat(i,"?answer_deleted_redirect=true")):a?s?String(s.answerId)!==a?m("/question/".concat(i,"/answer/").concat(s.answerId,"/edit")):void 0:m("/question/".concat(i,"/write")):s?m("/question/".concat(i,"/answer/").concat(s.answerId,"/edit")):h||b||d||f||!l||!c&&p?m("/question/".concat(i)):void 0}))].filter(Boolean))};var Jd=Zd;t.default=Object(i.c)(a.Route,{children:[Object(i.b)(a.Route,{path:"waiting",component:ya,name:"QuestionWaiting",authRequired:!0,zaPageShowId:5541}),Object(i.b)(a.Route,{path:"later",component:Ta,name:"QuestionLater",authRequired:!0,zaPageShowId:5371}),Object(i.b)(a.Route,{path:"invited",component:Pa,name:"QuestionInvited",authRequired:!0,zaPageShowId:5543}),Object(i.c)(a.Route,{path:":id",component:ha,name:"Question",children:[Object(i.c)(a.Route,{children:[Object(i.b)(a.IndexRoute,{component:pc,entity:"answers",resource:"answers",name:"QuestionPage",zaPageShowId:3378}),Object(i.b)(a.Route,{path:"answers/hidden",component:pc,entity:"answers",resource:"hiddenAnswers",name:"QuestionHiddenAnswers"}),Object(i.b)(a.Route,{path:"answers/updated",component:pc,resource:"updatedAnswers",name:"QuestionUpdatedAnswers"}),Object(i.b)(a.Redirect,{from:"answers/created",to:"answers/updated"})]}),Object(i.b)(a.Route,{path:"answer/:answerId",component:Cs,name:"AnswerPage",zaPageShowId:2012}),Object(i.b)(a.Redirect,{from:"noti-answers",to:"."})]}),Object(i.b)(a.Route,{path:":id/write",showAppHeader:!1,component:Jd,name:"QuestionAnswerEditableAdd",authRequired:!0}),Object(i.b)(a.Route,{path:":id/answer/:answerId/edit",showAppHeader:!1,component:Jd,name:"QuestionAnswerEditableEdit",authRequired:!0})]})},897:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n(33),a=n(15),o=n(16),r=n(17),c=n(18),s=n(9),l=n(1),u=n(0),d=n(917),b=n(245),h=["tabIndex","children"];function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(c.a)(this,n)}}var p=function(e){Object(r.a)(n,e);var t=f(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={ref:null},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.tabIndex,a=t.children,o=Object(i.default)(t,h),r=this.state.ref;return Object(l.b)(d.a,Object.assign(Object.assign({tabIndex:n,onRef:function(t){return!e.state.ref&&e.setState({ref:t})}},o),{},{children:Object(l.b)(b.d.Provider,{value:r,children:a})}))}}]),n}(u.Component);p.defaultProps={tabIndex:0};var m=p},900:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(0),a=n.n(i),o=n(98),r=Object.assign;var c=function(e){return a.a.createElement(o.a,r({width:"150",height:"120",viewBox:"0 0 150 120"},e),a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("path",{fill:"#EBEEF5",d:"M44 31.005v55.99A3.003 3.003 0 0047.003 90h53.994A3.005 3.005 0 00104 86.995v-55.99A3.003 3.003 0 00100.997 28H47.003A3.005 3.005 0 0044 31.005zm-3 0A6.005 6.005 0 0147.003 25h53.994A6.003 6.003 0 01107 31.005v55.99A6.005 6.005 0 01100.997 93H47.003A6.003 6.003 0 0141 86.995v-55.99z",fillRule:"nonzero"}),a.a.createElement("path",{fill:"#F7F8FA",d:"M59 50a6 6 0 110-12 6 6 0 010 12zm12-9.5c0-.828.68-1.5 1.496-1.5h9.008c.826 0 1.496.666 1.496 1.5 0 .828-.68 1.5-1.496 1.5h-9.008A1.495 1.495 0 0171 40.5zm0 7c0-.828.667-1.5 1.5-1.5h21c.828 0 1.5.666 1.5 1.5 0 .828-.667 1.5-1.5 1.5h-21c-.828 0-1.5-.666-1.5-1.5zM59 73a6 6 0 110-12 6 6 0 010 12zm12-9.5c0-.828.68-1.5 1.496-1.5h9.008c.826 0 1.496.666 1.496 1.5 0 .828-.68 1.5-1.496 1.5h-9.008A1.495 1.495 0 0171 63.5zm0 7c0-.828.667-1.5 1.5-1.5h21c.828 0 1.5.666 1.5 1.5 0 .828-.667 1.5-1.5 1.5h-21c-.828 0-1.5-.666-1.5-1.5z"})))}},901:function(e,t,n){"use strict";var i=n(33),a=n(1),o=n(0),r=n(61),c=["ratio","children"],s=function(e,t){var n=e.ratio,o=void 0===n?1:n,s=e.children,l=Object(i.default)(e,c);return Object(a.b)(r.Box,Object.assign(Object.assign({css:{position:"relative",paddingBottom:"".concat(1/o*100,"%"),height:"0",borderRadius:"inherit"}},l),{},{ref:t,children:Object(a.b)("div",{css:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",borderRadius:"inherit"},children:s})}))};t.a=Object(o.forwardRef)(s)},903:function(e,t,n){"use strict";n.d(t,"k",(function(){return c})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"h",(function(){return w})),n.d(t,"i",(function(){return x})),n.d(t,"g",(function(){return A})),n.d(t,"j",(function(){return N})),n.d(t,"f",(function(){return S.a}));var i=n(33),a=n(1),o=n(61),r=["children"],c=function(e){var t=e.children,n=Object(i.default)(e,r);return Object(a.b)(o.Flex,Object.assign(Object.assign({alignItems:"center",justifyContent:"center",flex:1,height:"100%"},n),{},{children:Object(a.b)(o.Text,{textAlign:"center",color:"GBL05A",children:t})}))},s=n(0),l=n.n(s),u=n(98),d=Object.assign;var b=function(e){return l.a.createElement(u.a,d({width:"150",height:"120",viewBox:"0 0 150 120"},e),l.a.createElement("g",{fill:"none",fillRule:"evenodd"},l.a.createElement("path",{fill:"#EBEEF5",d:"M94 29v-2.002c0-.55.443-.998 1-.998h1c.553 0 1 .446 1 .998V29h2.002c.55 0 .998.443.998 1v1c0 .553-.446 1-.998 1H97v2.002c0 .55-.443.998-1 .998h-1c-.553 0-1-.446-1-.998V32h-2.002A.997.997 0 0191 31v-1c0-.553.446-1 .998-1H94zm30.613 17.724l-21.82-4.638.207-3.023 22.237 4.727a6.004 6.004 0 014.62 7.122l-7.9 37.158a6.001 6.001 0 01-7.116 4.627l-15.31-3.254.63-2.934 15.31 3.25c1.62.34 3.218-.69 3.56-2.32l7.9-37.16a3.005 3.005 0 00-2.31-3.567zM48.596 85.727l.624 2.935-12.717 2.703a6.004 6.004 0 01-7.117-4.628L21.488 49.58a6.004 6.004 0 014.62-7.123L47 38.017l.133 3.038-20.402 4.337a3 3 0 00-2.3 3.564l7.9 37.157a3.005 3.005 0 003.56 2.317l12.71-2.703zM100 82c0 3.314-2.688 6-6.006 6H56.006A6.01 6.01 0 0150 82V34c0-3.314 2.688-6 6.006-6h27.147v3H56.006A3.003 3.003 0 0053 34v48c0 1.65 1.35 3 3.006 3h37.988A3.003 3.003 0 0097 82V42.373h3V82zm-4.5-41C89.7 41 85 36.3 85 30.5S89.7 20 95.5 20 106 24.7 106 30.5 101.3 41 95.5 41zm0-3a7.5 7.5 0 100-15 7.5 7.5 0 000 15z",fillRule:"nonzero"}),l.a.createElement("path",{fill:"#F7F8FA",d:"M47 73.22l-6.484 1.378c-.82.174-1.333.97-1.16 1.78.173.816.97 1.327 1.784 1.154L47 76.287V73.22zm0-8.594l-4.58.974c-.8.17-1.324.968-1.152 1.778a1.494 1.494 0 001.775 1.156l3.957-.84v-3.068zm0-17.285a6.002 6.002 0 00-8 5.66 6.002 6.002 0 008 5.66V47.34zm56 29.88l6.178 1.318a1.5 1.5 0 10.624-2.934L103 74.148v3.067zm0-8.58l4.275.91c.808.17 1.6-.34 1.775-1.157a1.507 1.507 0 00-1.15-1.78l-4.9-1.04v3.067zm0-8.97c.626.22 1.3.34 2 .34 3.314 0 6-2.685 6-6s-2.686-6-6-6c-.7 0-1.374.12-2 .34v11.32zM76 56a8 8 0 110-16 8 8 0 010 16zm-8 7.5c0-.828.667-1.5 1.505-1.5h12.99a1.5 1.5 0 110 3h-12.99A1.5 1.5 0 0168 63.5zm-5 8c0-.828.67-1.5 1.49-1.5h23.02c.822 0 1.49.666 1.49 1.5 0 .828-.67 1.5-1.49 1.5H64.49c-.822 0-1.49-.666-1.49-1.5z"})))},h=Object.assign;var f=function(e){return l.a.createElement(u.a,h({width:"150",height:"120",viewBox:"0 0 150 120"},e),l.a.createElement("g",{fill:"none",fillRule:"evenodd"},l.a.createElement("path",{fill:"#EBEEF5",d:"M67.757 83H45c-1.66 0-3-1.338-3-2.998V37.998A3.003 3.003 0 0145 35h53.42v-3H45c-3.31 0-6 2.686-6 5.998v42.004A5.994 5.994 0 0045 86h21.515l6.853 6.854a2.99 2.99 0 004.234 0L84.456 86H105c3.31 0 6-2.686 6-5.998v-36.54h-3v36.54A3.003 3.003 0 01105 83H83.214l-7.728 7.728L67.756 83z",fillRule:"nonzero"}),l.a.createElement("path",{fill:"#F7F8FA",d:"M55 48.5c0-.828.67-1.5 1.508-1.5h26.984a1.5 1.5 0 110 3H56.508A1.5 1.5 0 0155 48.5zm0 11c0-.828.677-1.5 1.495-1.5h37.01c.826 0 1.495.666 1.495 1.5 0 .828-.677 1.5-1.495 1.5h-37.01A1.494 1.494 0 0155 59.5zm0 11c0-.828.677-1.5 1.495-1.5h37.01c.826 0 1.495.666 1.495 1.5 0 .828-.677 1.5-1.495 1.5h-37.01A1.494 1.494 0 0155 70.5z"}),l.a.createElement("path",{fill:"#EBEEF5",d:"M94.868 50.46l18.92-18.92-2.83-2.827-18.918 18.92-2.12-2.123 18.917-18.918a3.005 3.005 0 014.245-.002l2.828 2.828a3.004 3.004 0 01-.002 4.245L96.99 52.58l-2.122-2.12zm-7.193 2.377l2.244-7.327 7.07 7.07-7.328 2.245c-1.575.482-2.473-.405-1.988-1.988z",fillRule:"nonzero"})))},p=Object.assign;var m=function(e){return l.a.createElement(u.a,p({width:"150",height:"120",viewBox:"0 0 150 120"},e),l.a.createElement("g",{fill:"none",fillRule:"evenodd"},l.a.createElement("path",{fill:"#EBEEF5",d:"M102 30.998A2.996 2.996 0 0098.998 28H50.002A2.996 2.996 0 0047 30.998v58.147l.193-.125c1.453-.94 3.473-.94 4.927 0l2.537 1.64 2.536-1.64c1.453-.94 3.473-.94 4.927 0l2.537 1.64 2.536-1.64c1.453-.94 3.473-.94 4.927 0l2.537 1.64 2.536-1.64c1.453-.94 3.473-.94 4.927 0l2.537 1.64 2.536-1.64c1.453-.94 3.473-.94 4.927 0l2.537 1.64 2.536-1.64c1.413-.913 3.363-.94 4.807-.075V30.998zm-1.508 60.542c-.464-.3-1.21-.298-1.67 0l-4.165 2.692-4.165-2.692c-.464-.3-1.21-.298-1.67 0l-4.165 2.692-4.165-2.692c-.464-.3-1.21-.298-1.67 0l-4.165 2.692-4.165-2.692c-.464-.3-1.21-.298-1.67 0l-4.165 2.692-4.165-2.692c-.464-.3-1.21-.298-1.67 0l-4.165 2.692-4.165-2.692c-.464-.3-1.21-.298-1.67 0l-4.316 2.79A1.99 1.99 0 0144 93V30.997C44 27.687 46.68 25 50.002 25h48.996A5.996 5.996 0 01105 30.998v62c0 .45-.147.866-.396 1.2l-4.112-2.658z",fillRule:"nonzero"}),l.a.createElement("path",{fill:"#F7F8FA",d:"M55 39c0-.553.44-1 1-1h19c.553 0 1 .44 1 1v19c0 .553-.44 1-1 1H56c-.553 0-1-.44-1-1V39zm25 .5c0-.828.675-1.5 1.498-1.5h11.004c.827 0 1.498.666 1.498 1.5 0 .828-.675 1.5-1.498 1.5H81.498A1.495 1.495 0 0180 39.5zm0 9c0-.828.675-1.5 1.498-1.5h11.004c.827 0 1.498.666 1.498 1.5 0 .828-.675 1.5-1.498 1.5H81.498A1.495 1.495 0 0180 48.5zm0 9c0-.828.675-1.5 1.498-1.5h11.004c.827 0 1.498.666 1.498 1.5 0 .828-.675 1.5-1.498 1.5H81.498A1.495 1.495 0 0180 57.5zm-25 9c0-.828.677-1.5 1.505-1.5h35.99a1.5 1.5 0 110 3h-35.99A1.5 1.5 0 0155 66.5zm0 9c0-.828.665-1.5 1.505-1.5h24.99a1.5 1.5 0 110 3h-24.99A1.5 1.5 0 0155 75.5z"})))},v=Object.assign;var O=function(e){return l.a.createElement(u.a,v({width:"150",height:"120",viewBox:"0 0 150 120"},e),l.a.createElement("g",{fill:"none",fillRule:"evenodd"},l.a.createElement("path",{fill:"#EBEEF5",d:"M37.273 69.98c.212-3.3 3.063-5.98 6.387-5.98h63.91c3.315 0 6.175 2.673 6.387 5.98l1.285 20.04c.212 3.302-2.302 5.98-5.615 5.98H41.603c-3.313 0-5.827-2.673-5.615-5.98l1.285-20.04zm1.71 20.23C38.88 91.788 40.02 93 41.603 93h68.023c1.58 0 2.722-1.215 2.62-2.79l-1.284-20.037c-.11-1.726-1.657-3.173-3.394-3.173H43.66c-1.74 0-3.282 1.447-3.393 3.173L38.982 90.21zM47 58h58v-3.5a1.5 1.5 0 013 0v5c0 .414-.168.79-.44 1.06a1.49 1.49 0 01-1.06.44h-61a1.49 1.49 0 01-1.06-.44A1.49 1.49 0 0144 59.5v-5a1.5 1.5 0 013 0V58zm50-31H55v28.008h-3V25.992c0-1.1 1.025-1.992 2.283-1.992h43.434c1.26 0 2.283.898 2.283 1.992v29.016h-3V27zM60 87.5c0-.828.668-1.5 1.5-1.5h29c.828 0 1.5.666 1.5 1.5 0 .828-.668 1.5-1.5 1.5h-29c-.828 0-1.5-.666-1.5-1.5zM46 72.01c0-.558.443-1.01 1.01-1.01h1.98c.558 0 1.01.443 1.01 1.01v1.98c0 .558-.443 1.01-1.01 1.01h-1.98c-.558 0-1.01-.443-1.01-1.01v-1.98zm8 0c0-.558.443-1.01 1.01-1.01h1.98c.558 0 1.01.443 1.01 1.01v1.98c0 .558-.443 1.01-1.01 1.01h-1.98c-.558 0-1.01-.443-1.01-1.01v-1.98zm8 0c0-.558.443-1.01 1.01-1.01h1.98c.558 0 1.01.443 1.01 1.01v1.98c0 .558-.443 1.01-1.01 1.01h-1.98c-.558 0-1.01-.443-1.01-1.01v-1.98zm8 0c0-.558.443-1.01 1.01-1.01h1.98c.558 0 1.01.443 1.01 1.01v1.98c0 .558-.443 1.01-1.01 1.01h-1.98c-.558 0-1.01-.443-1.01-1.01v-1.98zm8 0c0-.558.443-1.01 1.01-1.01h1.98c.558 0 1.01.443 1.01 1.01v1.98c0 .558-.443 1.01-1.01 1.01h-1.98c-.558 0-1.01-.443-1.01-1.01v-1.98zm8 0c0-.558.443-1.01 1.01-1.01h1.98c.558 0 1.01.443 1.01 1.01v1.98c0 .558-.443 1.01-1.01 1.01h-1.98c-.558 0-1.01-.443-1.01-1.01v-1.98zm8 0c0-.558.443-1.01 1.01-1.01h1.98c.558 0 1.01.443 1.01 1.01v1.98c0 .558-.443 1.01-1.01 1.01h-1.98c-.558 0-1.01-.443-1.01-1.01v-1.98zm8 0c0-.558.443-1.01 1.01-1.01h1.98c.558 0 1.01.443 1.01 1.01v1.98c0 .558-.443 1.01-1.01 1.01h-1.98c-.558 0-1.01-.443-1.01-1.01v-1.98zm-52 7c0-.558.443-1.01 1.01-1.01h1.98c.558 0 1.01.443 1.01 1.01v1.98c0 .558-.443 1.01-1.01 1.01h-1.98c-.558 0-1.01-.443-1.01-1.01v-1.98zm8 0c0-.558.443-1.01 1.01-1.01h1.98c.558 0 1.01.443 1.01 1.01v1.98c0 .558-.443 1.01-1.01 1.01h-1.98c-.558 0-1.01-.443-1.01-1.01v-1.98zm8 0c0-.558.443-1.01 1.01-1.01h1.98c.558 0 1.01.443 1.01 1.01v1.98c0 .558-.443 1.01-1.01 1.01h-1.98c-.558 0-1.01-.443-1.01-1.01v-1.98zm8 0c0-.558.443-1.01 1.01-1.01h1.98c.558 0 1.01.443 1.01 1.01v1.98c0 .558-.443 1.01-1.01 1.01h-1.98c-.558 0-1.01-.443-1.01-1.01v-1.98zm8 0c0-.558.443-1.01 1.01-1.01h1.98c.558 0 1.01.443 1.01 1.01v1.98c0 .558-.443 1.01-1.01 1.01h-1.98c-.558 0-1.01-.443-1.01-1.01v-1.98zm8 0c0-.558.443-1.01 1.01-1.01h1.98c.558 0 1.01.443 1.01 1.01v1.98c0 .558-.443 1.01-1.01 1.01h-1.98c-.558 0-1.01-.443-1.01-1.01v-1.98zm8 0c0-.558.443-1.01 1.01-1.01h1.98c.558 0 1.01.443 1.01 1.01v1.98c0 .558-.443 1.01-1.01 1.01h-1.98c-.558 0-1.01-.443-1.01-1.01v-1.98z",fillRule:"nonzero"}),l.a.createElement("path",{fill:"#F7F8FA",d:"M71 34.5a1.5 1.5 0 011.497-1.5h7.006a1.5 1.5 0 110 3h-7.006A1.495 1.495 0 0171 34.5zm-9 8c0-.828.665-1.5 1.505-1.5h24.99a1.5 1.5 0 110 3h-24.99A1.5 1.5 0 0162 42.5zm0 7c0-.828.67-1.5 1.495-1.5h19.01c.826 0 1.495.666 1.495 1.5 0 .828-.67 1.5-1.495 1.5h-19.01A1.494 1.494 0 0162 49.5z"})))},j=Object.assign;var g=function(e){return l.a.createElement(u.a,j({width:"150",height:"120",viewBox:"0 0 150 120"},e),l.a.createElement("g",{fill:"none",fillRule:"evenodd"},l.a.createElement("path",{fill:"#EBEEF5",d:"M106.807 78h8.19A3.004 3.004 0 00118 74.998V34.002A3 3 0 00114.997 31H61.003A3.004 3.004 0 0058 34.002V36h-3v-1.998A6.004 6.004 0 0161.003 28h53.994A6 6 0 01121 34.002v40.996A6.004 6.004 0 01114.997 81h-5.372l-.375 6.004c-.138 2.207-1.514 2.732-3.074 1.172L99 81h-5v-3h6.243l6.178 6.178.388-6.178zM44.824 95.176c-1.56 1.56-2.936 1.035-3.074-1.172L41.312 87H37a6 6 0 01-6-6.006V45.006A6.01 6.01 0 0137 39h48a6 6 0 016 6.006v35.988A6.01 6.01 0 0185 87H53l-8.176 8.176zm-.245-3.998L51.755 84H85c1.65 0 3-1.35 3-3.006V45.006A3 3 0 0085 42H37c-1.65 0-3 1.35-3 3.006v35.988A3 3 0 0037 84h7.13l.45 7.178z",fillRule:"nonzero"}),l.a.createElement("path",{fill:"#F7F8FA",d:"M94 49h9.494a1.5 1.5 0 110 3H94v-3zm0 9h9.494a1.5 1.5 0 110 3H94v-3zm-50 6.5c0-.828.68-1.5 1.505-1.5h30.99a1.5 1.5 0 110 3h-30.99A1.5 1.5 0 0144 64.5zm0-14.503c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM44 73.5c0-.828.68-1.5 1.505-1.5h30.99a1.5 1.5 0 110 3h-30.99A1.5 1.5 0 0144 73.5z"})))},y=Object.assign;var w=function(e){return l.a.createElement(u.a,y({width:"150",height:"120",viewBox:"0 0 150 120"},e),l.a.createElement("path",{fill:"#EBEEF5",d:"M62.85 82.335c-.13-.03-.202-.04-.25-.044-.117 0-.31.05-.87.34-7.092 2.65-7.508 2.79-9.903 3.43-.955.26-1.885.46-2.826.63-1.24.23-2.52-.08-3.35-.83-1.12-1.01-1.16-2.58-.02-3.73l.28-.22s.074-.053.204-.19c.265-.26.54-.63.81-1.102.588-1.05 1.025-2.445 1.224-4.246.145-.8-.374-2.14-1.117-2.833-.23-.216-.696-.727-1.487-1.683-3.62-4.37-6.03-12.332-6.03-18.87C39.5 37.19 53.48 23.5 72.446 23.5c19.842 0 32.947 13.235 32.947 29.466 0 21.157-22.76 36.133-42.028 29.488-.182-.04-.473-.11-.515-.12zm-.068-3.038c.233.014.448.05.717.108l.6.14c17.56 6.102 38.29-7.514 38.29-26.58 0-14.58-11.77-26.465-29.95-26.465-17.32 0-29.95 12.36-29.95 26.466 0 5.885 2.203 13.176 5.333 16.96.716.865 1.102 1.287 1.222 1.4 1.432 1.34 2.34 3.65 2.044 5.404-.246 2.172-.8 3.94-1.585 5.338a8.3 8.3 0 01-1.213 1.68c1.02-.175 1.87-.366 2.75-.598 2.25-.596 2.667-.743 9.4-3.245.95-.47 1.596-.653 2.326-.608zm11.554 9.593a1.5 1.5 0 111.919-2.306c5.242 4.364 12.82 5.41 19.8 2.98l.173-.05c.084-.017.372-.085.433-.1.22-.046.39-.074.59-.086.61-.037 1.14.11 1.87.472 4.83 1.793 5.13 1.9 6.73 2.324.57.15 1.12.276 1.68.38-.22-.318-.46-.7-.68-1.153-.58-1.14-.99-2.51-1.173-4.12-.232-1.39.38-2.75 1.537-3.83.12-.11.43-.44.947-1.05 2.1-2.47 3.356-7.15 3.356-11.61 0-4.7-.62-7.39-2.7-10.094a1.5 1.5 0 012.381-1.828c2.56 3.33 3.318 6.62 3.318 11.925 0 5.11-1.433 10.45-4.066 13.555-.59.693-.98 1.107-1.19 1.304-.49.46-.675.873-.623 1.16.16 1.37.47 2.41.894 3.25.324.647.62 1.013.756 1.13 1.162 1.17.883 2.636-.177 3.54-.78.67-1.91 1-2.948.817-.69-.124-1.373-.28-2.073-.46-1.75-.466-2.05-.57-7.08-2.44l-.156-.068c-.344-.173-.42-.195-.414-.195-.142.03-.33.075-.464.105-7.91 2.728-16.56 1.52-22.627-3.533z"}))},C=Object.assign;var x=function(e){return l.a.createElement(u.a,C({width:"150",height:"120",viewBox:"0 0 150 120"},e),l.a.createElement("path",{fill:"#EBEEF5",d:"M46.76 78.71a1.895 1.895 0 00-1.378 2.092c.13.948.94 1.648 1.904 1.635h55.468a1.882 1.882 0 001.884-1.635c.13-.95-.46-1.846-1.367-2.09a8.61 8.61 0 01-6.4-7.872l-2.473-20.928c-.96-7.872-6.567-14.37-14.178-16.435l-.986-.267-.113-1.014c-.24-2.106-2.01-3.696-4.11-3.696s-3.87 1.59-4.104 3.696l-.114 1.014-.98.267c-7.61 2.063-13.22 8.563-14.18 16.43L53.15 70.84c-.2 3.74-2.79 6.926-6.393 7.87zm50.61-29.155l2.482 20.982c.127 2.562 1.817 4.654 4.19 5.276a4.895 4.895 0 013.568 5.397c-.336 2.446-2.434 4.26-4.876 4.227H47.306a4.883 4.883 0 01-4.896-4.227 4.897 4.897 0 013.58-5.4 5.614 5.614 0 004.17-5.168l2.49-21.093c1.068-8.77 7.135-16.06 15.46-18.7.807-3.11 3.615-5.35 6.9-5.35s6.094 2.24 6.9 5.35c8.325 2.64 14.393 9.93 15.46 18.7zm-16.417 38.91c-.288 3.184-3.007 5.36-5.943 5.36-2.936 0-5.655-2.176-5.943-5.36l-2.988.27c.43 4.82 4.52 8.09 8.93 8.09s8.49-3.27 8.93-8.09l-2.99-.27z"}))},k=Object.assign;var A=function(e){return l.a.createElement(u.a,k({width:"150",height:"120",viewBox:"0 0 150 120"},e),l.a.createElement("path",{fill:"#E7EAF1",d:"M39.09 35.994c.05-3.31 2.777-5.994 6.096-5.994h18.562c2.21 0 4.667 1.66 5.487 3.708L70.152 36h34.85A5.997 5.997 0 01111 41.99v40.02c0 3.308-2.69 5.99-6 5.99H45c-3.314 0-6-2.686-6-5.99V41.99c0-.077 0-.153.004-.23l.086-5.766zm2.914 5.81L42 41.99v40.02A2.998 2.998 0 0045 85h60c1.655 0 3-1.342 3-2.99V41.99a2.998 2.998 0 00-3-2.99H68.12l-1.67-4.177C66.085 33.915 64.73 33 63.747 33h-18.56c-1.68 0-3.07 1.368-3.097 3.038l-.086 5.767zM69.89 72.658c-1.56.715-3.105-.395-2.906-2.113l.697-6.032-4.11-4.47c-1.16-1.265-.58-3.076 1.115-3.418l5.952-1.2 2.982-5.29c.843-1.498 2.744-1.507 3.593 0l2.98 5.29 5.955 1.2c1.684.34 2.28 2.145 1.11 3.418l-4.11 4.47.698 6.032c.197 1.708-1.336 2.832-2.908 2.113l-5.52-2.527-5.523 2.53z"}))},S=n(900),R=Object.assign;var N=function(e){return l.a.createElement(u.a,R({width:"150",height:"120",viewBox:"0 0 150 120"},e),l.a.createElement("g",{fill:"none",fillRule:"evenodd"},l.a.createElement("path",{fill:"#EBEEF5",d:"M109.545 78h5.463A2.995 2.995 0 00118 75.01V34.99c0-1.648-1.34-2.99-2.992-2.99H62.992A2.995 2.995 0 0060 34.99v2.027h-3V34.99c0-3.308 2.69-5.99 5.992-5.99h52.016A5.993 5.993 0 01121 34.99v40.02c0 3.308-2.69 5.99-5.992 5.99h-2.744l-.558 5.65c-.217 2.197-1.783 2.842-3.49 1.45l-8.7-7.1h-18.69v-3h19.76l8.29 6.767.67-6.767zM37.33 91.9c-1.942 1.057-3.23.15-2.878-2.027l1.237-7.64A25.886 25.886 0 0130 66c0-14.36 11.637-26 26-26 14.36 0 26 11.637 26 26 0 14.36-11.637 26-26 26-4.627 0-8.973-1.21-12.737-3.327L37.33 91.9zm5.958-6.656l1.447.814A22.878 22.878 0 0056 89c12.705 0 23-10.296 23-23 0-12.705-10.296-23-23-23-12.705 0-23 10.296-23 23a22.894 22.894 0 005.03 14.36l.833 1.04-1.11 6.855 5.535-3.01zm13.108-31.452c2.304 0 4.176.612 5.616 1.908 1.44 1.26 2.16 2.988 2.16 5.148 0 1.764-.468 3.24-1.368 4.392-.324.396-1.332 1.332-3.024 2.808-.684.576-1.188 1.224-1.512 1.872-.396.72-.576 1.512-.576 2.376v.612H53.84v-.612c0-1.332.216-2.484.72-3.42.468-1.008 1.836-2.484 4.068-4.464l.612-.684c.648-.828 1.008-1.692 1.008-2.628 0-1.26-.36-2.232-1.044-2.952-.72-.72-1.764-1.08-3.06-1.08-1.62 0-2.808.504-3.528 1.548-.648.864-.972 2.088-.972 3.672h-3.78c0-2.628.756-4.68 2.268-6.192 1.512-1.548 3.6-2.304 6.264-2.304zm-.648 21.06c.756 0 1.404.216 1.908.72.504.468.756 1.08.756 1.836s-.288 1.368-.792 1.872a2.703 2.703 0 01-1.872.72c-.72 0-1.368-.252-1.872-.756s-.756-1.116-.756-1.836c0-.756.252-1.368.756-1.836.504-.504 1.152-.72 1.872-.72z",fillRule:"nonzero"}),l.a.createElement("path",{fill:"#F7F8FA",d:"M83.23 56h24.275c.818 0 1.495-.672 1.495-1.5 0-.834-.67-1.5-1.495-1.5H81.93a28.845 28.845 0 013.002 11h12.56a1.5 1.5 0 110 3h-12.51a29.422 29.422 0 00-.05-3zM72.285 42h35.22c.826 0 1.495.666 1.495 1.5 0 .828-.677 1.5-1.495 1.5H76a28.945 28.945 0 00-3.715-3z"})))}},908:function(e,t,n){"use strict";var i=n(4),a=n(0),o=n(182),r=n.n(o),c=n(26),s=n(46);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(c.useDispatch)(),n=Object(c.useSelector)((function(t){return r()(Object(s.b)(t),e)}),c.shallowEqual);return Object(a.useEffect)((function(){t(Object(s.e)(e))}),[t].concat(Object(i.a)(e))),n}},918:function(e,t,n){"use strict";var i=n(21),a=n.n(i),o=n(23),r=n.n(o),c=n(22),s=n.n(c),l=n(25),u=n.n(l),d=n(14),b=n.n(d),h=n(31),f=n.n(h),p=n(39),m=n.n(p),v=n(3),O=n.n(v),j=n(0),g=n(12),y=n.n(g),w=n(178),C=n(36),x=n(7),k=["className","tag","name","value"],A=["className","divider","children","items"];function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return u()(this,n)}}function R(e){var t=e.className,n=e.tag,i=e.name,a=e.value,o=f()(e,k),r="div";return n?r=n:o.href?r="a":o.onClick&&(r=C.c),Object(x.g)(r,m()({className:y()("NumberBoard-item",t)},o),Object(x.g)("div",{className:"NumberBoard-itemInner"},Object(x.g)("div",{className:"NumberBoard-itemName"},i),Object(x.g)("strong",{className:"NumberBoard-itemValue",title:a},Object(w.formatNumber)(a))))}var N=function(e){s()(n,e);var t=S(n);function n(){return a()(this,n),t.apply(this,arguments)}return r()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.divider,i=e.children,a=e.items,o=f()(e,A);return Object(x.g)("div",m()({className:y()("NumberBoard",t,{"NumberBoard--divider":n})},o),i||a.map((function(e){return Object(x.g)(R,m()({key:e.name},e))})))}}]),n}(j.Component);N.propTypes={divider:O.a.bool},N.defaultProps={divider:!1},N.Item=R;var T=N;t.a=T},932:function(e,t,n){"use strict";n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return d}));var i=n(3),a=n.n(i),o=n(0),r=n(12),c=n.n(r),s=n(206),l=n(7),u=function(e){var t=e.title,n=e.subtitle,i=e.attrInfo,a=e.coverUrl,o=e.avatarUrl,r=e.avatarFit;return Object(l.g)("div",null,a&&Object(l.g)("div",{className:"HoverCard-coverContainer"},Object(l.g)("img",{className:"HoverCard-cover",src:a,alt:"cover"})),Object(l.g)("div",{className:c()("HoverCard-titleContainer",{"HoverCard-titleContainer--noAvatar":!a})},o&&Object(l.g)(s.a,{size:68,className:"HoverCard-avatar",url:o,imgFit:r}),Object(l.g)("div",{className:c()("HoverCard-titleText",{"HoverCard-titleText--noAvatar":!o})},Object(l.g)("div",{className:"HoverCard-title"},t),n&&Object(l.g)("div",{className:"HoverCard-subtitle"},n)),i&&Object(l.g)("div",{className:"HoverCard-attrInfo"},i)))};u.propTypes={title:a.a.node,subtitle:a.a.node,attrInfo:a.a.node,coverUrl:a.a.string,avatarUrl:a.a.string,avatarFit:a.a.oneOf(["fill","contain","cover","none","scale-down"])};var d=u,b=n(31),h=n.n(b),f=n(21),p=n.n(f),m=n(23),v=n.n(m),O=n(22),j=n.n(O),g=n(25),y=n.n(g),w=n(14),C=n.n(w),x=n(39),k=n.n(x),A=n(88),S=n.n(A),R=n(425),N=n(159),T=["toggler","children","isLoading","onRef","size"];function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=C()(e);if(t){var a=C()(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return y()(this,n)}}var E=function(e){j()(n,e);var t=B(n);function n(){var e;p()(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={opened:!1,placement:null,loaderStyle:null},e.handleOpen=function(t){var n=t.arrowStyle,i=t.placement,a=e.props.onOpen;a&&a(),e.setState({opened:!0,placement:i,loaderStyle:n})},e.handleClose=function(){var t=e.props.onClose;t&&t(),e.setState({opened:!1})},e}return v()(n,[{key:"render",value:function(){var e=S()(this.props,["onOpen","onClose"]),t=e.toggler,n=e.children,i=e.isLoading,a=e.onRef,r=e.size,s=h()(e,T),u=this.state,d=u.opened,b=u.loaderStyle;return Object(l.g)(N.a,k()({noLayer:!0,toggler:Object(l.g)("div",null,t),toggleEvent:"hover",targetClassName:"HoverCard-popoverTarget",placement:"bottom-left",onOpen:this.handleOpen,onClose:this.handleClose},s),Object(l.g)("div",{className:c()("HoverCard-container",{"HoverCard-container--large":"large"===r}),ref:a},i&&Object(l.g)("div",{className:"HoverCard-loading",style:b},Object(l.g)(R.a,null)),Object(l.g)("div",{className:c()("HoverCard",{"HoverCard--isLoading":i||!d})},o.Children.map(n,(function(e){return e&&("string"==typeof e?Object(l.g)("div",{className:"HoverCard-item"},e):Object(o.cloneElement)(e,{className:c()("HoverCard-item",e.props.className)}))})))))}}]),n}(o.Component);E.propTypes={toggler:a.a.node.isRequired,isLoading:a.a.bool,onOpen:a.a.func,onClose:a.a.func,size:a.a.oneOf(["default","large"])},E.defaultProps={margin:16,align:"left",topExcludedHeight:60,size:"default"};var I=E},949:function(e,t,n){"use strict";var i=n(33),a=n(15),o=n(16),r=n(17),c=n(18),s=n(9),l=n(1),u=n(3),d=n.n(u),b=n(0),h=n(19),f=n(26),p=n(12),m=n.n(p),v=n(206),O=n(36),j=n(918),g=n(932),y=n(419),w=n(35),C=n(205),x=n(30),k=n(179),A=["toggler","topic","id","isLoading","onRef"];function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(c.a)(this,n)}}var R=function(e){Object(r.a)(n,e);var t=S(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).load=function(){var t=e.props,n=t.dispatch,i=t.id;n(Object(k.A)(i))},e.track=function(){var t=e.props.topic;e.hoverCardElement&&t&&(w.a.setModule(e.hoverCardElement,{module:"TopicItem"},{card:{content:{type:"Topic",token:t.id,item_num:t.questionsCount,follower_num:t.followersCount}}}),w.a.trackCardShow(e.hoverCardElement))},e.handleFollow=e.context.authRequired((function(){var t=!e.props.topic.isFollowing;w.a.trackEvent(e.hoverCardElement,{action:t?"Follow":"UnFollow",element:"Button"});var n=e.props,i=n.dispatch,a=n.id;i(Object(k.M)(a))}),x.X.follow),e.handleOpen=function(){e.load(),e.track()},e}return Object(o.a)(n,[{key:"isTopicReady",value:function(){var e=this.props.topic||{},t=e.questionsCount,n=e.followersCount,i=e.bestAnswersCount;return!(void 0===t&&void 0===n&&void 0===i)}},{key:"render",value:function(){var e=this,t=this.props,n=t.toggler,a=t.topic,o=t.id,r=t.isLoading,c=t.onRef,s=Object(i.default)(t,A),u=a||{},d=u.name,b=u.introduction,h=u.questionsCount,f=u.followersCount,p=u.bestAnswersCount,m=u.avatarUrl,v=u.isFollowing,w=u.headerCard,x="//www.zhihu.com/topic/".concat(o),k=w&&w.avatarUrl||m;return Object(l.c)(g.b,Object.assign(Object.assign({toggler:n,preventCloseOnTarget:!0,isLoading:r,onOpen:this.handleOpen,size:"large"},s),{},{onRef:function(t){c&&"function"==typeof c&&c(t),e.hoverCardElement=t},children:[Object(l.b)(g.a,{title:Object(l.b)("a",{target:"_blank",rel:"noopener noreferrer",href:x,children:d}),avatarUrl:k,avatarFit:"cover"}),b&&Object(l.b)("div",{children:Object(l.b)(y.a,{className:"HoverCard-description",html:b})}),Object(l.c)("div",{children:[this.isTopicReady()&&Object(l.c)(j.a,{children:[Object(l.b)(j.a.Item,{tag:C.a,preset:"plain",a:!0,to:"".concat(x,"/questions"),name:"问题",value:h,target:"_blank"}),Object(l.b)(j.a.Item,{tag:C.a,preset:"plain",a:!0,to:"".concat(x,"/top-answers"),name:"精华",value:p,target:"_blank"}),Object(l.b)(j.a.Item,{tag:C.a,preset:"plain",a:!0,to:"".concat(x,"/followers"),name:"关注者",target:"_blank",value:f})]}),Object(l.b)("div",{className:"HoverCard-buttons",children:a&&Object(l.b)(O.c,{preset:"primary",color:v?"grey":"blue",onClick:this.handleFollow,children:v?"已关注":"关注话题"})})]})]}))}}]),n}(b.Component);R.contextTypes={authRequired:d.a.func};var N=Object(f.connect)((function(e,t){var n=t.id,i=e.entities.topics,a=e.loading.local;return{topic:i[n],isLoading:Boolean(a["topic/".concat(n)])}}))(R),T=n(57),B=["isMobile","topic","avatar","avatarProps","noHoverCard","noLink","style","className","children","dispatch","trackEvent"];function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(c.a)(this,n)}}var I=function(e){Object(r.a)(n,e);var t=E(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.isMobile,a=t.topic,o=a.name,r=a.avatarUrl,c=a.id,s=a.headerCard,u=t.avatar,d=t.avatarProps,b=t.noHoverCard,h=t.noLink,f=t.style,p=t.className,O=t.children,j=(t.dispatch,t.trackEvent,Object(i.default)(t,B)),g=void 0===b?n:b,y=s&&s.avatarUrl||r;e=u?Object(l.b)(v.a,Object.assign({className:"TopicLink-avatar",url:y,alt:o},d)):O||o,h||g||(e=Object(l.b)(N,{toggler:e,id:c}));var w=h?"span":"a";return Object(l.b)(w,Object.assign(Object.assign({style:f,className:m()("TopicLink",p),href:"//www.zhihu.com/topic/".concat(c),target:"_blank"},j),{},{children:e}))}}]),n}(b.Component);I.propTypes={topic:d.a.object.isRequired,user:d.a.object,avatar:d.a.bool,avatarProps:d.a.object,noHoverCard:d.a.bool,noLink:d.a.bool,style:d.a.object,className:d.a.string,children:d.a.node},I.defaultProps={avatar:!1,noLink:!1};t.a=Object(h.compose)(Object(f.connect)((function(e){return{isMobile:Object(T.isMobileSelector)(e,{includeTablet:!0})}})))(I)},969:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var i=n(15),a=n(16),o=n(17),r=n(18),c=n(9),s=n(1),l=n(3),u=n.n(l),d=n(0),b=n(12),h=n.n(b),f=n(278),p=n(462),m=n(221),v=n(245),O=n(30);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(c.a)(e);if(t){var a=Object(c.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(r.a)(this,n)}}var g=function(e){Object(o.a)(n,e);var t=j(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={enabled:!1,shown:!1},e.handleScrollUp=function(){e.state.shown&&e.canToggle()&&e.setState({shown:!1})},e.handleScrollDown=function(){!e.state.shown&&e.canToggle()&&e.setState({shown:!0})},e.handlePositionStatusChange=function(t){e.canToggle()&&("normal"!==t?e.enable():e.disable())},e}return Object(a.a)(n,[{key:"canToggle",value:function(){return!(this.props.prevent||document.activeElement&&document.activeElement.closest(".SearchBar"))}},{key:"enable",value:function(){this.setState({enabled:!0,shown:!0})}},{key:"disable",value:function(){this.setState({enabled:!1,shown:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.offset,i=t.children,a=this.state,o=a.enabled,r=a.shown;return Object(s.c)(d.Fragment,{children:[Object(s.b)(v.a,{shortcuts:[{key:"/",action:function(){return e.setState({shown:!1})}}]}),Object(s.b)(f.a,{offset:n,onPositionStatusChange:this.handlePositionStatusChange,children:Object(s.b)("div",{})}),o&&Object(s.b)(p.a,{onScrollUp:this.handleScrollUp,onScrollDown:this.handleScrollDown}),Object(s.b)(m.a.Inlet,{shown:r,children:Object(s.b)("div",{className:h()("PageHeader",{"is-shown":r}),children:i})})]})}}]),n}(d.Component);g.propTypes={prevent:u.a.bool,offset:u.a.number},g.defaultProps={prevent:!1,offset:O.i};var y=g},970:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n(33),a=n(15),o=n(16),r=n(17),c=n(18),s=n(9),l=n(1),u=n(0),d=n(3),b=n.n(d),h=n(917),f=n(245),p=["containerClassName","selector"];function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(c.a)(this,n)}}var v=function(e){Object(r.a)(n,e);var t=m(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.containerClassName,n=e.selector,a=Object(i.default)(e,p);return Object(l.b)(f.b,{className:t,selector:n,children:Object(l.b)(h.b,Object.assign({},a))})}}]),n}(u.Component);v.propTypes={containerClassName:b.a.string,selector:b.a.string},v.defaultProps={selector:".List-item"};var O=v}}]);
//# sourceMappingURL=main.question-routes.14f9ff72e84a4054e202.js.map