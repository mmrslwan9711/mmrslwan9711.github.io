(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{1172:function(e,t,n){"use strict";var o=n(0),c=n.n(o),r=n(27),a=function(e){return c.a.createElement(r.a,e,c.a.createElement("path",{d:"M17.007 11.504c0 .65-.13 1.26-.36 1.83l3 3.073S23 14.136 23 11.504C23 8.008 17.255 4 11.995 4c-1.4 0-2.741.25-3.982.701l2.161 2.16c.57-.23 1.18-.36 1.831-.36a5.004 5.004 0 0 1 5.002 5.003zM2.57 4.342l2.067 2.075C3.499 7.258 1 9.119 1 11.504c0 3.336 5.79 7.503 11.005 7.503 1.55 0 3.031-.3 4.382-.84l.42.42 2.125 2.118s.782.571 1.314 0-.074-1.305-.074-1.305L3.955 3.183s-.76-.742-1.385-.19c-.626.554 0 1.35 0 1.35zm4.963 4.96l1.55 1.552c-.05.21-.08.43-.08.65 0 1.66 1.341 3.001 3.002 3.001.22 0 .44-.03.65-.08l1.551 1.551c-.67.33-1.41.53-2.2.53a5.004 5.004 0 0 1-5.003-5.002c0-.79.2-1.53.53-2.201zm4.312-.78l3.151 3.152.02-.16c0-1.66-1.34-3.001-3.001-3.001l-.17.01z",opacity:".9",fillRule:"evenodd"}))};a.defaultProps={name:"EyeSlash"},t.a=a},1176:function(e,t,n){"use strict";var o=n(0),c=n.n(o),r=n(27),a=function(e){return c.a.createElement(r.a,e,c.a.createElement("path",{d:"M2.224 21.667s4.24-1.825 4.788-2.056C15.029 23.141 22 17.714 22 11.898 22 6.984 17.523 3 12 3S2 6.984 2 11.898c0 1.86.64 3.585 1.737 5.013-.274.833-1.513 4.756-1.513 4.756zm5.943-9.707c.69 0 1.25-.569 1.25-1.271a1.26 1.26 0 0 0-1.25-1.271c-.69 0-1.25.569-1.25 1.27 0 .703.56 1.272 1.25 1.272zm7.583 0c.69 0 1.25-.569 1.25-1.271a1.26 1.26 0 0 0-1.25-1.271c-.69 0-1.25.569-1.25 1.27 0 .703.56 1.272 1.25 1.272z",fillRule:"evenodd"}))};a.defaultProps={name:"WeChat"},t.a=a},1177:function(e,t,n){"use strict";var o=n(0),c=n.n(o),r=n(27),a=function(e){return c.a.createElement(r.a,e,c.a.createElement("path",{fill:"#FB6622",d:"M15.518 3.06c8.834-.854 7.395 7.732 7.394 7.731-.625 1.439-1.673.309-1.673.309.596-7.519-5.692-6.329-5.692-6.329-.898-1.067-.029-1.711-.029-1.711zm4.131 6.985c-.661 1.01-1.377.126-1.376.126.205-3.179-2.396-2.598-2.396-2.598-.719-.765-.091-1.346-.091-1.346 4.882-.551 3.863 3.818 3.863 3.818zM5.317 7.519s4.615-3.86 6.443-1.328c0 0 .662 1.08-.111 2.797.003-.003 3.723-1.96 5.408.159 0 0 .848 1.095-.191 2.649 0 0 2.918-.099 2.918 2.715 0 2.811-4.104 6.44-9.315 6.44-5.214 0-8.026-2.092-8.596-3.102 0 0-3.475-4.495 3.444-10.33zm10.448 7.792s.232-4.411-5.71-4.207c-6.652.231-6.579 4.654-6.579 4.654.021.39.097 3.713 5.842 3.713 5.98 0 6.447-4.16 6.447-4.16zm-9.882.86s-.059-3.632 3.804-3.561c3.412.06 3.206 3.165 3.206 3.165s-.026 2.979-3.684 2.979c-3.288 0-3.326-2.583-3.326-2.583zm2.528 1.037c.672 0 1.212-.447 1.212-.998 0-.551-.543-.998-1.212-.998-.672 0-1.215.447-1.215.998 0 .551.546.998 1.215.998z",fillRule:"evenodd"}))};a.defaultProps={name:"Weibo"},t.a=a},1253:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var o=n(66),c={400:"请求参数有误",401:"用户认证失败",403:"服务已拒绝",404:"资源不存在",405:"请求方式有误",410:"资源已解散",502:"网关错误",503:"服务无响应",504:"网关超时"},r=function(e){var t;return(null==e||null===(t=e.payload)||void 0===t?void 0:t.message)||(null==e?void 0:e.status)&&c[e.status]||"操作失败"};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(o.a)("ui/showToast").dispatch({icon:"fail",text:r(e)})}},1348:function(e,t,n){"use strict";var o=n(0),c=n.n(o),r=n(27),a=function(e){return c.a.createElement(r.a,e,c.a.createElement("g",{fill:"none",fillRule:"evenodd"},c.a.createElement("path",{fill:"#0F88EB",d:"M2.64 13.39c1.068.895 1.808 2.733 1.66 4.113l.022-.196c-.147 1.384.856 2.4 2.24 2.278l-.198.016c1.387-.122 3.21.655 4.083 1.734l-.125-.154c.876 1.084 2.304 1.092 3.195.027l-.127.152c.895-1.068 2.733-1.808 4.113-1.66l-.198-.022c1.386.147 2.402-.856 2.279-2.238l.017.197c-.122-1.388.655-3.212 1.734-4.084l-.154.125c1.083-.876 1.092-2.304.027-3.195l.152.127c-1.068-.895-1.808-2.732-1.66-4.113l-.022.198c.147-1.386-.856-2.4-2.24-2.279l.198-.017c-1.387.123-3.21-.654-4.083-1.733l.125.153c-.876-1.083-2.304-1.092-3.195-.027l.127-.152c-.895 1.068-2.733 1.808-4.113 1.662l.198.02c-1.386-.147-2.4.857-2.279 2.24L4.4 6.363c.122 1.387-.655 3.21-1.734 4.084l.154-.126c-1.083.878-1.092 2.304-.027 3.195l-.152-.127z"}),c.a.createElement("path",{fill:"#FFF",d:"M9.78 15.728l-2.633-2.999s-.458-.705.242-1.362c.7-.657 1.328-.219 1.328-.219l1.953 2.132 4.696-4.931s.663-.348 1.299.198c.636.545.27 1.382.27 1.382s-3.466 3.858-5.376 5.782c-.98.93-1.778.017-1.778.017z"})))};a.defaultProps={name:"BadgeCert"},t.a=a},1490:function(e,t,n){"use strict";var o=n(15),c=n(16),r=n(17),a=n(18),i=n(9),l=n(1),s=n(0),u=n.n(s),d=n(61),h=n(35),f=n(291),p=n(1488),b=n(1480),m=n(1499),v=n(33),O=n(1348),g=n(98),j=Object.assign;var C=function(e){return u.a.createElement(g.a,j({width:"20",height:"20",fill:"none",viewBox:"0 0 20 20"},e),u.a.createElement("path",{fill:"url(#login_bar_logo)",d:"M16.131 0H3.87A3.869 3.869 0 000 3.869V16.13A3.869 3.869 0 003.869 20H16.13A3.869 3.869 0 0020 16.131V3.87A3.869 3.869 0 0016.131 0z"}),u.a.createElement("path",{fill:"#fff",d:"M14.9 10.046V7.391l2.67-.137.232-.015c.147-.26.214-.559.192-.857-.02-.071-.059-.19-.178-.163a9.048 9.048 0 01-1.204.207c-.777.092-1.119.116-2.196.193-1.893.14-3.56.205-3.56.205a.722.722 0 00.75.724c.642-.027 1.582-.071 2.531-.119v2.617h-3.616a.753.753 0 00.753.754h2.843v2.008c0 .255-.13.341-.345.347h-1.1a1.187 1.187 0 00.632.742c.244.081.503.109.76.08.385-.02.836-.237.836-1.014V10.8h3.175a.362.362 0 00.361-.362v-.392H14.9z"}),u.a.createElement("path",{fill:"#fff",d:"M12.414 8.251a.65.65 0 00-.908-.148l-.107.077 1.187 1.662.635-.457-.807-1.134zm4.147-.057l-.89 1.166.647.472 1.273-1.685-.107-.077a.653.653 0 00-.923.124zM9.737 7.031H6.263v6.065h.858l.112.732 1.154-.732h1.356L9.737 7.03zm-1.465 5.311l-.674.415-.065-.427h-.487V7.785h1.908v4.557h-.682zM5.637 9.761H4.379V7.785h1.436v-.368a.386.386 0 00-.383-.385h-2.24a115.436 115.436 0 01.347-1.018 1.187 1.187 0 00-.68.199.908.908 0 00-.385.551c-.151.416-.296.813-.368 1.05-.136.38-.466 1.048-.466 1.048.248-.002.493-.06.716-.169a1.205 1.205 0 00.575-.822c0-.027 0-.053.024-.086h.65V9.35c0 .142 0 .279-.018.412H2.433a.754.754 0 00-.754.754h1.837a4.955 4.955 0 01-.226 1.035 4.746 4.746 0 01-.845 1.484 9.363 9.363 0 01-.89.845 1.56 1.56 0 001.527-.27 4.21 4.21 0 00.908-1.623c.152-.483.258-.98.318-1.483h1.685v-.38a.362.362 0 00-.356-.362z"}),u.a.createElement("path",{fill:"#fff",d:"M4.747 11.318l-.658.425 1.418 2.118a1.96 1.96 0 00.19-.629.908.908 0 00-.08-.617l-.87-1.297z"}),u.a.createElement("defs",null,u.a.createElement("linearGradient",{id:"login_bar_logo",x1:"-6.708",x2:"25.504",y1:"29.91",y2:"-8.476",gradientUnits:"userSpaceOnUse"},u.a.createElement("stop",{offset:".42",stopColor:"#06F"}),u.a.createElement("stop",{offset:".92",stopColor:"#00C4FF"}))))},y=["isQRCodeShown","onQRCodeLinkClick","zaClickId"],N=function(e){var t=e.isQRCodeShown,n=void 0!==t&&t,o=e.onQRCodeLinkClick,c=e.zaClickId,r=Object(v.default)(e,y);return Object(l.c)(d.Flex,Object.assign(Object.assign({px:"24px",color:"GBL01A",width:"400px",height:"60px",alignItems:"center"},r),{},{children:[Object(l.b)(d.Box,{flex:"1",children:Object(l.c)(d.Link,{href:"/org/signup",color:"inherit","data-za-detail-view-id":c,children:[Object(l.b)(O.a,{size:26,css:{marginRight:".5em"},center:!0}),"开通机构号"]})}),Object(l.b)(d.Box,{height:"20px",width:"1px",bg:"GBK09C"}),Object(l.b)(d.Box,{flex:"1",textAlign:"right",children:Object(l.b)(d.Button,{bg:"unset",color:"inherit",fontSize:"inherit",fontWeight:"inherit",padding:0,onClick:o,children:n?"关闭二维码":Object(l.c)(l.a,{children:[Object(l.b)(C,{center:!0,css:{marginRight:".5em"}}),"下载知乎 App"]})})})]}))};n(1173);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(i.a)(e);if(t){var c=Object(i.a)(this).constructor;n=Reflect.construct(o,arguments,c)}else n=o.apply(this,arguments);return Object(a.a)(this,n)}}var R=function(e){Object(r.a)(n,e);var t=w(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={showHeader:!0,fullname:"",socialType:""},e.changeSignType=function(t){e.props.onChangeSignType(t),e.handleSetShowHeader(!0)},e.handleSetShowHeader=function(t){e.setState({showHeader:t})},e.handleSocialRegister=function(t){var n=t.fullname,o=t.socialType;e.props.onChangeSignType("register"),e.setState({fullname:n,socialType:o,showHeader:!1})},e.handleResetRegister=function(){e.props.onChangeSignType("login"),e.setState({fullname:"",socialType:"",showHeader:!0})},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.nextUrl;e.isLogin&&(location.href=t||"/")}},{key:"render",value:function(){var e=this.state,t=e.fullname,n=e.socialType,o=this.props,c=o.nextUrl,r=o.isInSignPage,a=o.signType,i=o.showQrcodeFirst,s=o.onQRCodeLinkClick,u=o.showQrcode,f=o.showSwitchTypeIcon,v=r?d.Card:d.Box;return Object(l.c)(v,{bg:"background",width:400,css:{overflow:"hidden"},children:["login"===a?Object(l.b)("div",{className:"SignContainer-content",children:Object(l.b)("div",{className:"SignContainer-inner",children:Object(l.b)(b.a,{showQrcodeFirst:i,nextUrl:c,isInSignPage:r,showSwitchTypeIcon:f})})}):Object(l.b)(p.a,{socialType:n,nextUrl:c,defaultFullname:t,onResetRegister:this.handleResetRegister}),Object(l.b)(d.Box,{mx:"24px",sx:{borderTop:"1px solid",borderColor:"GBK09A"}}),Object(l.b)(m.a,{onRegister:this.handleSocialRegister}),Object(l.b)(N,{zaClickId:r?4943:8270,isQRCodeShown:u,onQRCodeLinkClick:function(e){s(!u),r?u&&h.a.trackEvent(e.currentTarget,{id:4945}):h.a.trackEvent(e.currentTarget,{id:u?8272:8271})},bg:"GBK10A"})]})}}]),n}(s.Component);t.a=Object(f.b)(R)},2860:function(e,t,n){"use strict";n.r(t);var o,c=n(15),r=n(16),a=n(17),i=n(18),l=n(9),s=n(1),u=n(3),d=n.n(u),h=n(0),f=n(19),p=n(26),b=n(271),m=n(291),v=n(2),O=n(36),g=n(161),j=n(35),C=n(968),y=n(1119),N=n(208),w=n(4),R=n(33),k=n(1247),S=n(1170),B=n(1018),T=["countDownEvent","startAtOnce","interceptTime","resetText","manualValidateError","onChange","validations","countDownEndEvent","reStartTime","isIOS"];function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(l.a)(e);if(t){var c=Object(l.a)(this).constructor;n=Reflect.construct(o,arguments,c)}else n=o.apply(this,arguments);return Object(i.a)(this,n)}}var E=function(e){Object(a.a)(n,e);var t=P(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.countDownEvent,n=e.startAtOnce,c=e.interceptTime,r=e.resetText,a=e.manualValidateError,i=e.onChange,l=e.validations,u=e.countDownEndEvent,d=e.reStartTime,h=e.isIOS,f=Object(R.default)(e,T);return Object(s.c)("div",{className:"SignFlow SignFlow-smsBindPhoneInputContainer",children:[Object(s.b)(B.a,Object.assign({name:"digits",className:"SignFlow-smsBindPhoneInput",type:h?"tel":"number",errorMessageClassName:"SignFlow-smsBindPhoneInputErrorMask",placeholder:"输入 6 位验证码",manualValidateError:a,onChange:i,validations:[{type:"required",message:"请填写验证码",className:"SignFlow-smsInputBindPhoneRequiredErrorMask"}].concat(Object(w.a)(l||[]))},f)),Object(s.b)(k.a,{className:"SignFlow-smsBindPhoneInputButton",preset:"plain",initialText:"发送验证码",resetText:r,countingText:Object(S.a)(o||(o=Object(N.a)(["","s 后可重发"])),"count"),startAtOnce:n,event:t,countDownEndEvent:u,interceptTime:c,reStartTime:d})]})}}]),n}(h.Component);E.propTypes={countDownEvent:d.a.func.isRequired,startAtOnce:d.a.bool,interceptTime:d.a.number,resetText:d.a.string,manualValidateError:d.a.string},E.defaultProps={startAtOnce:!1,resetText:"重发验证码"};var x=Object(p.connect)((function(e){return{isIOS:e.env.userAgent.iOS}}))(E),I=n(30);function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(l.a)(e);if(t){var c=Object(l.a)(this).constructor;n=Reflect.construct(o,arguments,c)}else n=o.apply(this,arguments);return Object(i.a)(this,n)}}var z=function(e){Object(a.a)(n,e);var t=F(n);function n(){var e;Object(c.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={selectedCountry:{code:"+86",name:"中国"},phoneNo:null,smsInputInterceptTime:-1,manualError:null,showFooter:!1,sendValidationCodeButtonText:"发送验证码",identifyingCodeError:null},e.testPhoneNo=function(){var t=e.state,n=t.selectedCountry.code,o=t.phoneNo;return"+86"!==n||/^\d{11}$/.test(o)},e.handleChange=function(t){return function(n){e.setState(Object(v.a)({},t,n))}},e.handleSendDigits=function(t){var n=e.props.requestPhoneVerificationCode,o=e.state,c=o.selectedCountry.code,r=o.phoneNo,a=o.manualError;if(j.a.trackEvent(t.target,{action:"GetCaptcha"}),e.testPhoneNo())return n("".concat(c).concat(r)).then((function(){e.setState({manualError:null})})).catch((function(t){var n=t.payload,o=(n=void 0===n?{}:n).message;return e.setState({manualError:o,smsInputInterceptTime:Date.now()})}));return e.setState({manualError:"请输入正确的手机号"===a?" ".concat("请输入正确的手机号"):"请输入正确的手机号",smsInputInterceptTime:Date.now()})},e.handleSubmit=function(t){var n=t.phoneNo,o=t.digits,c=e.props,r=c.updatePhoneNumber,a=c.onSuccess,i=c.onNeedUnbind,l=e.state,s=l.selectedCountry.code,u=l.identifyingCodeError;r("".concat(s).concat(n),o).then((function(e){var t=e.payload,o=t.data;if(t.success)return a();var c=o.bindedAccountFullname,r=o.requestAccountFullname;return i({phoneNumber:n,bindName:c,requiredName:r})})).catch((function(t){var n=t.payload,o=(n=void 0===n?{}:n).code,c=n.message;o===I.C&&e.setState({identifyingCodeError:u===c?" ".concat(c):c})}))},e.handleZaOK=function(e){j.a.trackEvent(e.target,{action:"Ok"})},e.renderContent=function(){var t=e.state,n=t.smsInputInterceptTime,o=t.manualError,c=t.sendValidationCodeButtonText,r=t.identifyingCodeError;return Object(s.b)("div",{ref:function(t){e.container=t},children:Object(s.c)(C.b,{className:"SignFlow BindPhoneForm",onSubmit:e.handleSubmit,children:[!1,Object(s.b)(y.a,{type:"register",supportedCountriesShown:!0,manualValidateError:o,onSelect:e.handleChange("selectedCountry"),onChange:e.handleChange("phoneNo")}),Object(s.b)(x,{resetText:c,interceptTime:n,countDownEvent:e.handleSendDigits,manualValidateError:r},"sms-input"),Object(s.b)("div",{className:"BindPhone-helpWrapper",children:Object(s.b)(O.c,{className:"BindPhone-helpText",preset:"link",onClick:function(){e.setState({showFooter:!0})},children:"需要帮助？"})}),Object(s.b)(O.c,{css:{display:"block",width:"220px",margin:"55px auto 0"},preset:"primary",color:"blue",type:"submit",onClick:e.handleZaOK,children:"确认"})]})})},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){j.a.setModule(this.container,{module:"BindPhoneForm"}),j.a.trackCardShow(this.container)}},{key:"render",value:function(){var e=this.props.onClose,t=this.state.showFooter;return Object(s.b)(g.b,{title:"设置手机号",subtitle:"绑定手机后，你就可以使用知乎的提问、回答、评论等功能。",footer:t?"如需要帮助，请联系 i@zhihu.com，我们会尽快帮你解决":null,onClose:e,size:"default",children:this.renderContent()})}}]),n}(h.Component);z.propTypes={requestPhoneVerificationCode:d.a.func.isRequired,updatePhoneNumber:d.a.func.isRequired,onClose:d.a.func.isRequired,onSuccess:d.a.func.isRequired,onNeedUnbind:d.a.func.isRequired};var q=n(205);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(l.a)(e);if(t){var c=Object(l.a)(this).constructor;n=Reflect.construct(o,arguments,c)}else n=o.apply(this,arguments);return Object(i.a)(this,n)}}var A=function(e){Object(a.a)(n,e);var t=M(n);function n(){var e;Object(c.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).zaKnowMore=function(e){j.a.trackEvent(e.target,{action:"OpenUrl",name:"了解更多"})},e.toBindPhone=function(t){var n=e.props.onBindPhone;j.a.trackEvent(t.target,{action:"OpenUrl",name:"去绑定手机"}),n()},e.handleClose=function(t){var n=e.props,o=n.onClose,c=n.config.canWrite;j.a.trackEvent(t.target,{action:"Cancel",name:c?"暂不绑定":"取消"}),o()},e.renderContent=function(){var t=e.props.config,n=t.tip,o=t.canWrite;return Object(s.c)("div",{ref:function(t){e.container=t},children:[Object(s.c)("p",{children:[n,Object(s.b)(q.a,{preset:"link",target:"_blank",href:"https://zhuanlan.zhihu.com/p/27257715",onClick:e.zaKnowMore,children:"了解更多"})]}),Object(s.c)("div",{className:"BindPhone-buttonSection",children:[Object(s.b)(q.a,{className:"BindPhone-button",onClick:e.handleClose,children:o?"暂不绑定":"取消"}),Object(s.b)(O.c,{className:"BindPhone-button",preset:"primary",color:"blue",onClick:e.toBindPhone,children:"去绑定手机"})]})]})},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){j.a.setModule(this.container,{module:"BindPhoneForm"}),j.a.trackCardShow(this.container)}},{key:"render",value:function(){var e=this.props.onClose;return Object(s.b)(g.b,{className:!1,title:"绑定手机",onClose:e,size:"default",children:this.renderContent()})}}]),n}(h.Component);function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(l.a)(e);if(t){var c=Object(l.a)(this).constructor;n=Reflect.construct(o,arguments,c)}else n=o.apply(this,arguments);return Object(i.a)(this,n)}}A.propTypes={config:d.a.object,onClose:d.a.func,onBindPhone:d.a.func};var H=function(e){Object(a.a)(n,e);var t=D(n);function n(){var e;Object(c.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).handleCancel=function(t){var n=e.props.onClose;j.a.trackEvent(t.target,{action:"Cancel",name:"不绑定"}),n()},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){j.a.setModule(this.container,{module:"BindMailForm"}),j.a.trackCardShow(this.container)}},{key:"render",value:function(){var e=this,t=this.props.onClose;return Object(s.b)(g.b,{className:!1,title:"手机号绑定成功",onClose:t,size:"default",children:Object(s.c)("div",{ref:function(t){e.container=t},children:[Object(s.b)("p",{children:"由于你此前绑定的邮箱未经验证，未来请使用手机号登录知乎。"}),Object(s.b)(O.c,{className:"BindPhone-remindLoginWithPhoneButton",onClick:this.handleCancel,preset:"primary",color:"blue",children:"知道了"})]})})}}]),n}(h.Component);function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(l.a)(e);if(t){var c=Object(l.a)(this).constructor;n=Reflect.construct(o,arguments,c)}else n=o.apply(this,arguments);return Object(i.a)(this,n)}}H.propTypes={onClose:d.a.func};var U=function(e){Object(a.a)(n,e);var t=Q(n);function n(){var e;Object(c.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).handleCancel=function(t){var n=e.props.onCancel;j.a.trackEvent(t.target,{action:"Click",name:"暂不绑定"}),n()},e.handleConfirm=function(t){var n=e.props.onConfirm;j.a.trackEvent(t.target,{action:"Click",name:"确认解绑"}),n()},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){j.a.setModule(this.container,{module:"BindPhoneFailForm"}),j.a.trackCardShow(this.container)}},{key:"render",value:function(){var e=this,t=this.props,n=t.onClose,o=t.phoneNumber,c=t.bindName,r=t.requiredName;return Object(s.b)(g.b,{className:!1,title:"绑定失败",onClose:n,size:"default",children:Object(s.c)("div",{ref:function(t){e.container=t},children:[Object(s.c)("p",{children:["你所输入的手机号 ",o," 已经被绑定到帐号「",c,"」。"]}),!1,Object(s.c)("p",{children:["你可以选择将该手机号从该帐号中解绑，并绑定至当前帐号「",r,"」。"]}),!1,Object(s.b)("p",{children:Object(s.c)("b",{children:["解绑后，你将无法再通过手机号登录原帐号「",c,"」。"]})}),Object(s.c)("div",{className:"BindPhone-buttonSection",children:[Object(s.b)(O.c,{className:"BindPhone-button",onClick:this.handleConfirm,children:"确认解绑"}),Object(s.b)(O.c,{className:"BindPhone-button",preset:"primary",color:"blue",onClick:this.handleCancel,children:"暂不绑定"})]})]})})}}]),n}(h.Component);function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(l.a)(e);if(t){var c=Object(l.a)(this).constructor;n=Reflect.construct(o,arguments,c)}else n=o.apply(this,arguments);return Object(i.a)(this,n)}}U.propTypes={onClose:d.a.func.isRequired,onCancel:d.a.func.isRequired,onConfirm:d.a.func.isRequired,phoneNumber:d.a.string.isRequired,bindName:d.a.string.isRequired,requiredName:d.a.string.isRequired};var _=function(e){Object(a.a)(n,e);var t=V(n);function n(){var e;Object(c.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).handleUnbind=function(t){var n=e.props,o=n.onSuccess,c=n.monopolizePhoneNumber,r=n.showNotification;j.a.trackEvent(t.target,{action:"Click",name:"确认解绑"}),c().then((function(){return r("绑定成功！","white"),o()}))},e.handleCancel=function(t){var n=e.props.onCancel;j.a.trackEvent(t.target,{action:"Click",name:"暂不绑定"}),n()},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){j.a.setModule(this.container,{module:"BindPhoneVerifyForm"}),j.a.trackCardShow(this.container)}},{key:"render",value:function(){var e=this,t=this.props,n=t.onClose,o=t.bindName;return Object(s.b)(g.b,{className:!1,title:"解绑手机",onClose:n,size:"default",children:Object(s.c)("div",{ref:function(t){e.container=t},children:[Object(s.b)("p",{children:Object(s.b)("b",{children:"解绑操作无法撤销。"})}),!1,Object(s.c)("p",{children:["如果你没有其他登录方式，你将无法再使用帐号「",o,"」。"]}),Object(s.c)("div",{className:"BindPhone-buttonSection",children:[Object(s.b)(O.c,{className:"BindPhone-button",onClick:this.handleUnbind,children:"确认解绑"}),Object(s.b)(O.c,{className:"BindPhone-button",preset:"primary",color:"blue",onClick:this.handleCancel,children:"暂不绑定"})]})]})})}}]),n}(h.Component);_.propTypes={onClose:d.a.func.isRequired,onSuccess:d.a.func.isRequired,onCancel:d.a.func.isRequired,bindName:d.a.string.isRequired,showNotification:d.a.func.isRequired,monopolizePhoneNumber:d.a.string.isRequired};var L=n(144),W=n(46),G=n(29);function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(l.a)(e);if(t){var c=Object(l.a)(this).constructor;n=Reflect.construct(o,arguments,c)}else n=o.apply(this,arguments);return Object(i.a)(this,n)}}var Y=function(e){Object(a.a)(n,e);var t=K(n);function n(){var e;Object(c.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={},e.handleBindPhoneSuccess=function(){var t=e.props,n=t.needShowLoginWithPhoneNumber,o=t.showNotification,c=t.onToggle;return n?e.goToStep("LOGIN_WITH_PHONE")():(o("绑定成功！","white"),setTimeout((function(){return location.reload()}),2e3),c())},e.handleNeedUnbind=function(t){var n=t.bindName,o=t.phoneNumber,c=t.requiredName;return e.setState({bindName:n,phoneNumber:o,requiredName:c,step:"NEED_UNBIND"})},e.goToStep=function(t){return function(){return e.setState({step:t})}},e.handleCloseWithReload=function(){return location.reload()},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.fillCurrentUserIfNeeded)(["email","isActive"])}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.getUnlockRequest,o=t.hasActiveEmail,c=t.shown,r=t.account,a=r.errorStatus,i=r.challenge,l=document.querySelector(".VerificationDialogModalHeader");if(e.shown&&!c){n();var s="";s=o?"CONFIRM_BIND_PHONE":a&&!l&&i&&i.length?"SAFETY_VERIFICATION":"BIND_PHONE",this.setState({step:s})}}},{key:"render",value:function(){var e=this.props,t=e.shown,n=e.requestPhoneVerificationCode,o=e.updatePhoneNumber,c=e.monopolizePhoneNumber,r=e.showNotification,a=e.config,i=e.account,l=e.unlockTicketByDigits,u=e.requestUnlockTicket,d=e.unlockTicketByPassword,h=e.onToggle,f=this.state,p=f.step,m=f.bindName,v=f.phoneNumber,O=f.requiredName;return t?"CONFIRM_BIND_PHONE"===p?Object(s.b)(A,{onBindPhone:this.goToStep("SAFETY_VERIFICATION"),onClose:h,config:a}):"BIND_PHONE"===p?Object(s.b)(z,{onClose:h,onSuccess:this.handleBindPhoneSuccess,onNeedUnbind:this.handleNeedUnbind,requestPhoneVerificationCode:n,updatePhoneNumber:o}):"LOGIN_WITH_PHONE"===p?Object(s.b)(H,{onClose:this.handleCloseWithReload}):"NEED_UNBIND"===p?Object(s.b)(U,{onClose:h,onCancel:this.goToStep("BIND_PHONE"),onConfirm:this.goToStep("CONFIRM_UNBIND"),bindName:m,phoneNumber:v,requiredName:O}):"CONFIRM_UNBIND"===p?Object(s.b)(_,{onClose:h,onSuccess:this.handleBindPhoneSuccess,onCancel:this.goToStep("BIND_PHONE"),bindName:m,monopolizePhoneNumber:c,showNotification:r}):"SAFETY_VERIFICATION"===p?Object(s.b)(b.a,{isShown:!0,account:i,unlockTicketByDigits:l,requestUnlockTicket:u,unlockTicketByPassword:d,onClose:h,onSuccess:this.goToStep("BIND_PHONE"),zaModuleName:"BindMailForm"}):null:null}}]),n}(h.Component);Y.propTypes={shown:d.a.bool.isRequired,onToggle:d.a.func.isRequired,needShowLoginWithPhoneNumber:d.a.bool.isRequired,config:d.a.object.isRequired,requestPhoneVerificationCode:d.a.func.isRequired,updatePhoneNumber:d.a.func.isRequired,monopolizePhoneNumber:d.a.func.isRequired};t.default=Object(f.compose)(m.b,Object(p.connect)((function(e,t){var n=e.account,o=t.currentUser,c=o.isActive,r=o.email;return{account:n,hasActiveEmail:c&&r,needShowLoginWithPhoneNumber:!c&&!!r,config:I.P}}),{requestPhoneVerificationCode:L.o,updatePhoneNumber:L.B,monopolizePhoneNumber:L.l,showNotification:G.h,getUnlockRequest:L.j,unlockTicketByDigits:L.w,requestUnlockTicket:L.p,unlockTicketByPassword:L.x,fillCurrentUserIfNeeded:W.e}))(Y)},856:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var o=n(33),c=n(15),r=n(16),a=n(17),i=n(18),l=n(9),s=n(1),u=n(0),d=n(86),h=n(74),f=n(12),p=n.n(f),b=n(413),m=n(1487),v=n(1490),O=["onClose","showQrcodeFirst","titlePart"];function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(l.a)(e);if(t){var c=Object(l.a)(this).constructor;n=Reflect.construct(o,arguments,c)}else n=o.apply(this,arguments);return Object(i.a)(this,n)}}var j=function(e){Object(a.a)(n,e);var t=g(n);function n(){var e;Object(c.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={signType:e.props.signType||"login",showQrcode:!1},e.handleChangeSignType=function(t){e.setState({signType:t})},e.handleToggleQrcode=function(t){e.setState({showQrcode:t})},e.handleCloseQrcode=function(){e.setState({showQrcode:!1})},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.showQrcodeFirst,c=e.titlePart,r=Object(o.default)(e,O),a=this.state,i=a.signType,l=a.showQrcode;return Object(s.b)(h.b,{block:"signModal",children:Object(s.b)(h.e,{zaType:"Popup",zaBlock:i,children:Object(s.c)(d.b,Object.assign(Object.assign({className:"signFlowModal",onClose:t},r),{},{children:[c,Object(s.c)("div",{className:"signFlowModal-container",children:[Object(s.b)("div",{className:"signFlowModal-leftContainer",children:Object(s.b)(m.a,{className:"smallVersion",showSwitchTypeIcon:!1})}),Object(s.b)("div",{className:"signFlowModal-rightContainer",children:Object(s.b)(v.a,{showQrcodeFirst:n,signType:i,onChangeSignType:this.handleChangeSignType,showQrcode:l,onQRCodeLinkClick:this.handleToggleQrcode,showSwitchTypeIcon:!1})}),Object(s.c)("div",{className:p()("SignFlowQRImage noArrow",{"SignFlowQRImage--isHidden":!l}),children:[Object(s.b)("p",{className:"SignFlowQRImage-title",children:"扫码下载知乎 App"}),Object(s.b)("div",{className:"smallSize"}),Object(s.c)("button",{className:"SignFlowQRImage-closeButton",onClick:this.handleCloseQrcode,children:[Object(s.b)(b.a,{}),"关闭二维码"]})]})]})]}))})})}}]),n}(u.Component)},919:function(e,t,n){"use strict";var o=n(49),c=n(33),r=n(1),a=n(0),i=n(61),l=n(86),s=n(36),u=n(111),d=n.n(u),h=n(204),f=n(456),p=["title","content","ok","cancel","onOk","onCancel"],b=function(e){var t=e.title,n=e.content,u=e.ok,d=e.cancel,f=e.onOk,b=e.onCancel,m=Object(c.default)(e,p),v=Object(a.useState)(!0),O=Object(o.a)(v,2),g=O[0],j=O[1],C=function(e){return function(){j(!1),e()}},y=Object(h.b)();return Object(r.b)(l.b,Object.assign(Object.assign({closeButton:null,maskClosable:!1,hotKeyClosable:!1,css:[{overflow:"hidden",maxWidth:"96vw",".Modal-content":{margin:0,padding:0}},y.Mobile&&{width:320,borderRadius:12,boxShadow:""}]},m),{},{children:g&&Object(r.c)(i.Box,{px:"36px",py:"24px",children:[t&&Object(r.b)(i.Text,{fontSize:"18px",lineHeight:"28px",fontWeight:"bold",textAlign:"center",children:t}),n&&Object(r.b)(i.Text,{mt:t?"16px":"0",fontSize:"14px",lineHeight:"normal",color:"GBK03A",maxHeight:"calc(67vh - 100px)",css:{wordBreak:"break-all",overflowY:"auto",WebkitOverflowScrolling:"touch",marginRight:-10,paddingRight:10},children:n}),Object(r.c)(i.Flex,{mt:"16px",css:{button:{padding:0,flex:1,height:36,lineHeight:1,fontSize:15,borderRadius:4,":active":{opacity:.6}}},fontWeight:"bold",children:[d&&Object(r.b)(s.c,{css:{marginRight:4},onClick:C(b),children:d}),Object(r.b)(s.c,{preset:"primary",color:"blue",onClick:C(f),children:u})]})]})}))};t.a=function(){var e=Object(f.b)(),t=e.addInstance,n=e.removeInstance,o=function(e){return setTimeout((function(){return n(e)}),300)};return{alert:function(e){var n,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=c.title,i=c.ok;return new Promise((function(o){n=Object(r.b)(b,{content:e,title:a,ok:i||"确定",onOk:o,css:{textAlign:"center"}},d()("modal")),t(n)})).finally((function(){return o(n)}))},confirm:function(e){var n,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=c.title,i=c.ok,l=c.cancel;return new Promise((function(o,c){n=Object(r.b)(b,{content:e,title:a,ok:i||"确定",onOk:o,cancel:l||"取消",onCancel:c},d()("modal")),t(n)})).finally((function(){return o(n)}))}}}},933:function(e,t){function n(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}e.exports=n,e.exports.default=n},971:function(e,t,n){"use strict";var o=n(0),c=n.n(o),r=n(27),a=function(e){return c.a.createElement(r.a,e,c.a.createElement("path",{d:"M14.782 16.78a.737.737 0 0 1-1.052 0L9.218 12.53a.758.758 0 0 1 0-1.063L13.73 7.22a.737.737 0 0 1 1.052 0c.29.294.29.77.001 1.063L11 12l3.782 3.716c.29.294.29.77 0 1.063z",fillRule:"evenodd"}))};a.defaultProps={name:"ArrowLeft"},t.a=a}}]);
//# sourceMappingURL=main.signflow.672378ef7549cc53d345.js.map