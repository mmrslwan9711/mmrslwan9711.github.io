(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1001:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(2),o=n(5),a=n(29),i=n(30),c=Object(o.a)("user",["UPDATE_FOLLOWERS_PIN"]).UPDATE_FOLLOWERS_PIN;function l(e,t,n){return function(o,l){var u=l(),s=u.entities.users,f=u.currentUser,d=s[e];return o(n?Object(a.h)(i.V.blocked,"red"):{urlToken:f,userUrlToken:e,expect:t,API:{types:c,endpoint:"members/".concat(e,"/followers"),method:t?"POST":"DELETE"},UPDATE:{request:{users:Object(r.a)({},e,{isFollowing:t})},failure:{users:Object(r.a)({},e,d)},success:function(t){return{users:Object(r.a)({},e,t)}}}})}}},1002:function(e,t,n){var r=n(1198);function o(){return"undefined"!=typeof Reflect&&Reflect.get?(e.exports=o=Reflect.get,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=o=function(e,t,n){var o=r(e,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),o.apply(this,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},1008:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(24),o=n.n(r),a=n(3),i=n.n(a),c=n(0),l=n.n(c),u=n(12),s=n.n(u),f=n(7),d=function(){return Object(f.g)(l.a.Fragment,null)},p={SkeletonH01:function(e){var t=e.lineClass;return Object(f.g)(l.a.Fragment,null,Object(f.g)("div",{className:t}),Object(f.g)("div",{className:t}))},SkeletonP01:function(e){var t=e.lineClass,n=e.blockClass;return Object(f.g)(l.a.Fragment,null,Object(f.g)("div",{className:n}),Object(f.g)("div",null,Object(f.g)("div",{className:t}),Object(f.g)("div",{className:t})))},SkeletonT01:function(e){var t=e.lineClass;return Object(f.g)(l.a.Fragment,null,Object(f.g)("div",{className:t}),Object(f.g)("div",{className:t}),Object(f.g)("div",{className:t}),Object(f.g)("div",{className:t}))},SkeletonT02:function(e){var t=e.lineClass;return Object(f.g)(l.a.Fragment,null,Object(f.g)("div",{className:t}),Object(f.g)("div",{className:t}),Object(f.g)("div",{className:t}))},SkeletonC01:function(e){var t=e.lineClass,n=e.blockClass;return Object(f.g)(l.a.Fragment,null,Object(f.g)("div",{className:n}),Object(f.g)("div",null,Object(f.g)("div",{className:t}),Object(f.g)("div",{className:t})))},SkeletonC02:function(e){var t=e.lineClass,n=e.blockClass;return Object(f.g)(l.a.Fragment,null,Object(f.g)("div",null,Object(f.g)("div",{className:t}),Object(f.g)("div",{className:t})),Object(f.g)("div",{className:n}))},SkeletonI01:function(e){var t=e.blockClass;return Object(f.g)(l.a.Fragment,null,Object(f.g)("div",{className:t}))},SkeletonSpacing:d,SkeletonFill:d},h=l.a.memo((function(e){var t,n=e.variant,r=void 0===n?"H01":n,a=e.height,i=e.width,c=void 0===i?"auto":i,l=e.animation,u=void 0===l?"ease-in":l,d="skeleton__line--".concat(r.toLowerCase()),h="skeleton--".concat(r.toLowerCase()),v=s()(o()({skeleton__block:!0},"skeleton__block--".concat(r.toLowerCase()),!0)),b=s()(o()({skeleton__line:!0},d,!0)),m=s()((t={skeleton:!0},o()(t,h,!0),o()(t,"skeleton--ease-in","ease-in"===u),t)),g={width:c};a&&["Spacing","Fill"].includes(r)&&(g.height="number"==typeof a?"".concat(a,"px"):a);var y=p["Skeleton".concat(r)];return Object(f.g)("section",{className:m,style:g},Object(f.g)(y,{variant:r,lineClass:b,blockClass:v}))}));h.propTypes={variant:i.a.string,height:i.a.oneOfType([i.a.string,i.a.number]),width:i.a.oneOfType([i.a.string,i.a.number]),animation:i.a.oneOfType([i.a.bool,i.a.string])};var v=h,b=n(28),m=n.n(b);var g=l.a.memo((function(e){var t=e.content,n=function(e){return("string"==typeof e?e.split(","):e).map((function(e){var t=e.split("-"),n=m()(t,2),r=n[0],o=n[1];return["Spacing","Fill"].includes(r)?{type:r,height:+o}:{type:r,count:+o||1}}))}(void 0===t?"T01":t);return Object(f.g)(l.a.Fragment,null,n.map((function(e,t){var n=e.type,r=e.count,o=e.height;return r?Array.from({length:r}).map((function(e,r){return Object(f.g)(v,{variant:n,key:"".concat(t,"-").concat(r)})})):Object(f.g)(v,{variant:n,height:o,key:"".concat(t,"-").concat(o)})})))}));g.prototype={content:Object(a.oneOfType)([Object(a.arrayOf)(a.string),a.string])}},1015:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var r=n(2),o=n(15),a=n(16),i=n(17),c=n(18),l=n(9),u=n(33),s=n(1),f=n(3),d=n.n(f),p=n(0),h=n(19),v=n(26),b=n(34),m=n(166),g=n(525),y=n(200),O=n(134);var j=n(125),C=n(516),w=function(e,t){var n=t.urlToken;return e.people.allFavlistsByUser[n]||{}},k=function(e){return e.currentUser},x=(Object(j.a)(y.a.GET_ALL_FAVLISTS,(function(e,t,n){return function(r,o){var a=o();if(e=e||k(a),!t){var i=w(a,{urlToken:e}),c=i.offset,l=void 0===c?0:c,u=i.limit;t={offset:l,limit:void 0===u?10:u}}return{action:Object.assign(Object.assign({urlToken:e,paging:t},O.a.enableSchema&&{schema:C.b}),{},{extra:n}),fetcher:function(e,t){var n=t.next,r=t.offset,o=void 0===r?0:r,a=t.limit,i=void 0===a?10:a;return n?O.a.http(n):O.a.http("/api/v4/people/".concat(e,"/collections"),{query:{include:"data[*].updated_time,answer_count,follower_count,creator,is_public",offset:o,limit:i}})}(e,t)}}})),Object(j.a)(y.a.GET_ALL_FAVLISTS_WITH_RELATIONS,(function(e,t,n,r,o){return function(a,i){var c=i();if(e=e||k(c),!r){var l=w(c,{urlToken:e}),u=l.offset,s=void 0===u?0:u,f=l.limit;r={offset:s,limit:void 0===f?10:f}}var d=Object.assign(Object.assign({contentType:t,contentId:n,urlToken:e,paging:r},O.a.enableSchema&&{schema:C.b}),{},{extra:o});return{action:d,fetcher:function(e){var t=e.contentType,n=e.contentId,r=e.paging,o=(r=void 0===r?{}:r).next,a=r.offset,i=void 0===a?0:a,c=r.limit,l=void 0===c?10:c;return o?O.a.http(o):O.a.http("/api/v4/collections/contents/".concat(t,"/").concat(n),{query:{offset:i,limit:l}})}(d)}}}))),R=["ids"];function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var N=function(){return n.e(78).then(n.bind(null,1158)).then((function(e){return e.FavlistsModal}))},S={ids:[],isFetching:!1,isDrained:!1},T=Object(b.createSelector)((function(e){return e.people.allFavlistsByUser[e.currentUser]||S}),(function(e){return e.entities.favlists}),(function(e,t){var n=e.ids,r=Object(u.default)(e,R);return Object.assign(Object.assign({},r),{},{items:n.map((function(e){return t[e]}))})}));var z=function(e){Object(i.a)(n,e);var t=E(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).onFavlistAdd=function(){for(var t=e.props,n=t.urlToken,r=t.onFavlistAdd,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return r.apply(void 0,a.concat([{urlToken:n}]))},e.onLoad=function(){for(var t=e.props,n=t.onLoad,o=t.type,a=t.id,i=t.urlToken,c=t.onUpdateReaction,l=arguments.length,u=new Array(l),s=0;s<l;s++)u[s]=arguments[s];return n.apply(void 0,[i,o,a].concat(u)).then((function(e){c({contentType:o,contentId:a,relations:e.payload.data.reduce((function(e,t){return Object.assign(Object.assign({},e),{},Object(r.a)({},t.id,t.isFavorited))}),{})})}))},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this.context.currentUser||{};return Object(s.b)(m.a,Object.assign(Object.assign({getComponent:N},this.props),{},{authRequired:this.context.authRequired,isUserActive:Boolean(e.isActive),onLoad:this.onLoad,onFavlistAdd:this.onFavlistAdd}))}}]),n}(p.Component);z.contextTypes={authRequired:d.a.func,currentUser:d.a.object};var P=Object(h.compose)(Object(v.connect)((function(e,t){var n=t.id,r=t.type,o=e.favlists.relations,a=e.currentUser,i=T(e);return{isFetching:i.isFetching,isDrained:i.isDrained,items:i.items,relations:o["".concat(r,"_").concat(n)],zaEnabled:!0,urlToken:a}}),(function(e,t){return{onUpdateFav:function(){return e(g.b.apply(void 0,arguments))},onFavlistAdd:t.onFavlistAdd||function(){return e(g.a.apply(void 0,arguments))},onLoad:function(){return e(x.apply(void 0,arguments))},onUpdateReaction:function(){return e(g.c.apply(void 0,arguments))}}})))(z)},1027:function(e,t,n){var r=n(470);e.exports=function(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:r(e,t,n)}},1028:function(e,t,n){var r=n(1044),o=n(936),a=n(1045);e.exports=function(e){return o(e)?a(e):r(e)}},1040:function(e,t,n){var r=n(1041),o=n(641),a=n(1027),i=n(936),c=n(977),l=n(1028),u=Math.ceil;e.exports=function(e,t){var n=(t=void 0===t?" ":o(t)).length;if(n<2)return n?r(t,e):t;var s=r(t,u(e/c(t)));return i(t)?a(l(s),0,e).join(""):s.slice(0,e)}},1041:function(e,t){var n=Math.floor;e.exports=function(e,t){var r="";if(!e||t<1||t>9007199254740991)return r;do{t%2&&(r+=e),(t=n(t/2))&&(e+=e)}while(t);return r}},1042:function(e,t,n){var r=n(642)("length");e.exports=r},1043:function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",a="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+o+")"+"?",u="[\\ufe0e\\ufe0f]?"+l+("(?:\\u200d(?:"+[a,i,c].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*"),s="(?:"+[a+r+"?",r,i,c,n].join("|")+")",f=RegExp(o+"(?="+o+")|"+s+u,"g");e.exports=function(e){for(var t=f.lastIndex=0;f.test(e);)++t;return t}},1044:function(e,t){e.exports=function(e){return e.split("")}},1045:function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",a="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+o+")"+"?",u="[\\ufe0e\\ufe0f]?"+l+("(?:\\u200d(?:"+[a,i,c].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*"),s="(?:"+[a+r+"?",r,i,c,n].join("|")+")",f=RegExp(o+"(?="+o+")|"+s+u,"g");e.exports=function(e){return e.match(f)||[]}},1048:function(e,t,n){"use strict";var r=n(1109);n.d(t,"getReferencedContent",(function(){return r.d})),n.d(t,"isCoCreateRelation",(function(){return r.e})),n.d(t,"isReferenceRelation",(function(){return r.f}));var o=n(1650);n.d(t,"CoCreationLabel",(function(){return o.a}));var a=n(1651);n.o(a,"CancelCoCreation")&&n.d(t,"CancelCoCreation",(function(){return a.CancelCoCreation})),n.o(a,"CoCreationLinkCard")&&n.d(t,"CoCreationLinkCard",(function(){return a.CoCreationLinkCard})),n.o(a,"CreationRelationshipBar")&&n.d(t,"CreationRelationshipBar",(function(){return a.CreationRelationshipBar})),n.o(a,"renderDualAuthor")&&n.d(t,"renderDualAuthor",(function(){return a.renderDualAuthor}));var i=n(1746);n.d(t,"CreationRelationshipBar",(function(){return i.a}));var c=n(1652);n.d(t,"CoCreationLinkCard",(function(){return c.a}));var l=n(1653);n.d(t,"renderDualAuthor",(function(){return l.a}));var u=n(1757);n.d(t,"CancelCoCreation",(function(){return u.a}))},1080:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1),o=n(41),a=n(44),i=["answer","question","article","pin","zvideo","club_post","videoanswer"];var c=Object(o.withRouter)((function(e){var t=e.parent.type,o=i.includes(t),c=Object(a.e)((function(){return Promise.all([n.e(1),n.e(4),n.e(46)]).then(n.bind(null,2862))}),!o),l=Object(a.e)((function(){return Promise.all([n.e(1),n.e(4),n.e(46)]).then(n.bind(null,2855))}),o),u=o?l:c;return u?Object(r.b)(u,Object.assign({},e)):null}))},1089:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(27),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M4.076 16.966a4.19 4.19 0 0 1 1.05-1.76l8.568-8.569a.524.524 0 0 1 .741 0l2.928 2.927a.524.524 0 0 1 0 .74l-8.568 8.57c-.49.49-1.096.852-1.761 1.051l-3.528 1.058a.394.394 0 0 1-.49-.488l1.06-3.53zM20.558 4.83c.59.59.59 1.546 0 2.136l-1.693 1.692a.503.503 0 0 1-.712 0l-2.812-2.812a.504.504 0 0 1 0-.712l1.693-1.693a1.51 1.51 0 0 1 2.135 0l1.389 1.389z"}))};i.defaultProps={name:"Edit"},t.a=i},1109:function(e,t,n){"use strict";function r(e){var t,n,r,o;return Boolean(null==e||null===(t=e.coCreation)||void 0===t||null===(n=t.refTo)||void 0===n||null===(r=n.contents)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.type)}function o(e){var t,n,o,a;return!r(e)&&Boolean(null==e||null===(t=e.reference)||void 0===t||null===(n=t.refTo)||void 0===n||null===(o=n.contents)||void 0===o||null===(a=o[0])||void 0===a?void 0:a.type)}function a(e){var t,n,r,o=null==e||null===(t=e.coCreation)||void 0===t||null===(n=t.refTo)||void 0===n||null===(r=n.contents)||void 0===r?void 0:r[0];return o?"answer"===o.type?o.answer:"article"===o.type?o.article:null:null}function i(e){var t,n,r,o=null==e||null===(t=e.reference)||void 0===t||null===(n=t.refTo)||void 0===n||null===(r=n.contents)||void 0===r?void 0:r[0];return o?"answer"===o.type?o.answer:"article"===o.type?o.article:null:null}function c(e,t){var n=e,r=t.contentAuthor;return r&&n.id!==(null==r?void 0:r.id)?r:n}function l(e){var t,n;return r(e)&&null!==(t=null===(n=a(e))||void 0===n?void 0:n.author)&&void 0!==t?t:null}n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l}))},1124:function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var r=n(49),o=n(15),a=n(16),i=n(17),c=n(18),l=n(9),u=n(1),s=n(3),f=n.n(s),d=n(0),p=n(12),h=n.n(p),v=n(36),b=n(1308),m=n(1647),g=n(35),y=n(74),O=n(178),j=n(86),C=n(245),w=n(4),k=n(413),x=n(159);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var E=function(e){Object(i.a)(n,e);var t=R(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={step:0},e.containerRef=Object(d.createRef)(),e.reasonButtonRefs=[],e.toggleStep=function(){e.setState({step:0===e.state.step?1:0},(function(){e.popover.position()}))},e.handleKeyDown=function(t){var n=Number(t.key);n&&e.reasonButtonRefs[n-1]&&e.reasonButtonRefs[n-1].focus()},e.handleNeverShowVoteDownReason=function(){e.props.onSetVoteDownReason(!1),e.popover.close()},e.handleSelectReason=function(t){e.props.onSelectVoteDownReason(t),e.popover.close()},e}return Object(a.a)(n,[{key:"componentDidUpdate",value:function(){"absolute"===this.props.positionStatus&&this.popover.close()}},{key:"render",value:function(){var e=this,t=this.props,n=t.reasonList,r=t.positionStatus,o=this.state.step,a=Object(w.a)(n).sort((function(e,t){return e.sort-t.sort}));return Object(u.b)(x.a,{className:"VoteDownReasonMenu",targetClassName:"VoteDownReasonMenu-target",positionStatus:r,toggler:this.props.toggler,onOpen:function(){e.setState({step:0})},getContainer:function(){return document.querySelector(".ContentItem-actions")},onClick:this.props.onTogglerClick,ref:function(t){e.popover=t,e.props.popoverRef&&e.props.popoverRef(t)},placement:"top",arrowed:!0,preventCloseOnTarget:!0,children:Object(u.c)("div",{className:"VoteDownReasonMenu-container",onKeyDown:this.handleKeyDown,tabIndex:-1,children:[Object(u.c)("div",{className:"VoteDownReasonMenu-header",children:[0===o&&"已反对，你觉得",1===o&&"不再显示该反馈功能？"]}),Object(u.c)("div",{className:"VoteDownReasonMenu-action",children:[0===o&&Object(u.b)(v.c,{preset:"plain",className:"VoteDownReasonMenu-ignoreButton preventCloseOnTarget",onClick:this.toggleStep,children:"不再显示"}),0===o&&Object(u.b)("div",{className:"VoteDownReasonMenu-spliter"}),Object(u.b)(v.c,{preset:"plain",className:"VoteDownReasonMenu-closeButton",onClick:function(){e.popover.close()},"aria-label":"关闭",tabIndex:1,icon:k.a})]}),0===o&&Object(u.b)("div",{className:"VoteDownReasonMenu-reasonList",children:a.map((function(t,n){return Object(u.b)(v.c,{preset:"plain",className:"VoteDownReasonMenu-reason",onClick:function(){e.handleSelectReason(t)},onRef:function(t){return e.reasonButtonRefs[n]=t},children:t.name},t.reasonId)}))}),1===o&&Object(u.c)("div",{className:"VoteDownReasonMenu-disableReason",children:[Object(u.b)("div",{className:"VoteDownReasonMenu-disableReasonHint",children:"你可以在「设置」页面中的「屏蔽」开启。"}),Object(u.c)("div",{className:"VoteDownReasonMenu-disableReasonButtonList",children:[Object(u.b)(v.c,{className:"preventCloseOnTarget",onClick:this.toggleStep,children:"返回"}),Object(u.b)(v.c,{color:"blue",onClick:this.handleNeverShowVoteDownReason,children:"不再显示"})]})]})]})})}}]),n}(d.Component);E.defaultProps={reasonList:[]};var N=E,S=n(30);n(1665);function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var z=function(e){Object(i.a)(n,e);var t=T(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={recognizeInfo:{showRecognizeModal:!1,action:"",voteType:"",isRecognized:e.props.isRecognized}},e.voteUpButtonRef=Object(d.createRef)(),e.voteDownButtonRef=Object(d.createRef)(),e.shouldShowMenu=function(){var t=e.props,n=t.voting,r=t.voteDownReason,o=t.onLoadVoteDownReason;return!!t.isShowVoteDownMenu&&(-1===n?(e.popover.close(),!1):!!r||(e.isPendingForVoteDownReason=!0,o(),!1))},e.onVote=e.context.authRequired((function(t){e.props.onVote(t)}),S.X.vote),e.voteUp=function(t){var n=1===e.props.voting?["UnUpvote","neutral"]:["Upvote","up"],o=Object(r.a)(n,2),a=o[0],i=o[1];e.vote(t,a,i),e.voteUpButtonRef.current.focus()},e._voteDown=function(t){var n=-1===e.props.voting?["UnDownvote","neutral"]:["Downvote","down"],o=Object(r.a)(n,2),a=o[0],i=o[1];e.vote(t,a,i),e.voteDownButtonRef.current.focus()},e.voteDown=function(t){e.shouldShowMenu()&&e.popover.open(),e._voteDown(t)},e.vote=function(t,n,r){var o=e.props,a=o.disableAuth,i=o.handleToggleGuide,c=o.onClick,l=o.type,u=o.zaIds,s=u.voteUp,f=u.voteDown,d=n.includes("Upvote")?s:f;"article"===l&&"down"===r&&g.a.trackEvent(e.voteDownButtonRef.current,{action:"Click",id:2315,name:"反对"}),g.a.trackEvent(n.includes("Upvote")?e.voteUpButtonRef.current:e.voteDownButtonRef.current,Object.assign({action:n,element:"Button"},d&&{id:d})),c?c(t,r):a?i():e.onVoteWithRecognize(n,r)},e.onVoteWithRecognize=function(t,n){var r=e.props.voting;!e.state.recognizeInfo.isRecognized||1!==r||"UnUpvote"!==t&&"Downvote"!==t?e.onVote(n):e.setState({recognizeInfo:Object.assign(Object.assign({},e.state.recognizeInfo),{},{showRecognizeModal:!0,action:t,voteType:n})})},e.handleConfirmCancelRecognize=function(){e.onVote(e.state.recognizeInfo.voteType),e.setState({recognizeInfo:Object.assign(Object.assign({},e.state.recognizeInfo),{},{isRecognized:!1,showRecognizeModal:!1})})},e.handleCloseCancelRecognizeModal=function(){return e.setState({recognizeInfo:Object.assign(Object.assign({},e.state.recognizeInfo),{},{showRecognizeModal:!1})})},e.handleTogglerClick=function(t){e.shouldShowMenu()||t.preventDefault(),e._voteDown(t)},e.renderVoteUpButton=function(){var t=e.props,n=t.isOwner,r=t.count,o=t.voting,a=t.disabled,i=t.hideDesc,c=1===o,l=c?"已赞同":"赞同",s=[l,Object(O.cnNiceNumber)(r)].join(" "),f=[!i&&l,0!==r&&Object(O.cnNiceNumber)(r).trim()].filter(Boolean).join(" ");return Object(u.c)(y.a,{as:v.c,zaText:c?"取消赞同":"赞同",zaType:"Button",zaAction:c?"UnUpvote":"Upvote",className:h()("VoteButton VoteButton--up",{"is-active":1===o}),disabled:n||a,onClick:e.voteUp,"aria-label":s,"aria-live":"polite",onRef:e.voteUpButtonRef,children:[Object(u.b)(b.a,{center:!0,size:10,className:"VoteButton-TriangleUp"}),f]})},e.renderVoteDownButton=function(){var t=e.props,n=t.voting,r=t.disabled,o=-1===n,a=o?"已反对":"反对";return Object(u.b)(y.a,{as:v.c,zaText:o?"取消反对":"反对",zaType:"Button",zaAction:o?"UnDownvote":"Downvote",className:h()("VoteButton VoteButton--down",{"is-active":-1===n},{"VoteButton--mobileDown":!1}),disabled:r,onClick:e._voteDown,"aria-label":a,"aria-live":"polite",onRef:e.voteDownButtonRef,children:Object(u.b)(m.a,{center:!0,size:10})})},e}return Object(a.a)(n,[{key:"componentWillReceiveProps",value:function(e){e.voteDownReason&&this.isPendingForVoteDownReason&&(this.isPendingForVoteDownReason=!1,this.popover.open())}},{key:"render",value:function(){var e=this,t=this.props,n=t.isOwner,r=t.positionStatus,o=t.isShowVoteDownMenu,a=t.voteDownReason,i=this.state.recognizeInfo,c=i.showRecognizeModal,l="UnUpvote"===i.action,s=o&&!0;return Object(u.c)("span",{ref:this.voteButtonRef,children:[Object(u.b)(C.c,{keyMap:{VOTE_UP:"v",VOTE_DOWN:"d"},handlers:{VOTE_UP:this.voteUp,VOTE_DOWN:this.voteDown}}),this.renderVoteUpButton(),!n&&!s&&this.renderVoteDownButton(),!n&&s&&Object(u.b)(N,{reasonList:a,toggler:this.renderVoteDownButton(),popoverRef:function(t){return e.popover=t},positionStatus:r,onTogglerClick:this.handleTogglerClick,onSelectVoteDownReason:this.props.onSelectVoteDownReason,onSetVoteDownReason:this.props.onSetVoteDownReason}),Object(u.b)(j.b,{title:"确定".concat(l?"取消赞同":"选择反对"),onClose:this.handleCloseCancelRecognizeModal,children:c&&Object(u.c)("div",{children:[Object(u.c)("div",{children:[l?"取消赞同":"选择反对","时，你赠与作者的专业徽章也会收回，并且赠与次数不会返还，是否仍要取消？"]}),Object(u.c)(j.a,{direction:"horizontal",children:[Object(u.b)(v.c,{onClick:this.handleCloseCancelRecognizeModal,children:l?"暂不取消":"暂不选择"}),Object(u.b)(v.c,{preset:"primary",color:"blue",onClick:this.handleConfirmCancelRecognize,children:l?"取消赞同":"选择反对"})]})]})})]})}}]),n}(d.Component);z.contextTypes={authRequired:f.a.func},z.propTypes={voting:f.a.oneOf([-1,0,1]).isRequired,disabled:f.a.bool,type:f.a.string,hideDesc:f.a.bool,zaIds:f.a.shape({voteUp:f.a.number,voteDown:f.a.number}),isRecognized:f.a.bool},z.defaultProps={voting:0,disabled:!1,type:"",hideDesc:!1,zaIds:{}}},1128:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1),o=n(0),a=n(74),i=n(36),c=n(412),l=n(245),u=function(e){var t=e.className,n=e.onClick,u=e.label,s=e.onRef,f=e.disabled,d=e.showIcon,p=void 0===d||d;return Object(r.c)(o.Fragment,{children:[Object(r.b)(l.c,{keyMap:{BOOKMARK:"s c"},handlers:{BOOKMARK:n}}),Object(r.b)(a.a,{as:i.c,zaText:"收藏",zaType:"Button",onRef:s,className:t,preset:"plain",onClick:n,icon:p?c.a:null,label:u,disabled:f})]})};u.defaultProps={label:"收藏"};var s=u},1141:function(e,t,n){},1146:function(e,t,n){"use strict";var r=n(1203),o={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,a,i,c,l,u,s=!1;t||(t={}),n=t.debug||!1;try{if(i=r(),c=document.createRange(),l=document.getSelection(),(u=document.createElement("span")).textContent=e,u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),void 0===r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var a=o[t.format]||o.default;window.clipboardData.setData(a,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(u),c.selectNodeContents(u),l.addRange(c),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");s=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),s=!0}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(c):l.removeAllRanges()),u&&document.body.removeChild(u),i()}return s}},1148:function(e,t,n){"use strict";function r(e){try{return JSON.parse(e)}catch(e){return null}}n.d(t,"a",(function(){return r}))},1169:function(e,t,n){"use strict";n.d(t,"w",(function(){return s})),n.d(t,"a",(function(){return we})),n.d(t,"b",(function(){return K})),n.d(t,"c",(function(){return xe})),n.d(t,"d",(function(){return Ce})),n.d(t,"e",(function(){return $})),n.d(t,"f",(function(){return be})),n.d(t,"g",(function(){return _e})),n.d(t,"h",(function(){return S})),n.d(t,"i",(function(){return Le})),n.d(t,"j",(function(){return Ve})),n.d(t,"k",(function(){return P})),n.d(t,"l",(function(){return _})),n.d(t,"m",(function(){return I})),n.d(t,"n",(function(){return B})),n.d(t,"o",(function(){return W})),n.d(t,"p",(function(){return je})),n.d(t,"q",(function(){return Oe})),n.d(t,"r",(function(){return ye})),n.d(t,"s",(function(){return T})),n.d(t,"t",(function(){return De})),n.d(t,"u",(function(){return z})),n.d(t,"v",(function(){return N})),n.d(t,"x",(function(){return Re})),n.d(t,"y",(function(){return A})),n.d(t,"z",(function(){return Ue})),n.d(t,"A",(function(){return We})),n.d(t,"B",(function(){return qe})),n.d(t,"C",(function(){return Fe})),n.d(t,"D",(function(){return He}));var r=n(28),o=n.n(r),a=n(21),i=n.n(a),c=n(53),l=n.n(c),u=k(),s=function(e){return O(e,u)},f=k();s.write=function(e){return O(e,f)};var d=k();s.onStart=function(e){return O(e,d)};var p=k();s.onFrame=function(e){return O(e,p)};var h=k();s.onFinish=function(e){return O(e,h)};var v=[];s.setTimeout=function(e,t){var n=s.now()+t,r={time:n,handler:e,cancel:function e(){var t=v.findIndex((function(t){return t.cancel==e}));~t&&v.splice(t,1),R.count-=~t?1:0}};return v.splice(b(n),0,r),R.count+=1,j(),r};var b=function(e){return~(~v.findIndex((function(t){return t.time>e}))||~v.length)};s.cancel=function(e){u.delete(e),f.delete(e)},s.sync=function(e){y=!0,s.batchedUpdates(e),y=!1},s.throttle=function(e){var t;function n(){try{e.apply(void 0,l()(t))}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];t=r,s.onStart(n)}return r.handler=e,r.cancel=function(){d.delete(n),t=null},r};var m="undefined"!=typeof window?window.requestAnimationFrame:function(){};s.use=function(e){return m=e},s.now="undefined"!=typeof performance?function(){return performance.now()}:Date.now,s.batchedUpdates=function(e){return e()},s.catch=console.error;var g=-1,y=!1;function O(e,t){y?(t.delete(e),e(0)):(t.add(e),j())}function j(){g<0&&(g=0,m(C))}function C(){~g&&(m(C),s.batchedUpdates(w))}function w(){var e=g;g=s.now();var t=b(g);t&&(x(v.splice(0,t),(function(e){return e.handler()})),R.count-=t),d.flush(),u.flush(e?Math.min(64,g-e):16.667),p.flush(),f.flush(),h.flush()}function k(){var e=new Set,t=e;return{add:function(n){R.count+=t!=e||e.has(n)?0:1,e.add(n)},delete:function(n){return R.count-=t==e&&e.has(n)?1:0,e.delete(n)},flush:function(n){t.size&&(e=new Set,R.count-=t.size,x(t,(function(t){return t(n)&&e.add(t)})),R.count+=e.size,t=e)}}}function x(e,t){e.forEach((function(e){try{t(e)}catch(e){s.catch(e)}}))}var R={count:0,clear:function(){g=-1,v=[],d=k(),u=k(),p=k(),f=k(),h=k(),R.count=0}},E=n(0);function N(){}var S=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},T={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"==typeof e},str:function(e){return"string"==typeof e},num:function(e){return"number"==typeof e},und:function(e){return void 0===e}};function z(e,t){if(T.arr(e)){if(!T.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var P=function(e,t){return e.forEach(t)};function _(e,t,n){for(var r in e)t.call(n,e[r],r)}var A=function(e){return T.und(e)?[]:T.arr(e)?e:[e]};function I(e,t){if(e.size){var n=Array.from(e);e.clear(),P(n,t)}}var M,V,B=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return I(e,(function(e){return e.apply(void 0,n)}))},L=null,D=!1,F=N,K=Object.freeze({__proto__:null,get createStringInterpolator(){return M},get to(){return V},get colors(){return L},get skipAnimation(){return D},get willAdvance(){return F},assign:function(e){e.to&&(V=e.to),e.now&&(s.now=e.now),void 0!==e.colors&&(L=e.colors),null!=e.skipAnimation&&(D=e.skipAnimation),e.createStringInterpolator&&(M=e.createStringInterpolator),e.requestAnimationFrame&&s.use(e.requestAnimationFrame),e.batchedUpdates&&(s.batchedUpdates=e.batchedUpdates),e.willAdvance&&(F=e.willAdvance)}}),U=new Set,G=[],q=[],H=0,W={get idle(){return!U.size&&!G.length},start:function(e){H>e.priority?(U.add(e),s.onStart(Q)):(Y(e),s(Z))},advance:Z,sort:function(e){if(H)s.onFrame((function(){return W.sort(e)}));else{var t=G.indexOf(e);~t&&(G.splice(t,1),J(e))}},clear:function(){G=[],U.clear()}};function Q(){U.forEach(Y),U.clear(),s(Z)}function Y(e){G.includes(e)||J(e)}function J(e){var t,n,r;G.splice((n=function(t){return t.priority>e.priority},(r=(t=G).findIndex(n))<0?t.length:r),0,e)}function Z(e){for(var t=q,n=0;n<G.length;n++){var r=G[n];H=r.priority,r.idle||(F(r),r.advance(e),r.idle||t.push(r))}return H=0,(q=G).length=0,(G=t).length>0}var $={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},X="[-+]?\\d*\\.?\\d+";function ee(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var te=new RegExp("rgb"+ee(X,X,X)),ne=new RegExp("rgba"+ee(X,X,X,X)),re=new RegExp("hsl"+ee(X,"[-+]?\\d*\\.?\\d+%","[-+]?\\d*\\.?\\d+%")),oe=new RegExp("hsla"+ee(X,"[-+]?\\d*\\.?\\d+%","[-+]?\\d*\\.?\\d+%",X)),ae=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ie=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ce=/^#([0-9a-fA-F]{6})$/,le=/^#([0-9a-fA-F]{8})$/;function ue(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function se(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,o=2*n-r,a=ue(o,r,e+1/3),i=ue(o,r,e),c=ue(o,r,e-1/3);return Math.round(255*a)<<24|Math.round(255*i)<<16|Math.round(255*c)<<8}function fe(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function de(e){return(parseFloat(e)%360+360)%360/360}function pe(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function he(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function ve(e){var t,n,r="number"==typeof(t=e)?t>>>0===t&&t>=0&&t<=4294967295?t:null:(n=ce.exec(t))?parseInt(n[1]+"ff",16)>>>0:L&&void 0!==L[t]?L[t]:(n=te.exec(t))?(fe(n[1])<<24|fe(n[2])<<16|fe(n[3])<<8|255)>>>0:(n=ne.exec(t))?(fe(n[1])<<24|fe(n[2])<<16|fe(n[3])<<8|pe(n[4]))>>>0:(n=ae.exec(t))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+"ff",16)>>>0:(n=le.exec(t))?parseInt(n[1],16)>>>0:(n=ie.exec(t))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+n[4]+n[4],16)>>>0:(n=re.exec(t))?(255|se(de(n[1]),he(n[2]),he(n[3])))>>>0:(n=oe.exec(t))?(se(de(n[1]),he(n[2]),he(n[3]))|pe(n[4]))>>>0:null;if(null===r)return e;var o=(16711680&(r=r||0))>>>16,a=(65280&r)>>>8,i=(255&r)/255;return"rgba(".concat((4278190080&r)>>>24,", ").concat(o,", ").concat(a,", ").concat(i,")")}var be=function e(t,n,r){if(T.fun(t))return t;if(T.arr(t))return e({range:t,output:n,extrapolate:r});if(T.str(t.output[0]))return M(t);var o=t,a=o.output,i=o.range||[0,1],c=o.extrapolateLeft||o.extrapolate||"extend",l=o.extrapolateRight||o.extrapolate||"extend",u=o.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,i);return function(e,t,n,r,o,a,i,c,l){var u=l?l(e):e;if(u<t){if("identity"===i)return u;"clamp"===i&&(u=t)}if(u>n){if("identity"===c)return u;"clamp"===c&&(u=n)}if(r===o)return r;if(t===n)return e<=t?r:o;t===-1/0?u=-u:n===1/0?u-=t:u=(u-t)/(n-t);u=a(u),r===-1/0?u=-u:o===1/0?u+=r:u=u*(o-r)+r;return u}(e,i[t],i[t+1],a[t],a[t+1],u,c,l,o.map)}};var me=Symbol.for("FluidValue.get"),ge=Symbol.for("FluidValue.observers"),ye=function(e){return Boolean(e&&e[me])},Oe=function(e){return e&&e[me]?e[me]():e},je=function(e){return e[ge]||null};function Ce(e,t){var n=e[ge];n&&n.forEach((function(e){!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var we=function e(t){if(i()(this,e),!t&&!(t=this.get))throw Error("Unknown getter");ke(this,t)},ke=function(e,t){return Ne(e,me,t)};function xe(e,t){if(e[me]){var n=e[ge];n||Ne(e,ge,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Re(e,t){var n=e[ge];if(n&&n.has(t)){var r=n.size-1;r?n.delete(t):e[ge]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Ee,Ne=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},Se=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Te=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,ze=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Pe=function(e,t,n,r,o){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(o,")")},_e=function(e){Ee||(Ee=L?new RegExp("(".concat(Object.keys(L).join("|"),")"),"g"):/^\b$/);var t=e.output.map((function(e){return Oe(e).replace(Te,ve).replace(Ee,ve)})),n=t.map((function(e){return e.match(Se).map(Number)})),r=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})).map((function(t){return be(Object.assign(Object.assign({},e),{},{output:t}))}));return function(e){var n=0;return t[0].replace(Se,(function(){return String(r[n++](e))})).replace(ze,Pe)}},Ae="react-spring: ",Ie=function(e){var t=e,n=!1;if("function"!=typeof t)throw new TypeError("".concat(Ae,"once requires a function parameter"));return function(){n||(t.apply(void 0,arguments),n=!0)}},Me=Ie(console.warn);function Ve(){Me("".concat(Ae,'The "interpolate" function is deprecated in v9 (use "to" instead)'))}var Be=Ie(console.warn);function Le(){Be("".concat(Ae,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead)'))}function De(e){return T.str(e)&&("#"==e[0]||/\d/.test(e)||e in(L||{}))}var Fe=function(e){return Object(E.useEffect)(e,Ke)},Ke=[];function Ue(){var e=Object(E.useState)()[1],t=Object(E.useState)(Ge)[0];return Fe(t.unmount),function(){t.current&&e({})}}function Ge(){var e={current:!0,unmount:function(){return function(){e.current=!1}}};return e}function qe(e,t){var n=Object(E.useState)((function(){return{inputs:t,result:e()}})),r=o()(n,1)[0],a=Object(E.useRef)(),i=a.current,c=i;c?Boolean(t&&c.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,c.inputs))||(c={inputs:t,result:e()}):c=r;return Object(E.useEffect)((function(){a.current=c,i==r&&(r.inputs=r.result=void 0)}),[c]),c.result}function He(e){var t=Object(E.useRef)();return Object(E.useEffect)((function(){t.current=e})),t.current}var We="undefined"!=typeof window&&window.document&&window.document.createElement?E.useLayoutEffect:E.useEffect},1176:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(27),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M2.224 21.667s4.24-1.825 4.788-2.056C15.029 23.141 22 17.714 22 11.898 22 6.984 17.523 3 12 3S2 6.984 2 11.898c0 1.86.64 3.585 1.737 5.013-.274.833-1.513 4.756-1.513 4.756zm5.943-9.707c.69 0 1.25-.569 1.25-1.271a1.26 1.26 0 0 0-1.25-1.271c-.69 0-1.25.569-1.25 1.27 0 .703.56 1.272 1.25 1.272zm7.583 0c.69 0 1.25-.569 1.25-1.271a1.26 1.26 0 0 0-1.25-1.271c-.69 0-1.25.569-1.25 1.27 0 .703.56 1.272 1.25 1.272z",fillRule:"evenodd"}))};i.defaultProps={name:"WeChat"},t.a=i},1177:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(27),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{fill:"#FB6622",d:"M15.518 3.06c8.834-.854 7.395 7.732 7.394 7.731-.625 1.439-1.673.309-1.673.309.596-7.519-5.692-6.329-5.692-6.329-.898-1.067-.029-1.711-.029-1.711zm4.131 6.985c-.661 1.01-1.377.126-1.376.126.205-3.179-2.396-2.598-2.396-2.598-.719-.765-.091-1.346-.091-1.346 4.882-.551 3.863 3.818 3.863 3.818zM5.317 7.519s4.615-3.86 6.443-1.328c0 0 .662 1.08-.111 2.797.003-.003 3.723-1.96 5.408.159 0 0 .848 1.095-.191 2.649 0 0 2.918-.099 2.918 2.715 0 2.811-4.104 6.44-9.315 6.44-5.214 0-8.026-2.092-8.596-3.102 0 0-3.475-4.495 3.444-10.33zm10.448 7.792s.232-4.411-5.71-4.207c-6.652.231-6.579 4.654-6.579 4.654.021.39.097 3.713 5.842 3.713 5.98 0 6.447-4.16 6.447-4.16zm-9.882.86s-.059-3.632 3.804-3.561c3.412.06 3.206 3.165 3.206 3.165s-.026 2.979-3.684 2.979c-3.288 0-3.326-2.583-3.326-2.583zm2.528 1.037c.672 0 1.212-.447 1.212-.998 0-.551-.543-.998-1.212-.998-.672 0-1.215.447-1.215.998 0 .551.546.998 1.215.998z",fillRule:"evenodd"}))};i.defaultProps={name:"Weibo"},t.a=i},1198:function(e,t,n){var r=n(14);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},1203:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},1218:function(e,t){var n="function"==typeof Float32Array;function r(e,t){return 1-3*t+3*e}function o(e,t){return 3*t-6*e}function a(e){return 3*e}function i(e,t,n){return((r(t,n)*e+o(t,n))*e+a(t))*e}function c(e,t,n){return 3*r(t,n)*e*e+2*o(t,n)*e+a(t)}function l(e){return e}e.exports=function(e,t,r,o){if(!(0<=e&&e<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&r===o)return l;for(var a=n?new Float32Array(11):new Array(11),u=0;u<11;++u)a[u]=i(.1*u,e,r);function s(t){for(var n=0,o=1;10!==o&&a[o]<=t;++o)n+=.1;--o;var l=n+.1*((t-a[o])/(a[o+1]-a[o])),u=c(l,e,r);return u>=.001?function(e,t,n,r){for(var o=0;o<4;++o){var a=c(t,n,r);if(0===a)return t;t-=(i(t,n,r)-e)/a}return t}(t,l,e,r):0===u?l:function(e,t,n,r,o){var a,c,l=0;do{(a=i(c=t+(n-t)/2,r,o)-e)>0?n=c:t=c}while(Math.abs(a)>1e-7&&++l<10);return c}(t,n,n+.1,e,r)}return function(e){return 0===e?0:1===e?1:i(s(e),t,o)}}},1316:function(e,t,n){"use strict";var r=n(0),o=n(3),a=n.n(o),i=n(26),c=n(474);function l(e){var t=e.content,n=e.type,o=e.urlToken,a=Object(i.useDispatch)(),l=Object(r.useCallback)((function(){a(Object(c.a)({content:t,type:n,urlToken:o}))}),[a,t,n,o]),u=Object(i.useSelector)((function(e){return Object(c.c)(e,{type:n,urlToken:o})}));return Object(r.useEffect)((function(){u||l()}),[u,l]),null}l.propTypes={content:a.a.string.isRequired,type:a.a.oneOf(["answer","article"]).isRequired,urlToken:a.a.string.isRequired},t.a=l},1439:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(27),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M14.445 9h5.387s2.997.154 1.95 3.669c-.168.51-2.346 6.911-2.346 6.911s-.763 1.416-2.86 1.416H8.989c-1.498 0-2.005-.896-1.989-2v-7.998c0-.987.336-2.032 1.114-2.639 4.45-3.773 3.436-4.597 4.45-5.83.985-1.13 3.2-.5 3.037 2.362C15.201 7.397 14.445 9 14.445 9zM3 9h2a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V10a1 1 0 0 1 1-1z",fillRule:"evenodd"}))};i.defaultProps={name:"Like"},t.a=i},1447:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1),o=n(61),a=n(44);function i(e){var t=Object(a.e)((function(){return n.e(37).then(n.bind(null,2672))}));return Object(r.b)(o.Box,Object.assign(Object.assign({my:"14px",css:{minHeight:20}},e),{},{children:t?Object(r.b)(t,{width:"70px",height:"20px",css:{display:"block"}}):null}))}},1448:function(e,t,n){"use strict";n.d(t,"useSpring",(function(){return We})),n.d(t,"useTransition",(function(){return Ye}));var r=n(94),o=n.n(r),a=n(53),i=n.n(a),c=n(31),l=n.n(c),u=n(28),s=n.n(u),f=n(39),d=n.n(f),p=n(1002),h=n.n(p),v=n(23),b=n.n(v),m=n(22),g=n.n(m),y=n(25),O=n.n(y),j=n(14),C=n.n(j),w=n(307),k=n.n(w),x=n(40),R=n.n(x),E=n(207),N=n.n(E),S=n(21),T=n.n(S),z=n(1169);n.d(t,"Globals",(function(){return z.b}));var P=n(0),_=n(1668),A=(n(1669),n(1670),["children"]);function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O()(this,n)}}function M(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return z.s.fun(e)?e.apply(void 0,n):e}var L=function(e,t){return!0===e||!!(t&&e&&(z.s.fun(e)?e(t):Object(z.y)(e).includes(t)))},D=function(e,t){return z.s.obj(e)?t&&e[t]:e},F=function(e,t){return!0===e.default?e[t]:e.default?e.default[t]:void 0},K=function(e){return e},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K,n=G;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));var r,o={},a=M(n);try{for(a.s();!(r=a.n()).done;){var i=r.value,c=t(e[i],i);z.s.und(c)||(o[i]=c)}}catch(e){a.e(e)}finally{a.f()}return o},G=["config","onProps","onStart","onChange","onPause","onResume","onRest"],q={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function H(e){var t=function(e){var t={},n=0;if(Object(z.l)(e,(function(e,r){q[r]||(t[r]=e,n++)})),n)return t}(e);if(t){var n={to:t};return Object(z.l)(e,(function(e,r){return r in t||(n[r]=e)})),n}return Object.assign({},e)}function W(e){return e=Object(z.q)(e),z.s.arr(e)?e.map(W):Object(z.t)(e)?z.b.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Q(e){for(var t in e)return!0;return!1}function Y(e){return z.s.fun(e)||z.s.arr(e)&&z.s.obj(e[0])}function J(e,t){var n;null==(n=e.ref)||n.delete(e),null==t||t.delete(e)}function Z(e,t){var n;t&&e.ref!==t&&(null==(n=e.ref)||n.delete(e),t.add(e),e.ref=t)}var $=Object.assign(Object.assign({},{tension:170,friction:26}),{},{mass:1,damping:1,easing:function(e){return e},clamp:!1}),X=function e(){T()(this,e),this.velocity=0,Object.assign(this,$)};function ee(e,t){if(z.s.und(t.decay)){var n=!z.s.und(t.tension)||!z.s.und(t.friction);!n&&z.s.und(t.frequency)&&z.s.und(t.damping)&&z.s.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var te=[],ne=function e(){T()(this,e),this.changed=!1,this.values=te,this.toValues=null,this.fromValues=te,this.config=new X,this.immediate=!1};function re(e,t){var n=t.key,r=t.props,o=t.defaultProps,a=t.state,i=t.actions;return new Promise((function(t,c){var l,u,s,f=L(null!=(l=r.cancel)?l:null==o?void 0:o.cancel,n);if(f)v();else{z.s.und(r.pause)||(a.paused=L(r.pause,n));var d=null==o?void 0:o.pause;!0!==d&&(d=a.paused||L(d,n)),u=B(r.delay||0,n),d?(a.resumeQueue.add(h),i.pause()):(i.resume(),h())}function p(){a.resumeQueue.add(h),a.timeouts.delete(s),s.cancel(),u=s.time-z.w.now()}function h(){u>0?(s=z.w.setTimeout(v,u),a.pauseQueue.add(p),a.timeouts.add(s)):v()}function v(){a.pauseQueue.delete(p),a.timeouts.delete(s),e<=(a.cancelId||0)&&(f=!0);try{i.start(Object.assign(Object.assign({},r),{},{callId:e,cancel:f}),t)}catch(e){c(e)}}}))}var oe=function(e,t){return 1==t.length?t[0]:t.some((function(e){return e.cancelled}))?ce(e.get()):t.every((function(e){return e.noop}))?ae(e.get()):ie(e.get(),t.every((function(e){return e.finished})))},ae=function(e){return{value:e,noop:!0,finished:!0,cancelled:!1}},ie=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{value:e,finished:t,cancelled:n}},ce=function(e){return{value:e,cancelled:!0,finished:!1}};function le(e,t,n,r){var o=t.callId,a=t.parentId,i=t.onRest,c=n.asyncTo,l=n.promise;return a||e!==c||t.reset?n.promise=N()(R.a.mark((function u(){var s,f,d,p,h,v,b,m;return R.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(n.asyncId=o,n.asyncTo=e,s=U(t,(function(e,t){return"onRest"===t?void 0:e})),p=new Promise((function(e,t){return f=e,d=t})),h=function(e){var t=o<=(n.cancelId||0)&&ce(r)||o!==n.asyncId&&ie(r,!1);if(t)throw e.result=t,d(e),e},v=function(e,t){var a=new se,i=new fe;return N()(R.a.mark((function c(){var l,u;return R.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!z.b.skipAnimation){c.next=5;break}throw ue(n),i.result=ie(r,!1),d(i),i;case 5:return h(a),(l=z.s.obj(e)?Object.assign({},e):Object.assign(Object.assign({},t),{},{to:e})).parentId=o,Object(z.l)(s,(function(e,t){z.s.und(l[t])&&(l[t]=e)})),c.next=11,r.start(l);case 11:if(u=c.sent,h(a),!n.paused){c.next=16;break}return c.next=16,new Promise((function(e){n.resumeQueue.add(e)}));case 16:return c.abrupt("return",u);case 17:case"end":return c.stop()}}),c)})))()},!z.b.skipAnimation){u.next=9;break}return ue(n),u.abrupt("return",ie(r,!1));case 9:return u.prev=9,m=z.s.arr(e)?function(){var e=N()(R.a.mark((function e(t){var n,r,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=M(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return o=r.value,e.next=7,v(o);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()(e):Promise.resolve(e(v,r.stop.bind(r))),u.next=13,Promise.all([m.then(f),p]);case 13:b=ie(r.get(),!0,!1),u.next=27;break;case 16:if(u.prev=16,u.t0=u.catch(9),!(u.t0 instanceof se)){u.next=22;break}b=u.t0.result,u.next=27;break;case 22:if(!(u.t0 instanceof fe)){u.next=26;break}b=u.t0.result,u.next=27;break;case 26:throw u.t0;case 27:return u.prev=27,o==n.asyncId&&(n.asyncId=a,n.asyncTo=a?c:void 0,n.promise=a?l:void 0),u.finish(27);case 30:return z.s.fun(i)&&z.w.batchedUpdates((function(){i(b,r,r.item)})),u.abrupt("return",b);case 32:case"end":return u.stop()}}),u,null,[[9,16,27,30]])})))():l}function ue(e,t){Object(z.m)(e.timeouts,(function(e){return e.cancel()})),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var se=function(e){g()(n,e);var t=I(n);function n(){return T()(this,n),t.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}return n}(k()(Error)),fe=function(e){g()(n,e);var t=I(n);function n(){return T()(this,n),t.call(this,"SkipAnimationSignal")}return n}(k()(Error)),de=function(e){return e instanceof he},pe=1,he=function(e){g()(n,e);var t=I(n);function n(){var e;return T()(this,n),(e=t.apply(this,arguments)).id=pe++,e._priority=0,e}return b()(n,[{key:"priority",get:function(){return this._priority},set:function(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}},{key:"get",value:function(){var e=Object(_.e)(this);return e&&e.getValue()}},{key:"to",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return z.b.to(this,t)}},{key:"interpolate",value:function(){Object(z.j)();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return z.b.to(this,t)}},{key:"toJSON",value:function(){return this.get()}},{key:"observerAdded",value:function(e){1==e&&this._attach()}},{key:"observerRemoved",value:function(e){0==e&&this._detach()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(z.d)(this,{type:"change",parent:this,value:e,idle:t})}},{key:"_onPriorityChange",value:function(e){this.idle||z.o.sort(this),Object(z.d)(this,{type:"priority",parent:this,priority:e})}}]),n}(z.a),ve=Symbol.for("SpringPhase"),be=function(e){return(1&e[ve])>0},me=function(e){return(2&e[ve])>0},ge=function(e){return(4&e[ve])>0},ye=function(e,t){return t?e[ve]|=3:e[ve]&=-3},Oe=function(e,t){return t?e[ve]|=4:e[ve]&=-5},je=function(e){g()(n,e);var t=I(n);function n(e,r){var o;if(T()(this,n),(o=t.call(this)).animation=new ne,o.defaultProps={},o._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},o._pendingCalls=new Set,o._lastCallId=0,o._lastToId=0,o._memoizedDuration=0,!z.s.und(e)||!z.s.und(r)){var a=z.s.obj(e)?Object.assign({},e):Object.assign(Object.assign({},r),{},{from:e});z.s.und(a.default)&&(a.default=!0),o.start(a)}return o}return b()(n,[{key:"idle",get:function(){return!(me(this)||this._state.asyncTo)||ge(this)}},{key:"goal",get:function(){return Object(z.q)(this.animation.to)}},{key:"velocity",get:function(){var e=Object(_.e)(this);return e instanceof _.c?e.lastVelocity||0:e.getPayload().map((function(e){return e.lastVelocity||0}))}},{key:"hasAnimated",get:function(){return be(this)}},{key:"isAnimating",get:function(){return me(this)}},{key:"isPaused",get:function(){return ge(this)}},{key:"advance",value:function(e){var t=this,n=!0,r=!1,o=this.animation,a=o.config,i=o.toValues,c=Object(_.g)(o.to);!c&&Object(z.r)(o.to)&&(i=Object(z.y)(Object(z.q)(o.to))),o.values.forEach((function(l,u){if(!l.done){var s=l.constructor==_.b?1:c?c[u].lastPosition:i[u],f=o.immediate,d=s;if(!f){if(d=l.lastPosition,a.tension<=0)return void(l.done=!0);var p,h=l.elapsedTime+=e,v=o.fromValues[u],b=null!=l.v0?l.v0:l.v0=z.s.arr(a.velocity)?a.velocity[u]:a.velocity;if(z.s.und(a.duration))if(a.decay){var m=!0===a.decay?.998:a.decay,g=Math.exp(-(1-m)*h);d=v+b/(1-m)*(1-g),f=Math.abs(l.lastPosition-d)<.1,p=b*g}else{p=null==l.lastVelocity?b:l.lastVelocity;for(var y=a.precision||(v==s?.005:Math.min(1,.001*Math.abs(s-v))),O=a.restVelocity||y/10,j=a.clamp?0:a.bounce,C=!z.s.und(j),w=v==s?l.v0>0:v<s,k=Math.ceil(e/1),x=0;x<k&&(Math.abs(p)>O||!(f=Math.abs(s-d)<=y));++x){C&&(d==s||d>s==w)&&(p=-p*j,d=s),d+=1*(p+=1*((1e-6*-a.tension*(d-s)+.001*-a.friction*p)/a.mass))}}else{var R=1;a.duration>0&&(t._memoizedDuration!==a.duration&&(t._memoizedDuration=a.duration,l.durationProgress>0&&(l.elapsedTime=a.duration*l.durationProgress,h=l.elapsedTime+=e)),R=(R=(a.progress||0)+h/t._memoizedDuration)>1?1:R<0?0:R,l.durationProgress=R),p=((d=v+a.easing(R)*(s-v))-l.lastPosition)/e,f=1==R}l.lastVelocity=p,Number.isNaN(d)&&(console.warn("Got NaN while animating:",t),f=!0)}c&&!c[u].done&&(f=!1),f?l.done=!0:n=!1,l.setValue(d,a.round)&&(r=!0)}}));var l=Object(_.e)(this);if(n){var u=Object(z.q)(o.to);(l.setValue(u)||r)&&this._onChange(u),this._stop()}else r&&this._onChange(l.getValue())}},{key:"set",value:function(e){var t=this;return z.w.batchedUpdates((function(){t._stop(),t._focus(e),t._set(e)})),this}},{key:"pause",value:function(){this._update({pause:!0})}},{key:"resume",value:function(){this._update({pause:!1})}},{key:"finish",value:function(){var e=this;if(me(this)){var t=this.animation,n=t.to,r=t.config;z.w.batchedUpdates((function(){e._onStart(),r.decay||e._set(n,!1),e._stop()}))}return this}},{key:"update",value:function(e){return(this.queue||(this.queue=[])).push(e),this}},{key:"start",value:function(e,t){var n,r=this;return z.s.und(e)?(n=this.queue||[],this.queue=[]):n=[z.s.obj(e)?e:Object.assign(Object.assign({},t),{},{to:e})],Promise.all(n.map((function(e){return r._update(e)}))).then((function(e){return oe(r,e)}))}},{key:"stop",value:function(e){var t=this,n=this.animation.to;return this._focus(this.get()),ue(this._state,e&&this._lastCallId),z.w.batchedUpdates((function(){return t._stop(n,e)})),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"eventObserved",value:function(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}},{key:"_prepareNode",value:function(e){var t=this.key||"",n=e.to,r=e.from;(null==(n=z.s.obj(n)?n[t]:n)||Y(n))&&(n=void 0),null==(r=z.s.obj(r)?r[t]:r)&&(r=void 0);var o={to:n,from:r};if(!be(this)){if(e.reverse){var a=[r,n];n=a[0],r=a[1]}r=Object(z.q)(r),z.s.und(r)?Object(_.e)(this)||this._set(n):this._set(r)}return o}},{key:"_update",value:function(e,t){var n=this,r=d()({},e),o=this.key,a=this.defaultProps;r.default&&Object.assign(a,U(r,(function(e,t){return/^on/.test(t)?D(e,o):e}))),Ne(this,r,"onProps"),Se(this,"onProps",r,this);var i=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");var c=this._state;return re(++this._lastCallId,{key:o,props:r,defaultProps:a,state:c,actions:{pause:function(){ge(n)||(Oe(n,!0),Object(z.n)(c.pauseQueue),Se(n,"onPause",ie(n,Ce(n,n.animation.to)),n))},resume:function(){ge(n)&&(Oe(n,!1),me(n)&&n._resume(),Object(z.n)(c.resumeQueue),Se(n,"onResume",ie(n,Ce(n,n.animation.to)),n))},start:this._merge.bind(this,i)}}).then((function(e){if(r.loop&&e.finished&&(!t||!e.noop)){var o=we(r);if(o)return n._update(o,!0)}return e}))}},{key:"_merge",value:function(e,t,n){var r=this;if(t.cancel)return this.stop(!0),n(ce(this));var o=!z.s.und(e.to),a=!z.s.und(e.from);if(o||a){if(!(t.callId>this._lastToId))return n(ce(this));this._lastToId=t.callId}var i=this.key,c=this.defaultProps,l=this.animation,u=l.to,s=l.from,f=e.to,d=void 0===f?u:f,p=e.from,h=void 0===p?s:p;if(!a||o||t.default&&!z.s.und(d)||(d=h),t.reverse){var v=[h,d];d=v[0],h=v[1]}var b=!Object(z.u)(h,s);b&&(l.from=h),h=Object(z.q)(h);var m=!Object(z.u)(d,u);m&&this._focus(d);var g=Y(t.to),y=l.config,O=y.decay,j=y.velocity;(o||a)&&(y.velocity=0),t.config&&!g&&function(e,t,n){for(var r in n&&(ee(n=Object.assign({},n),t),t=Object.assign(Object.assign({},n),t)),ee(e,t),Object.assign(e,t),$)null==e[r]&&(e[r]=$[r]);var o=e.mass,a=e.frequency,i=e.damping;z.s.und(a)||(a<.01&&(a=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/a,2)*o,e.friction=4*Math.PI*i*o/a)}(y,B(t.config,i),t.config!==c.config?B(c.config,i):void 0);var C=Object(_.e)(this);if(!C||z.s.und(d))return n(ie(this,!0));var w=z.s.und(t.reset)?a&&!t.default:!z.s.und(h)&&L(t.reset,i),k=w?h:this.get(),x=W(d),R=z.s.num(x)||z.s.arr(x)||Object(z.t)(x),E=!g&&(!R||L(c.immediate||t.immediate,i));if(m){var N=Object(_.f)(d);if(N!==C.constructor){if(!E)throw Error("Cannot animate between ".concat(C.constructor.name," and ").concat(N.name,', as the "to" prop suggests'));C=this._set(x)}}var S=C.constructor,T=Object(z.r)(d),P=!1;if(!T){var A=w||!be(this)&&b;(m||A)&&(T=!(P=Object(z.u)(W(k),x))),Object(z.u)(y.decay,O)&&Object(z.u)(y.velocity,j)||(T=!0)}if(P&&me(this)&&(l.changed&&!w?T=!0:T||this._stop(u)),!g&&((T||Object(z.r)(u))&&(l.values=C.getPayload(),l.toValues=Object(z.r)(d)?null:S==_.b?[1]:Object(z.y)(x)),l.immediate!=E&&(l.immediate=E,E||w||this._set(u)),T)){var I=l.onRest;Object(z.k)(Ee,(function(e){return Ne(r,t,e)}));var M=ie(this,Ce(this,u));Object(z.n)(this._pendingCalls,M),this._pendingCalls.add(n),l.changed&&z.w.batchedUpdates((function(){var e;l.changed=!w,null==I||I(M,r),w?B(c.onRest,M):null==(e=l.onStart)||e.call(l,M,r)}))}w&&this._set(k),g?n(le(t.to,t,this._state,this)):T?this._start():me(this)&&!m?this._pendingCalls.add(n):n(ae(k))}},{key:"_focus",value:function(e){var t=this.animation;e!==t.to&&(Object(z.p)(this)&&this._detach(),t.to=e,Object(z.p)(this)&&this._attach())}},{key:"_attach",value:function(){var e=0,t=this.animation.to;Object(z.r)(t)&&(Object(z.c)(t,this),de(t)&&(e=t.priority+1)),this.priority=e}},{key:"_detach",value:function(){var e=this.animation.to;Object(z.r)(e)&&Object(z.x)(e,this)}},{key:"_set",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=Object(z.q)(e);if(!z.s.und(r)){var o=Object(_.e)(this);if(!o||!Object(z.u)(r,o.getValue())){var a=Object(_.f)(r);o&&o.constructor==a?o.setValue(r):Object(_.h)(this,a.create(r)),o&&z.w.batchedUpdates((function(){t._onChange(r,n)}))}}return Object(_.e)(this)}},{key:"_onStart",value:function(){var e=this.animation;e.changed||(e.changed=!0,Se(this,"onStart",ie(this,Ce(this,e.to)),this))}},{key:"_onChange",value:function(e,t){t||(this._onStart(),B(this.animation.onChange,e,this)),B(this.defaultProps.onChange,e,this),h()(C()(n.prototype),"_onChange",this).call(this,e,t)}},{key:"_start",value:function(){var e=this.animation;Object(_.e)(this).reset(Object(z.q)(e.to)),e.immediate||(e.fromValues=e.values.map((function(e){return e.lastPosition}))),me(this)||(ye(this,!0),ge(this)||this._resume())}},{key:"_resume",value:function(){z.b.skipAnimation?this.finish():z.o.start(this)}},{key:"_stop",value:function(e,t){if(me(this)){ye(this,!1);var n=this.animation;Object(z.k)(n.values,(function(e){e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Object(z.d)(this,{type:"idle",parent:this});var r=t?ce(this.get()):ie(this.get(),Ce(this,null!=e?e:n.to));Object(z.n)(this._pendingCalls,r),n.changed&&(n.changed=!1,Se(this,"onRest",r,this))}}}]),n}(he);function Ce(e,t){var n=W(t),r=W(e.get());return Object(z.u)(r,n)}function we(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,r=B(t);if(r){var o=!0!==r&&H(r),a=(o||e).reverse,i=!o||o.reset;return ke(Object.assign(Object.assign({},e),{},{loop:t,default:!1,pause:void 0,to:!a||Y(n)?n:void 0,from:i?e.from:void 0,reset:i},o))}}function ke(e){var t=e=H(e),n=t.to,r=t.from,o=new Set;return z.s.obj(n)&&Re(n,o),z.s.obj(r)&&Re(r,o),e.keys=o.size?Array.from(o):null,e}function xe(e){var t=ke(e);return z.s.und(t.default)&&(t.default=U(t)),t}function Re(e,t){Object(z.l)(e,(function(e,n){return null!=e&&t.add(n)}))}var Ee=["onStart","onRest","onChange","onPause","onResume"];function Ne(e,t,n){e.animation[n]=t[n]!==F(t,n)?D(t[n],e.key):void 0}function Se(e,t){for(var n,r,o,a,i,c,l=arguments.length,u=new Array(l>2?l-2:0),s=2;s<l;s++)u[s-2]=arguments[s];null==(a=(o=e.animation)[t])||(n=a).call.apply(n,[o].concat(u)),null==(c=(i=e.defaultProps)[t])||(r=c).call.apply(r,[i].concat(u))}var Te=["onStart","onChange","onRest"],ze=1,Pe=function(){function e(t,n){T()(this,e),this.id=ze++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(Object.assign({default:!0},t))}return b()(e,[{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(e){return e.idle}))}},{key:"item",get:function(){return this._item},set:function(e){this._item=e}},{key:"get",value:function(){var e={};return this.each((function(t,n){return e[n]=t.get()})),e}},{key:"set",value:function(e){for(var t in e){var n=e[t];z.s.und(n)||this.springs[t].set(n)}}},{key:"update",value:function(e){return e&&this.queue.push(ke(e)),this}},{key:"start",value:function(e){var t=this.queue;return e?t=Object(z.y)(e).map(ke):this.queue=[],this._flush?this._flush(this,t):(De(this,t),_e(this,t))}},{key:"stop",value:function(e,t){if(e!==!!e&&(t=e),t){var n=this.springs;Object(z.k)(Object(z.y)(t),(function(t){return n[t].stop(!!e)}))}else ue(this._state,this._lastAsyncId),this.each((function(t){return t.stop(!!e)}));return this}},{key:"pause",value:function(e){if(z.s.und(e))this.start({pause:!0});else{var t=this.springs;Object(z.k)(Object(z.y)(e),(function(e){return t[e].pause()}))}return this}},{key:"resume",value:function(e){if(z.s.und(e))this.start({pause:!1});else{var t=this.springs;Object(z.k)(Object(z.y)(e),(function(e){return t[e].resume()}))}return this}},{key:"each",value:function(e){Object(z.l)(this.springs,e)}},{key:"_onFrame",value:function(){var e=this,t=this._events,n=t.onStart,r=t.onChange,o=t.onRest,a=this._active.size>0,i=this._changed.size>0;(a&&!this._started||i&&!this._started)&&(this._started=!0,Object(z.m)(n,(function(t){var n=s()(t,2),r=n[0],o=n[1];o.value=e.get(),r(o,e,e._item)})));var c=!a&&this._started,l=i||c&&o.size?this.get():null;i&&r.size&&Object(z.m)(r,(function(t){var n=s()(t,2),r=n[0],o=n[1];o.value=l,r(o,e,e._item)})),c&&(this._started=!1,Object(z.m)(o,(function(t){var n=s()(t,2),r=n[0],o=n[1];o.value=l,r(o,e,e._item)})))}},{key:"eventObserved",value:function(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}z.w.onFrame(this._onFrame)}}]),e}();function _e(e,t){return Promise.all(t.map((function(t){return Ae(e,t)}))).then((function(t){return oe(e,t)}))}function Ae(e,t,n){return Ie.apply(this,arguments)}function Ie(){return(Ie=N()(R.a.mark((function e(t,n,r){var o,a,i,c,l,u,s,f,d,p,h,v,b;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.keys,a=n.to,i=n.from,c=n.loop,l=n.onRest,u=n.onResolve,s=z.s.obj(n.default)&&n.default,c&&(n.loop=!1),!1===a&&(n.to=null),!1===i&&(n.from=null),(f=z.s.arr(a)||z.s.fun(a)?a:void 0)?(n.to=void 0,n.onRest=void 0,s&&(s.onRest=void 0)):Object(z.k)(Te,(function(e){var r=n[e];if(z.s.fun(r)){var o=t._events[e];n[e]=function(e){var t=e.finished,n=e.cancelled,a=o.get(r);a?(t||(a.finished=!1),n&&(a.cancelled=!0)):o.set(r,{value:null,finished:t||!1,cancelled:n||!1})},s&&(s[e]=n[e])}})),d=t._state,n.pause===!d.paused?(d.paused=n.pause,Object(z.n)(n.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(n.pause=!0),p=(o||Object.keys(t.springs)).map((function(e){return t.springs[e].start(n)})),h=!0===n.cancel||!0===F(n,"cancel"),(f||h&&d.asyncId)&&p.push(re(++t._lastAsyncId,{props:n,state:d,actions:{pause:z.v,resume:z.v,start:function(e,n){h?(ue(d,t._lastAsyncId),n(ce(t))):(e.onRest=l,n(le(f,e,d,t)))}}})),!d.paused){e.next=15;break}return e.next=15,new Promise((function(e){d.resumeQueue.add(e)}));case 15:return e.t0=oe,e.t1=t,e.next=19,Promise.all(p);case 19:if(e.t2=e.sent,v=(0,e.t0)(e.t1,e.t2),!c||!v.finished||r&&v.noop){e.next=26;break}if(!(b=we(n,c,a))){e.next=26;break}return De(t,[b]),e.abrupt("return",Ae(t,b,!0));case 26:return u&&z.w.batchedUpdates((function(){return u(v,t,t.item)})),e.abrupt("return",v);case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(e,t){var n=Object.assign({},e.springs);return t&&Object(z.k)(Object(z.y)(t),(function(e){z.s.und(e.keys)&&(e=ke(e)),z.s.obj(e.to)||(e=Object.assign(Object.assign({},e),{},{to:void 0})),Le(n,e,(function(e){return Be(e)}))})),n}function Ve(e,t){Object(z.l)(t,(function(t,n){e.springs[n]||(e.springs[n]=t,Object(z.c)(t,e))}))}function Be(e,t){var n=new je;return n.key=e,t&&Object(z.c)(n,t),n}function Le(e,t,n){t.keys&&Object(z.k)(t.keys,(function(r){(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function De(e,t){Object(z.k)(t,(function(t){Le(e.springs,t,(function(t){return Be(t,e)}))}))}var Fe,Ke,Ue=function(e){var t=e.children,n=l()(e,A),r=Object(P.useContext)(Ge),o=n.pause||!!r.pause,a=n.immediate||!!r.immediate;n=Object(z.B)((function(){return{pause:o,immediate:a}}),[o,a]);var i=Ge.Provider;return Object(P.createElement)(i,{value:n},t)},Ge=(Fe=Ue,Ke={},Object.assign(Fe,Object(P.createContext)(Ke)),Fe.Provider._context=Fe,Fe.Consumer._context=Fe,Fe);Ue.Provider=Ge.Provider,Ue.Consumer=Ge.Consumer;var qe=function(e){g()(n,e);var t=I(n);function n(){var e;return T()(this,n),(e=t.call(this,"return arguments.callee._call.apply(arguments.callee, arguments)")).current=[],e}return b()(n,[{key:"_call",value:function(e){Object(z.i)(),this.start(e)}},{key:"set",value:function(e){Object(z.k)(this.current,(function(t){return t.set(e)}))}},{key:"start",value:function(e){var t=this,n=[];return Object(z.k)(this.current,(function(r,o){if(z.s.und(e))n.push(r.start());else{var a=t._getProps(e,r,o);a&&n.push(r.start(a))}})),n}},{key:"update",value:function(e){var t=this;return Object(z.k)(this.current,(function(n,r){return n.update(t._getProps(e,n,r))})),this}},{key:"add",value:function(e){this.current.includes(e)||this.current.push(e)}},{key:"delete",value:function(e){var t=this.current.indexOf(e);~t&&this.current.splice(t,1)}},{key:"_getProps",value:function(e,t,n){return z.s.fun(e)?e(n,t):e}}]),n}(k()(Function));function He(e,t,n){var r=arguments,o=z.s.fun(t)&&t;o&&!n&&(n=[]);var a=Object(P.useMemo)((function(){return o||3==r.length?new qe:void 0}),[]),c=Object(P.useRef)(0),l=Object(z.z)(),u=Object(P.useMemo)((function(){return{ctrls:[],queue:[],flush:function(e,t){var n=Me(e,t);return c.current>0&&!u.queue.length&&!Object.keys(n).some((function(t){return!e.springs[t]}))?_e(e,t):new Promise((function(r){Ve(e,n),u.queue.push((function(){r(_e(e,t))})),l()}))}}}),[]),s=i()(u.ctrls),f=[],d=Object(z.D)(e)||0,p=s.slice(e,d);function h(e,n){for(var r=e;r<n;r++){var a=s[r]||(s[r]=new Pe(null,u.flush)),i=o?o(r,a):t[r];i&&(f[r]=xe(i))}}Object(P.useMemo)((function(){s.length=e,h(d,e)}),[e]),Object(P.useMemo)((function(){h(0,Math.min(d,e))}),n);var v=s.map((function(e,t){return Me(e,f[t])})),b=Object(P.useContext)(Ue),m=Object(z.D)(b),g=b!==m&&Q(b);Object(z.A)((function(){c.current++,u.ctrls=s;var e=u.queue;e.length&&(u.queue=[],Object(z.k)(e,(function(e){return e()}))),Object(z.k)(p,(function(e){J(e,a),e.stop(!0)})),Object(z.k)(s,(function(e,t){Ve(e,v[t]),null==a||a.add(e),g&&e.start({default:b});var n=f[t];n&&(Z(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),Object(z.C)((function(){return function(){Object(z.k)(u.ctrls,(function(e){return e.stop(!0)}))}}));var y=v.map((function(e){return Object.assign({},e)}));return a?[y,a]:y}function We(e,t){var n=z.s.fun(e),r=He(1,n?e:[e],n?t||[]:t),o=s()(r,2),a=s()(o[0],1),i=a[0],c=o[1];return n||2==arguments.length?[i,c]:i}Object(z.k)(["stop","pause","resume"],(function(e){qe.prototype[e]=function(){var t=arguments;return Object(z.k)(this.current,(function(n){return n[e].apply(n,i()(t))})),this}}));var Qe="enter";function Ye(e,t,n){var r=arguments,o=t.reset,a=t.sort,i=t.trail,c=void 0===i?0:i,l=t.expires,u=void 0===l||l,s=t.onDestroyed,f=Object(P.useMemo)((function(){return 3==r.length?new qe:void 0}),[]),d=Object(z.y)(e),p=[],h=Object(P.useRef)(null),v=o?null:h.current;Object(z.A)((function(){h.current=p})),Object(z.C)((function(){return function(){return Object(z.k)(h.current,(function(e){e.expired&&clearTimeout(e.expirationId),J(e.ctrl,f),e.ctrl.stop(!0)}))}}));var b=Ze(d,t,v),m=o&&h.current||[];Object(z.A)((function(){return Object(z.k)(m,(function(e){var t=e.ctrl,n=e.item,r=e.key;J(t,f),B(s,n,r)}))}));var g=[];if(v&&Object(z.k)(v,(function(e,t){e.expired?(clearTimeout(e.expirationId),m.push(e)):~(t=g[t]=b.indexOf(e.key))&&(p[t]=e)})),Object(z.k)(d,(function(e,t){p[t]||(p[t]={key:b[t],item:e,phase:"mount",ctrl:new Pe},p[t].ctrl.item=e)})),g.length){var y=-1;Object(z.k)(g,(function(e,n){var r=v[n];~e?(y=p.indexOf(r),p[y]=Object.assign(Object.assign({},r),{},{item:d[e]})):t.leave&&p.splice(++y,0,r)}))}z.s.fun(a)&&p.sort((function(e,t){return a(e.item,t.item)}));var O=-c,j=Object(z.z)(),C=U(t),w=new Map;Object(z.k)(p,(function(e,n){var r,o,a=e.key,i=e.phase;if("mount"==i)r=t.enter,o=Qe;else{var l=b.indexOf(a)<0;if("leave"!=i)if(l)r=t.leave,o="leave";else{if(!(r=t.update))return;o="update"}else{if(l)return;r=t.enter,o=Qe}}if(r=B(r,e.item,n),!(r=z.s.obj(r)?H(r):{to:r}).config){var s=t.config||C.config;r.config=B(s,e.item,n,o)}var f=Object.assign(Object.assign({},C),{},{delay:O+=c,reset:!1},r);if(o==Qe&&z.s.und(f.from)){var d=z.s.und(t.initial)||v?t.from:t.initial;f.from=B(d,e.item,n)}var p=f.onResolve;f.onResolve=function(e){B(p,e);var t=h.current,n=t.find((function(e){return e.key===a}));if(n&&(!e.cancelled||"update"==n.phase)&&n.ctrl.idle){var r=t.every((function(e){return e.ctrl.idle}));if("leave"==n.phase){var o=B(u,n.item);if(!1!==o){var i=!0===o?0:o;if(n.expired=!0,!r&&i>0)return void(i<=2147483647&&(n.expirationId=setTimeout(j,i)))}}r&&t.some((function(e){return e.expired}))&&j()}};var m=Me(e.ctrl,f);w.set(e,{phase:o,springs:m,payload:f})}));var k=Object(P.useContext)(Ue),x=Object(z.D)(k),R=k!==x&&Q(k);Object(z.A)((function(){R&&Object(z.k)(p,(function(e){e.ctrl.start({default:k})}))}),[k]),Object(z.A)((function(){Object(z.k)(w,(function(e,t){var n=e.phase,r=e.springs,o=e.payload,a=t.ctrl;t.phase=n,null==f||f.add(a),Z(a,o.ref),Ve(a,r),R&&n==Qe&&a.start({default:k}),a[a.ref?"update":"start"](o)}))}),o?void 0:n);var E=function(e){return Object(P.createElement)(P.Fragment,null,p.map((function(t,n){var r=(w.get(t)||t.ctrl).springs,o=e(Object.assign({},r),t.item,t,n);return o&&o.type?Object(P.createElement)(o.type,Object.assign(Object.assign({},o.props),{},{key:z.s.str(t.key)||z.s.num(t.key)?t.key:t.ctrl.id,ref:o.ref})):o})))};return f?[E,f]:E}var Je=1;function Ze(e,t,n){var r=t.key,o=t.keys,a=void 0===o?r:o;if(null===a){var i=new Set;return e.map((function(e){var t=n&&n.find((function(t){return t.item===e&&"leave"!==t.phase&&!i.has(t)}));return t?(i.add(t),t.key):Je++}))}return z.s.und(a)?e:z.s.fun(a)?e.map(a):Object(z.y)(a)}var $e=function(e){g()(n,e);var t=I(n);function n(e,r){var a;T()(this,n),(a=t.call(this)).source=e,a.idle=!0,a._active=new Set,a.calc=z.f.apply(void 0,i()(r));var c=a._get(),l=Object(_.f)(c);return Object(_.h)(o()(a),l.create(c)),a}return b()(n,[{key:"advance",value:function(e){var t=this._get(),n=this.get();Object(z.u)(t,n)||(Object(_.e)(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&et(this._active)&&tt(this)}},{key:"_get",value:function(){var e=z.s.arr(this.source)?this.source.map(z.q):Object(z.y)(Object(z.q)(this.source));return this.calc.apply(this,i()(e))}},{key:"_start",value:function(){var e=this;this.idle&&!et(this._active)&&(this.idle=!1,Object(z.k)(Object(_.g)(this),(function(e){e.done=!1})),z.b.skipAnimation?(z.w.batchedUpdates((function(){return e.advance()})),tt(this)):z.o.start(this))}},{key:"_attach",value:function(){var e=this,t=1;Object(z.k)(Object(z.y)(this.source),(function(n){Object(z.r)(n)&&Object(z.c)(n,e),de(n)&&(n.idle||e._active.add(n),t=Math.max(t,n.priority+1))})),this.priority=t,this._start()}},{key:"_detach",value:function(){var e=this;Object(z.k)(Object(z.y)(this.source),(function(t){Object(z.r)(t)&&Object(z.x)(t,e)})),this._active.clear(),tt(this)}},{key:"eventObserved",value:function(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=Object(z.y)(this.source).reduce((function(e,t){return Math.max(e,(de(t)?t.priority:0)+1)}),0))}}]),n}(he);function Xe(e){return!1!==e.idle}function et(e){return!e.size||Array.from(e).every(Xe)}function tt(e){e.idle||(e.idle=!0,Object(z.k)(Object(_.g)(e),(function(e){e.done=!0})),Object(z.d)(e,{type:"idle",parent:e}))}z.b.assign({createStringInterpolator:z.g,to:function(e,t){return new $e(e,t)}});z.o.advance},1552:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(27),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M2 8.437C2 5.505 4.294 3.094 7.207 3 9.243 3 11.092 4.19 12 6c.823-1.758 2.649-3 4.651-3C19.545 3 22 5.507 22 8.432 22 16.24 13.842 21 12 21 10.158 21 2 16.24 2 8.437z",fillRule:"evenodd"}))};i.defaultProps={name:"Heart"},t.a=i},1598:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(27),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(e){return o.a.createElement(a.a,i({fill:"currentColor"},e),o.a.createElement("path",{d:"M12.75 6a.25.25 0 0 1 .25.25v4.969a.5.5 0 0 0 .213.41l4.156 2.908a.25.25 0 0 1 .061.349l-.86 1.228a.25.25 0 0 1-.348.062l-5.009-3.506a.5.5 0 0 1-.213-.41V6.25a.25.25 0 0 1 .25-.25h1.5z"}),o.a.createElement("path",{d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm0 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16z",fillRule:"evenodd",clipRule:"evenodd"}))};c.defaultProps={name:"Time"},t.a=c},1647:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(27),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M20.044 3H3.956C2.876 3 2 3.517 2 4.9c0 .326.087.533.236.896L10.216 19c.355.571.87 1.143 1.784 1.143s1.429-.572 1.784-1.143l7.98-13.204c.149-.363.236-.57.236-.896 0-1.386-.876-1.9-1.956-1.9z",fillRule:"evenodd"}))};i.defaultProps={name:"TriangleDown"},t.a=i},1650:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1),o=n(61),a=n(83),i=function(e){var t=Object(a.f)();return Object(r.b)(o.Flex,Object.assign(Object.assign({width:"58px",height:"20px",bg:Object(a.b)(t.colors.GYL01A).alpha(.08),color:t.colors.GYL01A,alignItems:"center",justifyContent:"center",css:{fontWeight:"normal",fontSize:12,borderRadius:4,overflow:"hidden"}},e),{},{children:"联合创作"}))}},1651:function(e,t){},1652:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(1),o=n(44),a=n(181),i=function(e){var t=e.zvideo,n=t.id,r=t.imageUrl,o=t.author,a=t.video,i=t.playCount,c=t.voteupCount,l=e.stats,u=l.memberCount,s=l.count;return{zvideoId:n,thumbnail:r,duration:a.duration,avatarUrl:o.avatarUrl,userName:o.name,memberCount:u,videoCount:s,playCount:i,voteupCount:c}};function c(e){var t=e.coCreationRefBy,a=e.referenceRefBy,c=e.type,l=Boolean(t),u=!l&&Boolean(a),s=Object(o.e)((function(){return n.e(40).then(n.bind(null,2701))}));if(l){if(s){var f=i(t),d=f.zvideoId,p=f.thumbnail,h=f.duration,v=f.avatarUrl,b=f.userName,m=f.memberCount,g=f.videoCount,y=f.playCount,O=f.voteupCount;return Object(r.b)(s.CoCreationCard,{zaContentId:d,thumbnail:p,duration:h,avatarUrl:v,userName:b,isMultiMember:m>1,videoCount:g,playCount:y,voteupCount:O,linkToNativePage:!1,linkUrl:"https://www.zhihu.com/zvideo/".concat(d),showSingleVideoUI:!0})}return Object(r.b)("div",{css:{height:82}})}if(u){if(s){var j=i(a),C=j.zvideoId,w=j.avatarUrl,k=j.userName,x=j.memberCount;return Object(r.b)(s.ReferenceCard,{type:c,zaContentId:C,avatarUrl:w,userName:k,isMultiMember:x>1,linkToNativePage:!1,linkUrl:"https://www.zhihu.com/zvideo/".concat(C),showSingleVideoUI:!0})}return Object(r.b)("div",{css:{height:44}})}return null}function l(e){return Object(r.b)(a.a,{replacement:null,children:Object(r.b)(c,Object.assign({},e))})}},1653:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(1),o=n(61),a=n(915),i=n(1109),c=function(e){var t=e.mainAuthor,n=e.subAuthor,i=function(e){return"plain"===e||"special-plain"===e}(e.preset);return Object(r.c)(o.Flex,{mt:"10px",children:[Object(r.b)(a.a,Object.assign(Object.assign({},i&&{preset:"plain"}),{},{author:t,coCreationAuthorDescriptionText:"视频作者",userLinkV2:!0,noBadge:!0,noVipBadge:!0,showVipIcon:!1,css:{marginRight:i?16:30}})),Object(r.b)(a.a,Object.assign(Object.assign({},i&&{preset:"plain"}),{},{author:n,coCreationAuthorDescriptionText:"图文作者",userLinkV2:!0,noBadge:!0,noVipBadge:!0,showVipIcon:!1}))]})};function l(e,t,n,o){var a=Object(i.b)(t,n),l=Object(i.c)(n);return o&&Object(r.b)(c,{preset:e,mainAuthor:a,subAuthor:l},"coCreateAuthors")}},1664:function(e,t,n){"use strict";var r=n(33),o=n(15),a=n(16),i=n(17),c=n(18),l=n(9),u=n(1),s=n(0),f=n(19),d=n(3),p=n.n(d),h=n(26),v=n(88),b=n.n(v),m=n(29),g=n(288),y=n(79),O=n(30),j=n(1124),C=["answer","voteDownReason","opposeRightStatusIsOn"];function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var k=function(e,t){var n=e.entities.questions[t.answer.question.id];return n&&n.voteDownReason},x={loadSwitches:g.b,showNotification:m.h,updateAnswerVote:y.L,getVoteDownReason:y.k,selectVoteDownReason:y.D,setOpposeRightStatus:g.e},R=function(e){Object(i.a)(n,e);var t=w(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handleVote=e.context.authRequired((function(t){var n=e.props,r=n.answer;(0,n.updateAnswerVote)(r.id,t,{cardType:r.cardType})}),O.X.vote),e.handleLoadVoteDownReason=function(){var t=e.props,n=t.answer;(0,t.getVoteDownReason)(n.id,n.question.id)},e.handleSelectVoteDownReason=function(t){var n=e.props,r=n.answer,o=n.selectVoteDownReason,a=n.showNotification;o(r.id,t.reasonId).then((function(e){a(e.payload.message)}))},e.handleSetShowVoteDownReason=function(t){(0,e.props.setOpposeRightStatus)(t)},e}return Object(a.a)(n,[{key:"shouldShowVoteDownMenu",get:function(){return Boolean(!this.props.disabled&&this.context.currentUser)}},{key:"componentDidMount",value:function(){var e=this.props.loadSwitches;this.shouldShowVoteDownMenu&&e(["opposeRight"])}},{key:"render",value:function(){var e=this.props,t=e.answer,n=e.voteDownReason,o=e.opposeRightStatusIsOn,a=Object(r.default)(e,C);return Object(u.b)(j.a,Object.assign({count:t.voteupCount,voting:t.relationship&&t.relationship.voting,isOwner:t.relationship&&t.relationship.isAuthor,isShowVoteDownMenu:this.shouldShowVoteDownMenu&&o,onVote:this.handleVote,voteDownReason:n,onLoadVoteDownReason:this.handleLoadVoteDownReason,onSelectVoteDownReason:this.handleSelectVoteDownReason,onSetVoteDownReason:this.handleSetShowVoteDownReason},b()(a,Object.keys(x))))}}]),n}(s.Component);R.contextTypes={currentUser:p.a.object,authRequired:p.a.func},t.a=Object(f.compose)(Object(h.connect)((function(e,t){return{voteDownReason:k(e,t),opposeRightStatusIsOn:Object(g.d)(e)}}),x))(R)},1665:function(e,t,n){},1666:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(66);function o(e,t){t.ZhihuHybrid?r.a.dispatch("base/openURL",{url:e}):window.location.href=e}},1667:function(e,t,n){"use strict";n.d(t,"animated",(function(){return V}));var r=n(23),o=n.n(r),a=n(28),i=n.n(a),c=n(21),l=n.n(c),u=n(22),s=n.n(u),f=n(25),d=n.n(f),p=n(14),h=n.n(p),v=n(31),b=n.n(v),m=n(1448);n.o(m,"useSpring")&&n.d(t,"useSpring",(function(){return m.useSpring})),n.o(m,"useTransition")&&n.d(t,"useTransition",(function(){return m.useTransition}));var g=n(47),y=n(1169),O=n(1668),j=["style","children","scrollTop","scrollLeft"],C=["x","y","z"],w=["scrollTop","scrollLeft"];function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var x=/^--/;function R(e,t){return null==t||"boolean"==typeof t||""===t?"":"number"!=typeof t||0===t||x.test(e)||N.hasOwnProperty(e)&&N[e]?(""+t).trim():t+"px"}var E={};var N={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S=["Webkit","Ms","Moz","O"];N=Object.keys(N).reduce((function(e,t){return S.forEach((function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]})),e}),N);var T=/^(matrix|translate|scale|rotate|skew)/,z=/^(translate)/,P=/^(rotate|skew)/,_=function(e,t){return y.s.num(e)&&0!==e?e+t:e},A=function e(t,n){return y.s.arr(t)?t.every((function(t){return e(t,n)})):y.s.num(t)?t===n:parseFloat(t)===n},I=function(e){s()(n,e);var t=k(n);function n(e){var r=e.x,o=e.y,a=e.z,c=b()(e,C);l()(this,n);var u=[],s=[];return(r||o||a)&&(u.push([r||0,o||0,a||0]),s.push((function(e){return["translate3d(".concat(e.map((function(e){return _(e,"px")})).join(","),")"),A(e,0)]}))),Object(y.l)(c,(function(e,t){if("transform"===t)u.push([e||""]),s.push((function(e){return[e,""===e]}));else if(T.test(t)){if(delete c[t],y.s.und(e))return;var n=z.test(t)?"px":P.test(t)?"deg":"";u.push(Object(y.y)(e)),s.push("rotate3d"===t?function(e){var t=i()(e,4),r=t[0],o=t[1],a=t[2],c=t[3];return["rotate3d(".concat(r,",").concat(o,",").concat(a,",").concat(_(c,n),")"),A(c,0)]}:function(e){return["".concat(t,"(").concat(e.map((function(e){return _(e,n)})).join(","),")"),A(e,t.startsWith("scale")?1:0)]})}})),u.length&&(c.transform=new M(u,s)),t.call(this,c)}return n}(O.a),M=function(e){s()(n,e);var t=k(n);function n(e,r){var o;return l()(this,n),(o=t.call(this)).inputs=e,o.transforms=r,o._value=null,o}return o()(n,[{key:"get",value:function(){return this._value||(this._value=this._get())}},{key:"_get",value:function(){var e=this,t="",n=!0;return Object(y.k)(this.inputs,(function(r,o){var a=Object(y.q)(r[0]),c=e.transforms[o](y.s.arr(a)?a:r.map(y.q)),l=i()(c,2),u=l[0],s=l[1];t+=" "+u,n=n&&s})),n?"none":t}},{key:"observerAdded",value:function(e){var t=this;1==e&&Object(y.k)(this.inputs,(function(e){return Object(y.k)(e,(function(e){return Object(y.r)(e)&&Object(y.c)(e,t)}))}))}},{key:"observerRemoved",value:function(e){var t=this;0==e&&Object(y.k)(this.inputs,(function(e){return Object(y.k)(e,(function(e){return Object(y.r)(e)&&Object(y.x)(e,t)}))}))}},{key:"eventObserved",value:function(e){"change"==e.type&&(this._value=null),Object(y.d)(this,e)}}]),n}(y.a);m.Globals.assign({batchedUpdates:g.unstable_batchedUpdates,createStringInterpolator:y.g,colors:y.e});var V=Object(O.d)(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;var n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,r=t.style,o=t.children,a=t.scrollTop,i=t.scrollLeft,c=b()(t,j),l=Object.values(c),u=Object.keys(c).map((function(t){return n||e.hasAttribute(t)?t:E[t]||(E[t]=t.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})))}));for(var s in void 0!==o&&(e.textContent=o),r)if(r.hasOwnProperty(s)){var f=R(s,r[s]);"float"===s?s="cssFloat":x.test(s)?e.style.setProperty(s,f):e.style[s]=f}u.forEach((function(t,n){e.setAttribute(t,l[n])})),void 0!==a&&(e.scrollTop=a),void 0!==i&&(e.scrollLeft=i)},createAnimatedStyle:function(e){return new I(e)},getComponentProps:function(e){e.scrollTop,e.scrollLeft;return b()(e,w)}}).animated},1668:function(e,t,n){"use strict";n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return R})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return I})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return z})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return C}));var r=n(28),o=n.n(r),a=n(1002),i=n.n(a),c=n(22),l=n.n(c),u=n(25),s=n.n(u),f=n(14),d=n.n(f),p=n(21),h=n.n(p),v=n(23),b=n.n(v),m=n(1169),g=n(0);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s()(this,n)}}var O=Symbol.for("Animated:node"),j=function(e){return e&&e[O]},C=function(e,t){return Object(m.h)(e,O,t)},w=function(e){return e&&e[O]&&e[O].getPayload()},k=function(){function e(){h()(this,e),C(this,this)}return b()(e,[{key:"getPayload",value:function(){return this.payload||[]}}]),e}(),x=function(e){l()(n,e);var t=y(n);function n(e){var r;return h()(this,n),(r=t.call(this))._value=e,r.done=!0,r.durationProgress=0,m.s.num(r._value)&&(r.lastPosition=r._value),r}return b()(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(e,t){return m.s.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}},{key:"reset",value:function(){var e=this.done;this.done=!1,m.s.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(k),R=function(e){l()(n,e);var t=y(n);function n(e){var r;return h()(this,n),(r=t.call(this,0))._string=null,r._toString=Object(m.f)({output:[e,e]}),r}return b()(n,[{key:"getValue",value:function(){var e=this._string;return null==e?this._string=this._toString(this._value):e}},{key:"setValue",value:function(e){if(m.s.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!i()(d()(n.prototype),"setValue",this).call(this,e))return!1;this._string=null}return!0}},{key:"reset",value:function(e){e&&(this._toString=Object(m.f)({output:[this.getValue(),e]})),this._value=0,i()(d()(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(x),E={dependencies:null},N=function(e){l()(n,e);var t=y(n);function n(e){var r;return h()(this,n),(r=t.call(this)).source=e,r.setValue(e),r}return b()(n,[{key:"getValue",value:function(e){var t={};return Object(m.l)(this.source,(function(n,r){var o;(o=n)&&o[O]===o?t[r]=n.getValue(e):Object(m.r)(n)?t[r]=Object(m.q)(n):e||(t[r]=n)})),t}},{key:"setValue",value:function(e){this.source=e,this.payload=this._makePayload(e)}},{key:"reset",value:function(){this.payload&&Object(m.k)(this.payload,(function(e){return e.reset()}))}},{key:"_makePayload",value:function(e){if(e){var t=new Set;return Object(m.l)(e,this._addToPayload,t),Array.from(t)}}},{key:"_addToPayload",value:function(e){var t=this;E.dependencies&&Object(m.r)(e)&&E.dependencies.add(e);var n=w(e);n&&Object(m.k)(n,(function(e){return t.add(e)}))}}]),n}(k),S=function(e){l()(n,e);var t=y(n);function n(e){return h()(this,n),t.call(this,e)}return b()(n,[{key:"getValue",value:function(){return this.source.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e){var t=this.getPayload();return e.length==t.length?t.some((function(t,n){return t.setValue(e[n])})):(i()(d()(n.prototype),"setValue",this).call(this,e.map(T)),!0)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(N);function T(e){return(Object(m.t)(e)?R:x).create(e)}function z(e){var t=j(e);return t?t.constructor:m.s.arr(e)?S:Object(m.t)(e)?R:x}var P=function(e,t){var n=!m.s.fun(e)||e.prototype&&e.prototype.isReactComponent;return Object(g.forwardRef)((function(r,a){var i=Object(g.useRef)(null),c=n&&Object(g.useCallback)((function(e){i.current=function(e,t){e&&(m.s.fun(e)?e(t):e.current=t);return t}(a,e)}),[a]),l=function(e,t){var n=new Set;E.dependencies=n,e.style&&(e=Object.assign(Object.assign({},e),{},{style:t.createAnimatedStyle(e.style)}));return e=new N(e),E.dependencies=null,[e,n]}(r,t),u=o()(l,2),s=u[0],f=u[1],d=Object(m.z)(),p=function(){var e=i.current;n&&!e||!1===(!!e&&t.applyAnimatedValues(e,s.getValue(!0)))&&d()},h=new _(p,f),v=Object(g.useRef)();Object(m.A)((function(){var e=v.current;v.current=h,Object(m.k)(f,(function(e){return Object(m.c)(e,h)})),e&&(Object(m.k)(e.deps,(function(t){return Object(m.x)(t,e)})),m.w.cancel(e.update))})),Object(g.useEffect)(p,[]),Object(m.C)((function(){return function(){var e=v.current;Object(m.k)(e.deps,(function(t){return Object(m.x)(t,e)}))}}));var b=t.getComponentProps(s.getValue());return Object(g.createElement)(e,Object.assign(Object.assign({},b),{},{ref:c}))}))},_=function(){function e(t,n){h()(this,e),this.update=t,this.deps=n}return b()(e,[{key:"eventObserved",value:function(e){"change"==e.type&&m.w.write(this.update)}}]),e}();var A=Symbol.for("AnimatedComponent"),I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyAnimatedValues,r=void 0===n?function(){return!1}:n,o=t.createAnimatedStyle,a=void 0===o?function(e){return new N(e)}:o,i=t.getComponentProps,c=void 0===i?function(e){return e}:i,l={applyAnimatedValues:r,createAnimatedStyle:a,getComponentProps:c},u=function e(t){var n=M(t)||"Anonymous";return(t=m.s.str(t)?e[t]||(e[t]=P(t,l)):t[A]||(t[A]=P(t,l))).displayName="Animated(".concat(n,")"),t};return Object(m.l)(e,(function(t,n){m.s.arr(e)&&(n=M(t)),u[n]=u(t)})),{animated:u}},M=function(e){return m.s.str(e)?e:e&&m.s.str(e.displayName)?e.displayName:m.s.fun(e)&&e.name||null}},1669:function(e,t){},1670:function(e,t){},1671:function(e,t,n){},1726:function(e,t,n){"use strict";n.d(t,"a",(function(){return _e})),n.d(t,"b",(function(){return nn}));var r=n(1),o=n(26),a=n(0),i=n.n(a),c=n(3),l=n.n(c),u=n(12),s=n.n(u),f=n(204),d=n(83),p=n(40),h=n.n(p),v=n(207),b=n.n(v),m=n(66),g=function(){var e=b()(h.a.mark((function e(t,n,r){var o,a,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(e){return{state:-1,message:e}},a=function(e){return{state:0,data:e}},t.Android&&t.Zhihu){e.next=4;break}return e.abrupt("return",o("「先用后付」激活仅支持安卓端内哦"));case 4:return e.prev=4,e.next=7,m.a.supportsAction("payment/activePayScore");case 7:if(!e.sent){e.next=17;break}return e.next=11,Object(m.a)("payment/activePayScore").dispatch({sku_id:n||"",type:r||0});case 11:if(!(null==(i=e.sent)?void 0:i.orderId)){e.next=14;break}return e.abrupt("return",a(i));case 14:throw new Error("激活获取订单号失败");case 17:return e.abrupt("return",o("当前客户端版本不支持，请升级后重试 ~"));case 18:e.next=23;break;case 20:return e.prev=20,e.t0=e.catch(4),e.abrupt("return",o(e.t0.errMsg||e.t0.message||"激活失败，请稍后重试"));case 23:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(t,n,r){return e.apply(this,arguments)}}(),y=n(21),O=n.n(y),j=n(23),C=n.n(j),w=n(94),k=n.n(w),x=n(22),R=n.n(x),E=n(25),N=n.n(E),S=n(14),T=n.n(S),z=n(895),P=n(888),_=n(35),A=n(74);function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T()(e);if(t){var o=T()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N()(this,n)}}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=function(e){R()(n,e);var t=I(n);function n(){var e;O()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),M(k()(e),"handleClick",(function(t,n){var r=e.props.onClick;_.a.trackEvent(e.node,{id:4240,action:"OpenUrl",name:n},{link:{url:t,anchor:n}}),"function"==typeof r&&r(e.node),e.unlisten=m.a.listen("base/viewDidAppear",(function(){var t=e.props.popupCallback;t&&t(),e.unlisten&&e.unlisten()}))})),e}return C()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.btnInfo;if(t){var n=t.btnText,r=t.link;m.a.dispatch("vip/preloadVIPHybridPopup",{url:r}),Object(z.onViewedOnce)(this.node,(function(){_.a.trackCardShow(e.node,{id:4241,name:n},{link:{url:r,anchor:n}})}))}}},{key:"componentWillUnmount",value:function(){this.unlisten&&this.unlisten()}},{key:"render",value:function(){var e=this,t=this.props,n=t.btnInfo,r=t.zaInfo,o=void 0===r?{}:r,a=t.className;if(!n)return null;var c=n.btnText,l=n.link;return i.a.createElement("div",{className:s()("KfeCollection-PurchaseBtn",a)},i.a.createElement("div",{className:"KfeCollection-PurchaseBtn-mask"}),i.a.createElement(A.b,{block:"textLink",content:Object.assign({},o||{})},i.a.createElement(A.a,{zaType:"Text",shouldTrackShow:!0,zaAction:"OpenUrl",extra:{link:{url:l}}},i.a.createElement("a",{className:"KfeCollection-PurchaseBtn-HybridLink",href:l,target:"_blank",rel:"noopener noreferrer",onClick:function(){return e.handleClick(l,c)},ref:function(t){return e.node=t},"data-za-module":"Content","data-za-extra-module":JSON.stringify({card:{content:[o]}})},i.a.createElement("span",{className:"KfeCollection-PurchaseBtn-text"},c)," ",i.a.createElement(P.a,{className:"KfeCollection-PurchaseBtn-ArrowRight"})))))}}]),n}(i.a.Component);V.propTypes={popupCallback:l.a.func};var B=V,L=n(47),D=n(63),F=n.n(D),K=n(965);function U(e){var t=e.zaInfo,n=void 0===t?{}:t,r=e.btnInfo,o=void 0===r?{}:r,c=e.picsInfo,l=void 0===c?{}:c,u=e.className,f=e.onClick,d=e.popupCallback,p=e.theme,h=e.isMobile,v=o.btnText,b=o.link,g=l.pcPic,y=l.dayPic,O=l.nightPic,j=Object(a.useRef)(),C=Object(a.useMemo)((function(){return h?"dark"===p?O:y:g}),[h,p,g,O,y]),w=null;return Object(a.useEffect)((function(){return function(){w&&w()}}),[w]),i.a.createElement("div",{className:s()("KfeCollection-VipBenefitsCard",u)},i.a.createElement(A.b,{block:"vipBenefitsCard",content:Object.assign(Object.assign({},n),{},{type:K.e.Answer,subType:K.e.PaidAnswer})},i.a.createElement(A.a,{zaType:"Card",shouldTrackShow:!0,zaAction:"OpenUrl",extra:{link:{url:b}}},i.a.createElement("a",{className:"KfeCollection-VipBenefitsCard-HybridLink",href:b,target:"_blank",rel:"noopener noreferrer",onClick:function(){_.a.trackEvent(j.current,{id:4240,action:"OpenUrl",name:v},{link:{url:b,anchor:v}}),"function"==typeof f&&f(j.current),w=m.a.listen("base/viewDidAppear",(function(){d&&d(),w&&w()}))},ref:j,"data-za-module":"Content","data-za-extra-module":JSON.stringify({card:{content:[n]}})},C&&i.a.createElement("img",{className:"KfeCollection-VipBenefitsCard-pic",src:C})))))}U.propTypes={zaInfo:l.a.object,btnInfo:l.a.object,popupCallback:l.a.func,onClick:l.a.func,className:l.a.string,theme:l.a.string.isRequired,isMobile:l.a.bool.isRequired,picsInfo:l.a.object.isRequired};var G=U,q=n(138);function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T()(e);if(t){var o=T()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N()(this,n)}}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q="dark",Y="light",J=function(e){R()(n,e);var t=H(n);function n(){var e;O()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),W(k()(e),"handleClick",(function(t,n){var r=e.props.onClick;_.a.trackEvent(e.node,{id:4240,action:"OpenUrl",name:n},{link:{url:t,anchor:n}}),r&&r({target:e.node})})),e}return C()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.goodsCard.body.link;Object(z.onViewedOnce)(this.node,(function(){_.a.trackCardShow(e.node,{id:4241,name:"课程"},{link:{url:t,anchor:"课程"}})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.zaInfo,o=void 0===r?{}:r,a=t.goodsCard,c=t.className,l=n===Q,u=a.header,f=u.title,d=u.subTitle,p=a.body,h=p.title,v=p.cover,b=p.coverLabel,m=p.link,g=p.desc,y=p.label,O=p.vipNote,j=a.catalog;return i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:s()("KfeCollection-GoodsCardV2",c),"data-za-module":"Content","data-za-extra-module":JSON.stringify({card:{content:[o]}})},i.a.createElement("h1",{className:"KfeCollection-GoodsCardV2-header"},"".concat(f).concat(d?" · ".concat(d):"")),i.a.createElement(A.b,{content:Object.assign(Object.assign({},o),{},{type:K.e.Answer,subType:K.e.PaidAnswer}),block:"oldSkuCard"},i.a.createElement(A.a,{zaType:"Card",shouldTrackShow:!0,zaAction:"OpenUrl",extra:{link:{url:m}}},i.a.createElement("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"KfeCollection-GoodsCardV2-content",onClick:function(){return e.handleClick(m,h)},ref:function(t){return e.node=t}},i.a.createElement("div",{className:"KfeCollection-GoodsCardV2-cover"},i.a.createElement("img",{className:s()("KfeCollection-GoodsCardV2-cover-img",{"KfeCollection-GoodsCardV2-cover-img--dark":l}),src:Object(q.imgUrl)(v,{size:"200x0"})}),i.a.createElement("div",{className:"KfeCollection-GoodsCardV2-cover-label"},b)),i.a.createElement("div",{className:"KfeCollection-GoodsCardV2-detail"},i.a.createElement("div",null,i.a.createElement("h2",{className:"KfeCollection-GoodsCardV2-detail-title"},h),g&&i.a.createElement("p",{className:"KfeCollection-GoodsCardV2-detail-desc"},g),i.a.createElement("p",{className:"KfeCollection-GoodsCardV2-detail-label"},y)),i.a.createElement("p",{className:"KfeCollection-GoodsCardV2-detail-vipNote",dangerouslySetInnerHTML:{__html:O}}))))),j&&j.length>0&&i.a.createElement("div",{className:"KfeCollection-GoodsCardV2-catalog"},"章节目录",i.a.createElement("div",{className:"KfeCollection-GoodsCardV2-catalogSectionList"},j.map((function(e){var t=e.manuscriptUrl,n=e.sectionId,r=e.title;return i.a.createElement(A.a,{zaType:"Text",key:n,zaBlock:"catalog",extra:{link:{url:t}},zaAction:"OpenUrl"},i.a.createElement("a",{className:"KfeCollection-GoodsCardV2-catalogSectionItem",href:t,target:"_blank",rel:"noopener noreferrer",key:n,"data-za-detail-view-id":7500,"data-za-extra":JSON.stringify({button:{text:r}})},r,i.a.createElement(P.a,{className:"KfeCollection-GoodsCardV2-catalogSectionItemIcon"})))}))))))}}]),n}(i.a.Component);W(J,"propTypes",{theme:l.a.oneOf([Q,Y]),onClick:l.a.func}),W(J,"defaultProps",{theme:Y});var Z=J,$=n(36),X=n(2770),ee=function(e){return-1===e.indexOf("?")?"".concat(e,"?entry=qa"):"".concat(e,"&entry=qa")};function te(e){var t=e.header,n=void 0===t?{}:t,r=e.onClick,o=n.title,a=n.subTitle,c=n.link;return i.a.createElement("a",{href:ee(c),target:"_blank",rel:"noopener noreferrer",className:"KfeCollection-GoodsCardV3-header",onClick:function(e){return r&&r(e)}},i.a.createElement("div",{className:"KfeCollection-GoodsCardV3-headerTitle"},o),i.a.createElement("div",{className:"KfeCollection-GoodsCardV3-headerSubTitle"},i.a.createElement("div",null,a),i.a.createElement(X.a,{className:"KfeCollection-GoodsCardV3-headerIcon"})))}var ne=function(e){var t=Object(a.useRef)(),n=e.className,r=e.zaInfo,o=void 0===r?{}:r,c=e.goodsCard,l=e.shelvesInfo,u=e.onBookshelfButtonClick,f=void 0===u?F.a:u,d=e.theme,p=void 0===d?"light":d,h=e.onClick,v=c.header,b=c.body,m=c.body,g=m.title,y=m.cover,O=m.coverLabel,j=m.link,C=m.desc,w=m.label,k=m.vipNote,x=m.icons,R=m.heatNote,E=Object(A.i)().trackEvent;Object(a.useEffect)((function(){Object(z.onViewedOnce)(t.current,(function(){_.a.trackCardShow(t.current,{id:8467,name:b.title},{button:{text:v.title}})}))}),[b,v]);var N=Object(a.useCallback)((function(e){_.a.trackEvent(e.target,{id:8468,action:"OpenUrl",name:b.title},{link:{url:v.link},button:{text:v.title}}),E({action:"OpenUrl",eventType:"Click",elementLocation:{text:v.title,block:{blockText:"newSkuCardHeader"},type:"Button",content:{type:K.e.Answer,subType:K.e.PaidAnswer}}},{link:{url:v.link}})}),[b,v,E]),S=Object(a.useCallback)((function(e){_.a.trackEvent(e.target,{id:8469,action:"OpenUrl",name:b.title},{link:{url:b.link},button:{text:v.title}}),h&&h(e)}),[b,v,h]),T=Object(a.useCallback)((function(e){var t=(null==l?void 0:l.whetherInShelf)?"去书架查看":"加入书架",n=(null==l?void 0:l.whetherInShelf)?"OpenUrl":"Collect",r={url:b.link};_.a.trackEvent(e.target,{id:8294,action:"OpenUrl",name:b.title},{link:r,button:{text:t}}),E({action:n,eventType:"Click",elementLocation:{type:"Button",text:t}},(null==l?void 0:l.whetherInShelf)?{link:{url:"https://www.zhihu.com/xen/market/vip/vip-recommend"}}:null),f(e)}),[b,f,l,E]);return i.a.createElement("section",{className:s()("KfeCollection-GoodsCardV3",n),"data-za-module":"Content","data-za-extra-module":JSON.stringify({card:{content:[o]}})},i.a.createElement(te,{header:v,onClick:N}),i.a.createElement(A.b,{content:Object.assign(Object.assign({},o),{},{type:K.e.Answer,subType:K.e.PaidAnswer}),block:"newSkuCard"},i.a.createElement(A.a,{zaType:"Card",shouldTrackShow:!0,zaAction:"OpenUrl",extra:{link:{url:j}}},i.a.createElement("a",{href:ee(j),target:"_blank",rel:"noopener noreferrer",className:s()("KfeCollection-GoodsCardV3-content","KfeCollection-GoodsCardV3-content--topHeader"),onClick:S,ref:t},i.a.createElement("div",{className:"KfeCollection-GoodsCardV3-cover"},i.a.createElement("img",{className:"KfeCollection-GoodsCardV3-coverVip",src:"light"===p?null==x?void 0:x.leftTopDayIcon:null==x?void 0:x.leftTopNightIcon,alt:""}),i.a.createElement("img",{className:s()("KfeCollection-GoodsCardV3-coverImage"),src:Object(q.imgUrl)(y,{size:"200x0"})}),i.a.createElement("div",{className:"KfeCollection-GoodsCardV3-coverLabel"},O)),i.a.createElement("div",{className:"KfeCollection-GoodsCardV3-detail"},g&&i.a.createElement("h2",{className:"KfeCollection-GoodsCardV3-detailTitle"},g),C&&i.a.createElement("p",{className:"KfeCollection-GoodsCardV3-detailDescription"},C),w&&i.a.createElement("p",{className:"KfeCollection-GoodsCardV3-detailLabel"},w),R?i.a.createElement("p",{className:"KfeCollection-GoodsCardV3-detailHeatNote"},R):k&&i.a.createElement("p",{className:"KfeCollection-GoodsCardV3-detailVipNote",dangerouslySetInnerHTML:{__html:k}}),l&&i.a.createElement($.c,{className:"KfeCollection-GoodsCardV3-bookshelfButton",preset:"plain",color:"grey",onClick:T},l.whetherInShelf?"去书架查看":"加入书架",i.a.createElement(P.a,{text:!0,center:!0})))))))},re=n(28),oe=n.n(re),ae=function(e){return e?-1===e.indexOf("?")?"".concat(e,"?entry=qa"):"".concat(e,"&entry=qa"):""};var ie=function(e){var t,n=e.className,r=e.goodsCard,o=e.nextSectionInfo,c=e.zaInfo,l=void 0===c?{}:c,u=e.theme,d=void 0===u?"light":u,p=o.title,h=o.content,v=o.url,b=o.skuUrl,m=o.voteNum,g=o.isShowVote,y=o.trackNum,O=o.skuName,j=null==r||null===(t=r.header)||void 0===t?void 0:t.brandImage,C="dark"===d,w=Object(A.i)().trackEvent,k=ae(v),x=Object(a.useRef)(),R=Object(a.useState)(!1),E=oe()(R,2),N=E[0],S=E[1],T=Object(f.b)(),z=!p||!v||0===y;Object(a.useEffect)((function(){if(x.current&&h){var e=x.current.clientWidth,t=document.createElement("p");t.style="visibility:hidden;position:absolute;left:-9999px;top:-9999px;width:".concat(e,"px;line-height:21px;font-size:13px;"),t.innerText=h.replace(/[\r\n]/g,""),document.body.appendChild(t);var n=t.clientHeight>63;S(n),document.body.removeChild(t)}}),[x,h]);var _=Object(a.useCallback)((function(){w({action:"OpenUrl",eventType:"Click",elementLocation:{text:p,block:{blockText:"StoryCardTitle"},type:"Button",content:{type:K.e.Answer,subType:K.e.PaidAnswer}}},{link:{url:v}})}),[p,w,v]),I=Object(a.useCallback)((function(){w({action:"OpenUrl",eventType:"Click",elementLocation:{block:{blockText:"StoryCardButton"},type:"Button",content:{type:K.e.Answer,subType:K.e.PaidAnswer}}},{link:{url:b}})}),[b,w]);return i.a.createElement("section",{className:s()("KfeCollection-GoodsCardV4",{"KfeCollection-GoodsCardV4-dark":C},n),"data-za-module":"Content","data-za-extra-module":JSON.stringify({card:{content:[l]}})},i.a.createElement("div",{className:"KfeCollection-GoodsCardV4-guide"},i.a.createElement("span",{className:"KfeCollection-GoodsCardV4-guideBefore"},"来自",j&&i.a.createElement("span",{className:"KfeCollection-GoodsCardV4-brandImg"},"「",j,"」"),"专栏"),i.a.createElement("span",{className:"KfeCollection-GoodsCardV4-guideTitle"},"《".concat(O)),i.a.createElement("span",{className:"KfeCollection-GoodsCardV4-guideAfter"},"》")),z?null:i.a.createElement("div",{className:"KfeCollection-GoodsCardV4-wrapper"},i.a.createElement("a",{href:k,target:"_blank",rel:"noopener noreferrer",className:"KfeCollection-GoodsCardV4-header",onClick:_},i.a.createElement("div",{className:"KfeCollection-GoodsCardV4-title"},i.a.createElement("div",{className:"KfeCollection-GoodsCardV4-titleText"},"继续阅读下一篇：".concat(p)),i.a.createElement(X.a,{className:"KfeCollection-GoodsCardV4-headerIcon"})),i.a.createElement("img",{className:"KfeCollection-GoodsCardV4-vipIcon",src:"https://pic3.zhimg.com/v2-f5928a79b2f62c93db2536548602bd43.png?source=6a64a727"})),i.a.createElement(A.b,{content:Object.assign(Object.assign({},l),{},{type:K.e.Answer,subType:K.e.PaidAnswer}),block:"StoryCard"},i.a.createElement(A.a,{zaType:"Card",shouldTrackShow:!0,zaAction:"OpenUrl",extra:{link:{url:v}}},i.a.createElement("a",{href:k,target:"_blank",rel:"noopener noreferrer"},h?i.a.createElement("div",{className:"KfeCollection-GoodsCardV4-contentWrapper".concat(T.iOS?" KfeCollection-GoodsCardV4-iosContent":"")},i.a.createElement("p",{className:"KfeCollection-GoodsCardV4-content",ref:x},h),N&&g&&i.a.createElement("div",{className:"KfeCollection-GoodsCardV4-endorse"},i.a.createElement("div",{className:"KfeCollection-GoodsCardV4-mask"}),i.a.createElement("div",{className:"KfeCollection-GoodsCardV4-ellipsis"},"..."),i.a.createElement("div",{className:"KfeCollection-GoodsCardV4-endorseText"},m))):null))),i.a.createElement("a",{className:"KfeCollection-GoodsCardV4-bottom",target:"_blank",rel:"noopener noreferrer",href:ae(b),onClick:I},i.a.createElement("div",{className:"KfeCollection-GoodsCardV4-bottomText"},"查看本专栏全部",i.a.createElement("span",{className:"KfeCollection-GoodsCardV4-num"},y),"篇",i.a.createElement(P.a,{className:"KfeCollection-GoodsCardV4-arrowRight",text:!0,center:!0})))))},ce=n(412);function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T()(e);if(t){var o=T()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N()(this,n)}}var ue,se,fe,de=function(e){R()(n,e);var t=le(n);function n(){return O()(this,n),t.apply(this,arguments)}return C()(n,[{key:"render",value:function(){var e=this.props,t=e.total,n=e.value,r=Math.floor(Math.round(2*n)/2),o=Math.round(2*n)%2,a=t-r-o;return i.a.createElement("div",{className:"KfeCollection-Rating"},Array.from({length:r}).map((function(e,t){return i.a.createElement("div",{className:"KfeCollection-Rating-star",key:"full-".concat(t)},i.a.createElement(ce.a,null))})),Boolean(o)&&i.a.createElement("div",{className:"KfeCollection-Rating-star KfeCollection-Rating-star--half",key:"half"},i.a.createElement(ce.a,null),i.a.createElement(ce.a,null)),Array.from({length:a}).map((function(e,t){return i.a.createElement("div",{className:"KfeCollection-Rating-star KfeCollection-Rating-star--empty",key:"empty-".concat(t)},i.a.createElement(ce.a,null))})))}}]),n}(i.a.Component);fe={value:5,total:5},(se="defaultProps")in(ue=de)?Object.defineProperty(ue,se,{value:fe,enumerable:!0,configurable:!0,writable:!0}):ue[se]=fe;var pe=de,he=n(1666),ve=["Live","RemixAlbum","RemixInstabook"],be={Live:"Live 讲座","课程":"盐选专栏"},me={"漫画":"节","课程":"节",Live:"节","讲书":"节","杂志":"篇","电子书":"篇","盐选专栏":"篇"};var ge=function(e){var t=e.goodsCard,n=e.zaInfo,r=void 0===n?{}:n,o=e.isMobile,c=e.theme,l=void 0===c?"light":c,u=e.resourceType,s=t.header,d=void 0===s?{}:s,p=t.body,h=void 0===p?{}:p,v=d.skuTitle,b=d.brandImage,m=h.title,g=h.coverLabel,y=h.link,O=h.activeLink,j=h.vipNote,C=h.icons,w=h.cover,k=h.preface,x=h.introduce,R=h.trackNum,E=h.score,N=h.activeText,S=h.contentType,T=Object(A.i)().trackEvent,z=Object(f.b)(),_=!o&&ve.includes(S)?y:O,I=Object(a.useCallback)((function(){Object(he.a)(ae(_),z)}),[_,z]),M=Object(a.useCallback)((function(){T({action:"OpenUrl",eventType:"Click",elementLocation:{block:{blockText:"".concat(u,"_button")},type:"Button",content:{type:K.e.Answer,subType:K.e.PaidAnswer}}},{link:{url:y}}),Object(he.a)(ae(y),z)}),[y,z,u,T]),V=function(){return i.a.createElement("div",{className:"KfeCollection-GoodsCardNew-contentWrapper"},w&&i.a.createElement("div",{className:"KfeCollection-GoodsCardNew-contentLeft"},i.a.createElement("img",{className:"KfeCollection-GoodsCardNew-coverVip",src:"light"===l?null==C?void 0:C.leftTopDayIcon:null==C?void 0:C.leftTopNightIcon}),i.a.createElement("img",{className:"KfeCollection-GoodsCardNew-coverImg",src:w}),(null==C?void 0:C.centerIcon)&&i.a.createElement("img",{className:"KfeCollection-GoodsCardNew-coverBtn",src:C.centerIcon}),g&&i.a.createElement("div",{className:"KfeCollection-GoodsCardNew-coverLabel"},be[g]||g)),i.a.createElement("div",{className:"KfeCollection-GoodsCardNew-contentRight"},i.a.createElement("div",null,!k&&m&&i.a.createElement("div",{className:"KfeCollection-GoodsCardNew-contentTitle"},m),k&&i.a.createElement("div",{className:"KfeCollection-GoodsCardNew-contentPreface"},k),k&&E?i.a.createElement("div",{className:"KfeCollection-GoodsCardNew-contentStar"},i.a.createElement("span",{className:"KfeCollection-GoodsCardNew-score"},E),i.a.createElement(pe,{value:+E/2})):x&&x.length?i.a.createElement("div",{className:"KfeCollection-GoodsCardNew-contentIntro"},x.map((function(e){return i.a.createElement("div",{key:e,className:"KfeCollection-GoodsCardNew-contentIntroItem"},e)}))):null),i.a.createElement("div",{className:"KfeCollection-GoodsCardNew-contentBottom"},j?i.a.createElement("p",{className:"KfeCollection-GoodsCardNew-vipNote",dangerouslySetInnerHTML:{__html:j}}):i.a.createElement("div",null),N&&i.a.createElement("span",{className:"KfeCollection-GoodsCardNew-readBtn"},N,i.a.createElement(P.a,{text:!0,center:!0})))))};return i.a.createElement("section",{className:"KfeCollection-GoodsCardNew","data-za-module":"Content","data-za-extra-module":JSON.stringify({card:{content:[r]}})},i.a.createElement("div",{className:"KfeCollection-GoodsCardNew-guide"},i.a.createElement("span",{className:"KfeCollection-GoodsCardNew-guideBefore"},"以上回答来自"),b&&i.a.createElement("span",{className:"KfeCollection-GoodsCardNew-brandImg"},"「",b,"」"),g&&i.a.createElement("span",null,g)),i.a.createElement("div",{className:"KfeCollection-GoodsCardNew-wrapper"},function(){var e,t;if(/《.+》/.test(v)){var n,r=v.split("《"),o=oe()(r,2);e=o[0],t=null===(n=t=o[1])||void 0===n?void 0:n.substring(0,t.length-1)}return i.a.createElement("div",{className:"KfeCollection-GoodsCardNew-header"},e&&t?i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"KfeCollection-GoodsCardNew-headerBefore"},e),i.a.createElement("span",{className:"KfeCollection-GoodsCardNew-headerName"},"《".concat(t)),i.a.createElement("span",null,"》")):i.a.createElement("div",{className:"KfeCollection-GoodsCardNew-headerTitle"},v))}(),i.a.createElement(A.b,{content:Object.assign(Object.assign({},r),{},{type:K.e.Answer,subType:K.e.PaidAnswer}),block:"".concat(u,"_card")},i.a.createElement(A.a,{zaType:"Card",shouldTrackShow:!0,zaAction:"OpenUrl",extra:{link:{url:_}}},i.a.createElement("a",{onClick:I,rel:"noopener noreferrer"},V()))),i.a.createElement("a",{className:"KfeCollection-GoodsCardNew-bottom",rel:"noopener noreferrer",onClick:M},i.a.createElement("div",{className:"KfeCollection-GoodsCardNew-bottomText"},"查看本",g.replace("盐选",""),"全部",i.a.createElement("span",{className:"KfeCollection-GoodsCardNew-num"},R),me[g]||"篇",i.a.createElement(P.a,{className:"KfeCollection-GoodsCardNew-arrowRight",text:!0,center:!0})))))};function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T()(e);if(t){var o=T()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N()(this,n)}}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je=function(e){R()(n,e);var t=ye(n);function n(){var e;O()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Oe(k()(e),"handleObserve",(function(t){var n=e.props.logPaidAnswerProgress;t.forEach((function(t){if(0!==t.intersectionRatio){var r=t.target;e.observer.unobserve(r),n&&n("card")}}))})),Oe(k()(e),"renderNewVersionCard",(function(){var t=e.props,n=t.result,r=void 0===n?{}:n,o=t.theme,a=t.isMobile,c=r.zaInfo,l=r.className,u=r.nextSectionInfo,s=r.goodsCard,f=r.resourceType;return u?i.a.createElement(ie,{goodsCard:s,nextSectionInfo:u,zaInfo:c,theme:o,className:l}):s?i.a.createElement(ge,{isMobile:a,goodsCard:s,zaInfo:c,theme:o,resourceType:f}):null})),e}return C()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.hasPurchased,r=t.logPaidAnswerProgress;n&&r&&"undefined"!=typeof window&&window.IntersectionObserver&&(this.target=Object(L.findDOMNode)(this),this.observer=new window.IntersectionObserver(this.handleObserve,{threshold:[.1]}),setTimeout((function(){e.observer.observe(e.target)})))}},{key:"componentWillUnmount",value:function(){this.observer&&this.observer.unobserve(this.target)}},{key:"render",value:function(){var e=this.props,t=e.hasPurchased,n=e.result,r=void 0===n?{}:n,o=e.theme,a=e.onBookshelfButtonClick,c=void 0===a?F.a:a,l=e.className,u=e.isMobile,s=e.logPaidAnswerProgress,f=r.goodsCard,d=r.shelvesInfo,p=r.zaInfo,h=r.btnInfo,v=r.abParam,b=r.benefitsPics,m=r.popupCallback,g="1"===(null==v?void 0:v.benefitsPicsShow),y="1"===(null==v?void 0:v.storyCard);return t?y?this.renderNewVersionCard():f?i.a.createElement(ne,{goodsCard:f,zaInfo:p,hasPurchased:t,shelvesInfo:t?d:null,onBookshelfButtonClick:c,theme:o,className:l}):null:g?i.a.createElement(G,{btnInfo:h,zaInfo:p||{},picsInfo:b||{},popupCallback:m,theme:o,isMobile:u||!1,onClick:s}):f?i.a.createElement(Z,{goodsCard:f,zaInfo:p,className:l}):null}}]),n}(i.a.Component);Oe(je,"propTypes",{result:l.a.object.isRequired,theme:l.a.string,hasPurchased:l.a.bool,onBookshelfButtonClick:l.a.func,logPaidAnswerProgress:l.a.func}),Oe(je,"defaultProps",{result:{goodsCard:{},btnInfo:{},progressInfo:{},zaInfo:{}}});var Ce=je;function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T()(e);if(t){var o=T()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N()(this,n)}}var ke=function(e){R()(n,e);var t=we(n);function n(){return O()(this,n),t.apply(this,arguments)}return C()(n,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.url,r=e.zaInfo,o=void 0===r?{}:r;return t&&n?i.a.createElement("div",{className:"KfeCollection-TextLink"},i.a.createElement("div",{className:"KfeCollection-TextLink-mask"}),i.a.createElement(A.b,{block:"textLinkV2",content:Object.assign({},o||{})},i.a.createElement(A.a,{zaType:"Text",shouldTrackShow:!0,zaAction:"OpenUrl",extra:{link:{url:n}}},i.a.createElement("a",{className:"KfeCollection-TextLink-HybridLink",href:n,target:"_blank",rel:"noopener noreferrer","data-za-module":"Content","data-za-extra-module":JSON.stringify({card:{content:[o]}})},i.a.createElement("span",{className:"KfeCollection-TextLink-text"},t)," ",i.a.createElement(P.a,{className:"KfeCollection-TextLink-ArrowRight"}))))):null}}]),n}(i.a.Component);ke.propTypes={zaInfo:l.a.object,text:l.a.string.isRequired,url:l.a.string.isRequired};var xe=ke;function Re(e){var t=e.paidContent,n=void 0===t?{}:t,r=e.hasPurchased,o=e.className,c=e.popupCallback,l=e.onLogPaidAnswerProgress,u=e.handleBookshelfButtonClick,p=e.onPayScoreCallback,h=n.resourceType,v=n.btnInfo,b=n.zaInfo,m=n.advertorialInfo||{},y=m.text,O=m.url,j=Object(d.f)().isDarkMode,C=void 0!==j&&j,w=Object(f.b)(),k=Object(a.useRef)(null);return function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{threshold:[.6]},c=Object(a.useRef)(!0),l=t&&e&&e.Zhihu&&e.Android&&"undefined"!=typeof window&&window.IntersectionObserver&&r&&r.current,u=Object(a.useCallback)((function(t){Array.isArray(t)&&t.length&&t[0].isIntersecting&&l&&c.current&&(c.current=!1,g(e,n,0).then((function(e){"function"==typeof o&&o(e)})))}),[o,l,n,e]);Object(a.useEffect)((function(){if(l){var e=new window.IntersectionObserver(u,i),t=r.current;return setTimeout((function(){e&&e.observe(t)}),0),function(){e.unobserve(t)}}}),[l,u,r,i])}(w,!r&&"function"==typeof p&&20!==h,n.id,k,(function(e){return p(e)})),20===h&&y&&O?i.a.createElement(xe,{text:y,url:O}):i.a.createElement("div",{className:s()("KfeCollection-PaidAnswerFooter",o),ref:k},!r&&i.a.createElement(B,{btnInfo:v,zaInfo:b||{},popupCallback:c,onClick:l}),i.a.createElement(Ce,{isMobile:w.Mobile,isDarkMode:C,result:n,hasPurchased:r,onBookshelfButtonClick:u,theme:C?"dark":"light",popupCallback:c,logPaidAnswerProgress:l}))}Re.propTypes={paidContent:l.a.object.isRequired,hasPurchased:l.a.bool.isRequired,className:l.a.string,popupCallback:l.a.func,onLogPaidAnswerProgress:l.a.func,handleBookshelfButtonClick:l.a.func,onPayScoreCallback:l.a.func};var Ee=Re,Ne=n(417),Se=n(79);function Te(e){var t=e.id,n=e.children,r=Object(a.useRef)(),i=Object(o.useDispatch)();return Object(a.useEffect)((function(){var e=r.current;if(t&&e){var n=e instanceof Element?e:Object(L.findDOMNode)(e);n&&Object(z.onViewedOnce)(n,(function(){return i(Object(Se.z)(t))}))}}),[i,t]),Object(a.cloneElement)(n,{ref:r})}Te.propTypes={id:l.a.oneOfType([l.a.number,l.a.string]).isRequired};var ze=Object(Ne.a)(null)(Te);function Pe(e){var t,n=e.answer,a=(Object(o.useSelector)((function(e){return Object(Se.A)(e,null==n?void 0:n.id)}))||{}).result;if(!a)return null;var i=null==n||null===(t=n.paidInfo)||void 0===t?void 0:t.hasPurchased;return Object(r.c)(r.a,{children:[Object(r.b)(ze,{id:n.id,children:Object(r.b)("div",{})}),Object(r.b)(Ee,{hasPurchased:i,paidContent:a})]})}var _e=Object(Ne.a)(null)((function(e){var t=e.answer;return"paid"===(null==t?void 0:t.answerType)?Object(r.b)(Pe,{answer:t}):null}));function Ae(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ie(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Me=function(e){return function(e){if(!window)return null;try{var t=document.createElement("div");t.innerHTML=e;var n,r=Array.from(t.childNodes),o=oe()(r,3),a=o[0].nodeValue,i=o[1],c=i.innerText,l=i.attributes,u=o[2].nodeValue,s={},f=Ae(l);try{for(f.s();!(n=f.n()).done;){var d=n.value;s[d.name]=d.value}}catch(e){f.e(e)}finally{f.f()}return a&&c&&u?{prefixText:a,content:c,status:u,linkInfo:{name:"a",attr:s}}:null}catch(e){return null}}(e)},Ve=function(e){var t=e.content;t=void 0===t?[]:t;var n=oe()(t,2),r=n[0],o=n[1],a=e.className,c=e.onClick;return i.a.createElement("div",{className:s()("KfeCollection-CertainEndEllipsis",a),onClick:c},i.a.createElement("div",{className:"KfeCollection-CertainEndEllipsis-start"},r),i.a.createElement("div",{className:"KfeCollection-CertainEndEllipsis-end"},o))},Be=function(e){var t=e.contentName,n=e.fallbackContent,r=e.onClick,o=Object(a.useMemo)((function(){return Me(t)}),[t]);if(null===o)return n;var c=o.prefixText,l=o.content,u=o.status,s=o.linkInfo,f=s.name,d=i.a.createElement(i.a.Fragment,null,c,i.a.createElement(f,s.attr,l.slice(0,-1))),p=i.a.createElement(i.a.Fragment,null,i.a.createElement(f,s.attr,l.slice(-1)),u);return i.a.createElement(Ve,{onClick:r,content:[d,p],className:"KfeCollection-PaidContentNameCertainEndEllipsis"})};var Le=function(e){var t=e.introCard,n=e.RichTextComponent,r=e.className,o=e.zaInfo,a=void 0===o?{}:o,c=e.handleTrack,l=e.extra,u=void 0===l?{}:l,f=t.statement,d=t.description,p=t.contentName,h=t.authorDesc,v=u.isNewStyle,b=u.isMobile,m=Object(A.i)().trackEvent,g=function(e,t){var n=e.target,r=e.target,o=r.text,a=r.href,i=5325===t?"userName":"bookTitle";"A"===r.tagName&&(_.a.trackEvent(n,{id:t,action:"OpenUrl"},{button:{text:o},link:{url:a}}),m({action:"OpenUrl",eventType:"Click",elementLocation:{type:"Text",block:{blockText:i}}},{link:{url:a}})),c&&c(e,a)},y=function(e){return v?"".concat(e,b?"-newStyle-mobile":"-newStyle-pc"):e};return i.a.createElement("section",{className:s()(y("KfeCollection-IntroCard"),r),"data-za-module":"Content","data-za-extra-module":JSON.stringify({card:{content:[a]}})},!v&&i.a.createElement(i.a.Fragment,null,!!f&&i.a.createElement("p",null,f),!!d&&i.a.createElement("p",null,d),(!!f||!!d)&&i.a.createElement("p",{className:"KfeCollection-IntroCard-spacing"})),i.a.createElement(Be,{contentName:p,onClick:function(e){return g(e,5326)},fallbackContent:i.a.createElement("p",{onClick:function(e){return g(e,5326)},className:y("KfeCollection-IntroCard-contentName"),dangerouslySetInnerHTML:{__html:p}})}),n?i.a.createElement(n,{className:y("KfeCollection-IntroCard-authorDesc"),html:h,onClick:function(e){return g(e,5325)}}):i.a.createElement("p",{onClick:function(e){return g(e,5325)},className:y("KfeCollection-IntroCard-authorDesc"),dangerouslySetInnerHTML:{__html:h}}))},De=n(1062),Fe=n(1260),Ke=function(e){return i.a.createElement(Fe.a,Object.assign({viewBox:"0 0 140 43"},e),i.a.createElement("defs",null,i.a.createElement("rect",{id:"zhimg_ic_primelabel_01@2x-a",width:"70",height:"30",x:"0",y:"0"})),i.a.createElement("g",{fillRule:"evenodd",transform:"translate(0 -6)"},i.a.createElement("path",{fillRule:"nonzero",d:"M80.0023638,2.63706979 L129.732029,30.638653 C135.976314,34.154746 139.822785,40.6523917 139.822785,47.6843672 L139.822785,103.687744 C139.822785,110.719509 135.976314,117.217365 129.732029,120.733248 L80.0023638,148.734831 C73.758079,152.250924 66.0649216,152.250924 59.8206368,148.734831 L10.0909714,120.733248 C3.84668657,117.217365 -7.10542736e-14,110.719509 -7.10542736e-14,103.687744 L-7.10542736e-14,47.6843672 C-7.10542736e-14,40.6523917 3.84668657,34.154746 10.0909714,30.638653 L59.8206368,2.63706979 C66.0649216,-0.879023264 73.758079,-0.879023264 80.0023638,2.63706979 Z M62.8214584,21.9369801 L62.4917192,22.1167713 L25.9257887,42.6512656 C21.4364336,45.1724346 18.6325361,49.7839786 18.5101354,54.8082708 L18.5059568,55.1514561 L18.5059568,96.2205991 C18.5059568,101.262635 21.2100909,105.930346 25.6223198,108.545528 L25.9257887,108.720635 L62.4917192,129.25513 C66.9737863,131.772206 72.4710741,131.832136 77.0014851,129.434921 L77.3312243,129.25513 L113.897155,108.720635 C118.38651,106.199617 121.190256,101.587929 121.31265,96.5637746 L121.316828,96.2205991 L121.316828,55.1514561 C121.316828,50.1092692 118.612846,45.4417025 114.200623,42.826383 L113.897155,42.6512656 L77.3312243,22.1167713 C72.8491571,19.5996952 67.3518694,19.5397648 62.8214584,21.9369801 Z M69.2442049,35.8512397 L88.2394468,68.1217272 L103.868354,54.7872625 L103.868354,94.6758324 C103.868354,97.7547043 101.333778,100.250689 98.2071383,100.250689 L40.2839921,100.24974 C37.1573717,100.249699 34.6227848,97.7537776 34.6227848,94.674925 L34.6227848,54.7872625 L50.2512033,68.1217272 L69.2442049,35.8512397 Z",mask:"url(#zhimg_ic_primelabel_01@2x-b)",opacity:".54"})))};Ke.defaultProps={name:"PrivilegeLabel"};var Ue=Ke,Ge=function(e){var t=e.data,n=e.className,r=e.extra,o=t||{},a=o.vipText,c=o.worthText,l=o.cardColor,u=void 0===l?0:l,f=r||{},d=f.isNewStyle,p=f.isMobile,h=function(e){return d?"".concat(e,p?"-newStyle-mobile":"-newStyle-pc"):e};return 0===u?null:i.a.createElement("div",{className:s()(h("KfeCollection-Privilege"),n)},i.a.createElement(De.a,{className:h("KfeCollection-Privilege-vipIcon")}),i.a.createElement("div",{className:h("KfeCollection-Privilege-content")},i.a.createElement("span",{className:"KfeCollection-Privilege-vipText"},a),i.a.createElement("span",null," ".concat(c))),!d&&i.a.createElement(Ue,{className:"KfeCollection-Privilege-label"}))},qe=function(e){var t=e.data,n=e.className,r=e.extra,o=t||{},a=o.worthText,c=o.cardColor,l=void 0===c?0:c,u=r||{},f=u.isNewStyle,d=u.isMobile;return 2!==l?null:i.a.createElement("div",{className:s()(f?d?"KfeCollection-OrdinaryLabel-newStyle-mobile":"KfeCollection-OrdinaryLabel-newStyle-pc":"KfeCollection-OrdinaryLabel",n)},i.a.createElement("div",{className:"KfeCollection-OrdinaryLabel-content"},a))},He=n(31),We=n.n(He),Qe=n(413),Ye=n(994),Je=n(1592),Ze=(n(2807),n(2815),n(2816),n(2249),n(866)),$e=n(2808),Xe=n(2809),et=n(870),tt=n(2810),nt=n(2811),rt=n(2812),ot=n(2813),at=n(2814),it=(n(1086),n(887),n(214)),ct=n(61),lt=n(423),ut=n(7),st=n(44),ft=n(2253),dt=n(1218),pt=n.n(dt),ht=["onRef"];function vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T()(e);if(t){var o=T()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N()(this,n)}}var bt="top",mt=Object.freeze({__proto__:null,LEFT:"left",RIGHT:"right",TOP:bt,BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",LEFT_TOP:"left-top",LEFT_BOTTOM:"left-bottom",RIGHT_TOP:"right-top",RIGHT_BOTTOM:"right-bottom"}),gt=[bt,"bottom"],yt=["left","right"];function Ot(e,t,n,r){var o,a,i,c,l,u=r.split("-"),s=oe()(u,2),f=s[0],d=s[1],p=(a=(o=t).top,i=o.bottom,c=o.left,l=o.right,{top:Math.max(a,0),bottom:Math.min(Math.max(i,0),window.innerHeight),left:Math.max(c,0),right:Math.min(Math.max(l,0),window.innerWidth)}),h={},v={},b=f;if(gt.includes(f)){var m,g,y=p.right-n.width,O=p.left;if("left"===d?(m=e.left,g=O):"right"===d?(m=e.right-n.width,g=y):(m=e.left+e.width/2-n.width/2,g=O),v.left=y>O?m<O?O:m<y?m:y:g,e.width<=n.width){var j=e.left+e.width/2;h.left=j-v.left}else h.left=n.width/2;"bottom"===f&&e.bottom+n.height>p.bottom&&e.top-n.height>p.top&&(b=bt),f===bt&&e.bottom+n.height<p.bottom&&e.top-n.height<p.top&&(b="bottom");var C=b===bt?[n.height,e.top-n.height]:[0,e.bottom],w=oe()(C,2);h.top=w[0],v.top=w[1]}if(yt.includes(f)){var k,x,R=p.bottom-n.height,E=p.top;if(d===bt?(k=e.top,x=E):"bottom"===d?(k=e.bottom-n.height,x=R):(k=e.top+e.height/2-n.height/2,x=E),v.top=R>E?k<E?E:k<R?k:R:x,e.width<=n.width){var N=e.top+e.height/2;h.top=N-v.top}else h.top=n.height/2;"right"===f&&e.right+n.width>p.right&&e.left-n.width>p.left&&(b="left"),"left"===f&&e.right+n.width<p.right&&e.left-n.width<p.left&&(b="right");var S="left"===b?[n.width,e.left-n.width]:[0,e.right],T=oe()(S,2);h.left=T[0],v.left=T[1]}return{arrowStyle:h,targetContainerStyle:v,placement:b}}var jt=function(e){return Object(ut.g)("svg",Object.assign({width:"26",height:"10",viewBox:"0 0 26 10"},e),Object(ut.g)("path",{d:"M0 0h26v1c-4.498 0-9 9-13 9S4.5 1 0 1V0z",fillRule:"evenodd"}))},Ct={top:{width:"32px",height:"16px",marginTop:"-5px",transform:"translate(-50%, 0)","&::after":{left:"50%",top:"-8px"}},bottom:{width:"32px",height:"16px",marginTop:"3px",transform:"translate(-50%, -100%) rotate(180deg)","&::after":{left:"50%",bottom:"-8px"}},left:{width:"16px",height:"32px",marginLeft:"-5px",transform:"translate(0, -50%) rotate(-90deg)","&::after":{left:"-8px",top:"50%"}},right:{width:"16px",height:"32px",marginLeft:"6px",transform:"translate(-100%, -50%) rotate(90deg)","&::after":{right:"-8px",top:"50%"}}},wt={top:{marginTop:"-16px"},bottom:{marginTop:"16px"},left:{marginLeft:"-16px"},right:{marginRight:"16px"}},kt={top:{transformOrigin:"bottom center",marginTop:"-8px"},bottom:{marginTop:"8px"},left:{transformOrigin:"right center",marginLeft:"-16px"},right:{marginLeft:"16px"}},xt=i.a.forwardRef((function(e,t){var n=e.withArrow,r=e.arrowStyle,o=e.placement,a=e.fixed,i=e.style,c=e.children,l=Object(d.f)();return Object(ut.g)("div",{key:"popoverContent",ref:t,css:Object(it.a)({position:"absolute",background:l.colors.GBK99C,borderRadius:"4px",zIndex:203,boxShadow:"rgba(0, 0, 0, 0.16) 0 0 20px 0"},";label:PopoverContent;"),style:Object.assign(Object.assign(Object.assign(Object.assign({},kt[o]),n&&wt[o]),a&&{position:"fixed"}),i)},n&&Object(ut.g)(jt,{css:Object(it.a)({position:"absolute",overflow:"hidden",pointerEvents:"none",fill:i.backgroundColor||l.colors.GBK99C,"&:after":{content:'""',position:"absolute",boxSizing:"border-box",width:"24px",height:"24px",margin:"-12px",fill:i.backgroundColor||l.colors.GBK99C,transform:"rotate(45deg)",pointerEvents:"auto"}},";label:PopoverContent;"),style:Object.assign(Object.assign({},Ct[o]),r)}),"function"==typeof c?c(e):c)})),Rt=Object(ft.animated)(xt),Et=function(e){R()(n,e);var t=vt(n);function n(e){var r;return O()(this,n),r=t.call(this,e),"undefined"!=typeof document&&(r.element=document.createElement("div")),r}return C()(n,[{key:"componentDidMount",value:function(){document.body.appendChild(this.element)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.element),delete this.element}},{key:"render",value:function(){if(this.element){var e=this.props,t=e.onRef,n=We()(e,ht);return Object(L.createPortal)(Object(ut.g)("div",Object.assign({ref:t},n)),this.element)}return null}}]),n}(a.Component),Nt=function(e){var t,n,r=e.renderChildren,o=e.children,i=e.transitionProps,c=e.springProps,l=e.onAfterEnter,u=e.onAfterLeave,s=Object(a.useState)(!1),f=oe()(s,2),d=f[0],p=f[1],h=!!o,v=Object(ft.useSpring)((function(){return c.from})),b=oe()(v,2),m=b[0],g=b[1],y=(t=o,n=Object(a.useRef)(),Object(a.useEffect)((function(){t&&(n.current=t)})),n.current),O=Object(ft.useTransition)(h,Object.assign(Object.assign({},i),{},{onRest:function(e,t){e.finished&&t.item&&2===e.value.p&&(u&&u(),p(!1))}}));return Object(a.useEffect)((function(){h?(p(!0),g(c.enter)):g(c.leave)}),[h]),Object(a.useLayoutEffect)((function(){d&&l&&l()}),[d]),d?Object(ut.g)(Et,null,O((function(e,t){return t?r({transitionStyles:e,springStyles:m,item:h?o:y}):null}))):null},St=pt()(.25,.1,.25,1),Tt={from:{opacity:0},enter:{opacity:1,config:{duration:200,easing:St}},leave:{opacity:0,config:{duration:300,easing:St}}},zt=function(e){var t=e.isOpen,n=e.arrowed,r=e.fixed,o=e.globalClose,i=e.target,c=e.container,l=e.boundary,u=e.placement,s=e.listenResize,d=e.customStyle,p=e.backgroundColor,h=e.transitionProps,v=e.springProps,b=e.customPosition,m=e.onClose,g=e.onAfterLeave,y=e.children,O=Object(a.useState)(u),j=oe()(O,2),C=j[0],w=j[1],k=Object(a.useState)({}),x=oe()(k,2),R=x[0],E=x[1],N=Object(a.useState)({}),S=oe()(N,2),T=S[0],z=S[1],P=Object(a.useRef)(null),_=Object(f.b)(),A=Object(st.d)((function(){var e=function(e){var t=e.target,n=e.container,r=e.placement,o=e.fixed,a=e.boundary,i=e.element,c=e.customPosition;if(i&&t){var l=t instanceof HTMLElement?t:Object(L.findDOMNode)(t),u=document.body;n&&(u=n instanceof HTMLElement?n:Object(L.findDOMNode)(n));var s=(c||Ot)(l.getBoundingClientRect(),function(){var e,t,n,r,o,a,i,c,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=arguments.length>1?arguments[1]:void 0,s=l.getElement,f=l.padding,d=void 0===f?0:f,p=l.getBoundaryInfo;if("object"==typeof d&&(o=d.top||0,a=d.bottom||0,i=d.left||0,c=d.right||0),p)return p();var h={};s?h=s():u&&(h=u);var v=h.getBoundingClientRect(),b=v.top,m=v.right,g=v.bottom,y=v.left;return{top:b+(null!==(e=o)&&void 0!==e?e:d),right:m-(null!==(t=c)&&void 0!==t?t:d),bottom:g-(null!==(n=a)&&void 0!==n?n:d),left:y+(null!==(r=i)&&void 0!==r?r:d)}}(a,u),i.getBoundingClientRect(),r);return o||(s.targetContainerStyle.left+=window.pageXOffset,s.targetContainerStyle.top+=window.pageYOffset),s}}({target:i,container:c,placement:C,fixed:r,boundary:l,element:P.current,customPosition:b});if(e){var t=e.placement,n=e.targetContainerStyle,o=e.arrowStyle;w(t),E(n),z(o)}}));Object(a.useEffect)((function(){t&&A()}),[t]),Object(a.useLayoutEffect)((function(){if(s)return window.addEventListener("resize",A),function(){window.removeEventListener("resize",A)}}),[]);var I=Object(st.d)((function(e){var n;t&&(!document.body.contains(e.target)||(null==P||null===(n=P.current)||void 0===n?void 0:n.contains(e.target))||(null==i?void 0:i.contains(e.target))||m&&m())}));Object(a.useEffect)((function(){return o&&(_.Mobile?document.addEventListener("touchstart",I):document.addEventListener("click",I)),o&&function(){_.Mobile?document.removeEventListener("touchstart",I):document.removeEventListener("click",I)}}),[o,_,I]);var M=Object(st.d)((function(){w(u),g()})),V=Object(a.useCallback)((function(e){var t=e.transitionStyles,o=e.springStyles,a=e.item;return Object(ut.g)(Rt,{key:"popover",ref:P,withArrow:n,arrowStyle:T,placement:C,fixed:r,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},R),t),o),"function"==typeof d?d(C):d),p&&{backgroundColor:p}),onMounted:A},a)}),[n,T,C,r,R,d,p,A]);return Object(ut.g)(Nt,{renderChildren:V,transitionProps:h,springProps:v,onAfterEnter:A,onAfterLeave:M},t&&y)};zt.propTypes={isOpen:l.a.bool,arrowed:l.a.bool,fixed:l.a.bool,globalClose:l.a.bool,placement:l.a.oneOf(Object.values(mt)),listenResize:l.a.bool,container:l.a.object,boundary:l.a.shape({getElement:l.a.func,padding:l.a.oneOfType([l.a.number,l.a.object]),getBoundaryInfo:l.a.func}),transitionProps:l.a.shape({from:l.a.object.isRequired,enter:l.a.object.isRequired,leave:l.a.object.isRequired,config:l.a.oneOfType([l.a.object,l.a.func])}),springProps:l.a.shape({from:l.a.object.isRequired,enter:l.a.object.isRequired,leave:l.a.object.isRequired}),customStyle:l.a.oneOfType([l.a.object,l.a.func]),backgroundColor:l.a.string,customPosition:l.a.func,onClose:l.a.func,onAfterLeave:l.a.func},zt.defaultProps={isOpen:!1,arrowed:!0,fixed:!1,globalClose:!1,placement:"top",listenResize:!0,transitionProps:{from:{transform:"translateY(10px)",p:1},enter:{transform:"translateY(0px)",p:0},leave:{transform:"translateY(0px)",p:2},config:function(e){return e?{tension:380,friction:20}:{duration:300}}},springProps:Tt,onClose:l.a.func,onAfterLeave:F.a};var Pt=zt,_t=["color","iconUrl","icon","name","subText","linkText","link","expandable","isExpanded","showDeleteButton","onDelete","onClick","style","css"],At=["children","placement","onClick","onPopoverClosed"],It=["answerCollapsed","answerAbnormal","commercial","thanksForInviting","positive","bluebook","annotation","disclaimer","adPromotion","campaign","limit"],Mt={GOLDEN:{bg:"GYL02A",color:"GYL02A",colorNoAlpha:!0},BLUE:{bg:"GBL01A",color:"GBL07A"},PURPLE:{bg:"GRD07A",color:"GRD07A"},GREY:{bg:"GBK10A",color:"GBK06A",bgNoAlpha:!0,colorNoAlpha:!0}},Vt=function(e){var t=e.bg,n=e.color,r=e.bgNoAlpha,o=e.colorNoAlpha,a=Object(d.f)(),i=a.colors,c=a.colorMod;return{bg:r?i[t]:c(i[t]).alpha(.08),color:o?i[n]:c(i[n]).alpha(.72)}};var Bt={name:"2q0wp1-Label",styles:"flex:0 0 auto;;label:Label;"},Lt={name:"2q0wp1-Label",styles:"flex:0 0 auto;;label:Label;"},Dt={name:"18mqqn8-Label",styles:"flex:0 0 auto;cursor:pointer;;label:Label;"},Ft={name:"zzd7cz-Label",styles:"margin:0 -4px;flex:0 0 auto;;label:Label;"},Kt=i.a.forwardRef((function(e,t){var n=e.color,r=void 0===n?Mt.BLUE:n,o=e.iconUrl,a=e.icon,i=e.name,c=e.subText,l=e.linkText,u=e.link,s=e.expandable,p=e.isExpanded,h=e.showDeleteButton,v=e.onDelete,b=e.onClick,m=e.style,g=e.css,y=We()(e,_t),O=Object(f.b)().Mobile,j=Object(d.f)().fontWeights,C=Vt(r),w=C.bg,k=C.color,x=u&&!s?lt.b:"div",R=null,E=null;return h?E=Qe.a:s?R=p?Ye.a:Je.a:u&&(R=P.a),Object(ut.g)(x,Object.assign({ref:t,css:Object(it.a)(Object.assign({flex:"0 1 auto",display:"flex",alignItems:"center",justifyContent:"flex-start",background:w,padding:"0 8px",height:O?28:30,borderRadius:O?14:15,textDecoration:"none",fontSize:O?13:14,lineHeight:O?"16px":"18px",color:k,overflow:"hidden"},g),";label:Label;")},u&&{href:u},{style:Object.assign({cursor:R?"pointer":"default"},m),onClick:b},y),o?Object(ut.g)("img",{src:Object(q.imgUrl)(o,"m"),height:O?16:19,width:O?16:19,alt:"",css:Bt}):Boolean(a)&&Object(ut.g)(a,{fill:k,size:O?17:20,css:Lt}),Object(ut.g)(ct.Flex,{overflow:"hidden",flex:"0 1 auto",mx:"4px"},Object(ut.g)(ct.Text,{flexShrink:0,fontWeight:j.bold,mt:O?"1px":0},i)),Boolean(c||l)&&Object(ut.g)(ct.Text,{flex:"0 0 auto",display:"flex",alignItems:"center",mt:O?"1px":0,mr:"4px"},c||l),Boolean(E)&&Object(ut.g)(E,{fill:k,size:18,onClick:v,css:Dt}),Boolean(R)&&Object(ut.g)(R,{fill:k,size:O?23:26,css:Ft}))}));Kt.displayName="Label";Ze.a,$e.a,Xe.a,Ze.a,et.a,et.a,tt.a,nt.a,rt.a,ot.a,ot.a,ot.a,ot.a,ot.a,at.a,ot.a;var Ut={online_roundtable:"圆桌收录",relevant:"亲自答",editor_recommendation:"编辑推荐",roundtable:"圆桌收录",special:"专题收录",raise_hand:"举手行动",weekly:"周刊收录",daily:"日报收录",professional:"专业",zhizhi_plan_recommend:"致知计划",zhizhi_plan_edu_recommend:"致知计划",zhizhi_plan_baby_recommend:"致知计划",zhizhi_plan_acg_recommend:"致知计划",zhizhi_plan_outing_recommend:"致知计划",zhizhi_plan_rumour_deny:"专业辟谣",zhizhi_plan:"致知计划",science_seeking_truth_recommend:"科学求真"},Gt=(Object.assign(Object.assign({},Ut),{},{weekly:"知乎周刊收录",daily:"知乎日报收录"}),i.a.forwardRef((function(e,t){var n=e.children,r=e.placement,o=void 0===r?"bottom":r,c=e.onClick,l=e.onPopoverClosed,u=We()(e,At),s=Object(d.f)(),p=Object(a.useRef)(),h=Object(a.useState)(!1),v=oe()(h,2),b=v[0],m=v[1],g=Object(a.useRef)(),y=Object(f.b)().Mobile,O=Boolean(n),j=Object(st.d)((function(e){p.current=function(e,t){return e?("function"==typeof e?e(t):e.current=t,t):t}(t,e)})),C=Object(st.d)((function(e){c&&c(e),O&&m(!b)})),w=Object(st.d)((function(){g.current&&clearTimeout(g.current),O&&!b&&m(!0)})),k=Object(st.d)((function(){g.current=setTimeout((function(){m(!1)}),100)}));return Object(ut.g)(i.a.Fragment,null,Object(ut.g)(Kt,Object.assign({},u,{ref:j,expandable:O,isExpanded:b,onClick:C},!y&&{onMouseOver:w,onMouseLeave:k})),O&&Object(ut.g)(Pt,{isOpen:b,arrowed:!0,globalClose:!0,listenResize:!0,target:p.current,placement:o,boundary:{padding:16},customStyle:{borderRadius:"8px",boxShadow:"0 -3px 10px 0 rgba(0, 0, 0, 0.1)"},backgroundColor:s.colors.GBK99C,onClose:k,onAfterLeave:l},Object(ut.g)("div",{onMouseOver:w,onMouseLeave:k},n)))})));Gt.displayName="ExpandableLabel";var qt=function(e){var t=e.color,n=void 0===t?Mt.GREY:t,r=e.icon,o=e.name,a=e.subText,c=e.moreLink,l=e.renderMoreIcon,u=e.description,s=Object(f.b)().Mobile,d=Vt(n).color,p=null;return p=c&&l?Object(ut.g)(i.a.Fragment,null,a,Object(ut.g)(lt.b,{href:c,css:Object(it.a)({marginLeft:a?4:0,textDecoration:"none",color:"inherit"},";label:PopoverContent;")},l)):a,Object(ut.g)(ct.Box,{py:"8px",maxWidth:s?"calc(100vw - 34px)":"400px"},Object(ut.g)(Kt,{color:n,icon:r,name:o,subText:p,css:Object(it.a)({height:s?32:36,borderRadius:0,background:"none"},";label:PopoverContent;")}),Boolean(u)&&Object(ut.g)(ct.Text,{lineHeight:s?"16px":"18px",fontSize:s?"13px":"14px",color:d,mx:"12px",mb:"8px"},u))},Ht=function(e){var t=e.disclaimerInfo,n=t.excerpt,r=t.description,o=t.subDescription,a=n?"创作声明":r,i=n&&"内容".concat(n);return Object(ut.g)(Gt,{name:a,subText:i},Object(ut.g)(qt,{color:Mt.BLUE,name:a,subText:i,description:o}))};var Wt={name:"pf9kc0-Labels",styles:"& > div, & > a{margin-right:8px;margin-bottom:8px;};label:Labels;"},Qt=function(e){var t=e.answerCollapsed,n=e.answerAbnormal,r=e.commercial,o=e.thanksForInviting,a=e.positive,i=e.bluebook,c=e.annotation,l=e.disclaimer,u=e.adPromotion,s=e.campaign,f=e.limit,d=void 0===f?2:f,p=We()(e,It);if(!(t||n||r||o||a||i||c||l||u||s))return null;var h=[t||n,r||o||u||i,a,c||l,s].filter(Boolean).slice(0,d);return Object(ut.g)(ct.Flex,Object.assign({flexDirection:"row",flexWrap:"wrap",pt:"8px",css:Wt},p),h.map((function(e,t){return Object(ut.g)("div",{key:t},e)})))};Qt.propTypes={answerCollapsed:l.a.node,answerAbnormal:l.a.node,commercial:l.a.node,thanksForInviting:l.a.node,bluebook:l.a.node,positive:l.a.node,annotation:l.a.node,disclaimer:l.a.node,adPromotion:l.a.node,campaign:l.a.node};var Yt=function(e){var t=e.ua,n=void 0===t?{}:t,r=e.isDarkMode,o=void 0!==r&&r,a=e.isFixed,c=void 0!==a&&a;return i.a.createElement("div",{className:c?"KfeCollection-FabledStatement-fixed":"KfeCollection-FabledStatement"},i.a.createElement(d.a,{isDarkMode:o,ua:n},i.a.createElement(f.a.Provider,{value:n},i.a.createElement(Ht,{disclaimerInfo:{excerpt:"包含虚构创作",description:"创作声明",subDescription:"内容中的情节存在虚构加工，仅供参考"}}))))};function Jt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T()(e);if(t){var o=T()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N()(this,n)}}function Zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $t=function(e){R()(n,e);var t=Jt(n);function n(){return O()(this,n),t.apply(this,arguments)}return C()(n,[{key:"render",value:function(){var e=this.props,t=e.result,n=t.introCard,r=t.vipWorthInfo,o=t.isFabled,a=void 0!==o&&o,c=t.abParam,l=e.extra,u=l.ua,s=void 0===u?{}:u,f=l.isDarkMode,d=(r||{}).cardColor,p={isNewStyle:"1"===(c||{}).paTopLabel,isMobile:Boolean(s.Mobile)},h=p.isNewStyle&&!p.isMobile&&0!==d;return i.a.createElement("div",{className:"KfeCollection-AnswerTopCard-Container"},i.a.createElement("div",{className:h?"KfeCollection-AnswerTopCard-FlexContainer":""},2===d?i.a.createElement(qe,{data:r,extra:p}):i.a.createElement(Ge,{data:r,className:p.isNewStyle?"":"KfeCollection-AnswerTopCard-Privilege",extra:p}),a&&p.isNewStyle&&i.a.createElement(Yt,{ua:s,isDarkMode:f,isFixed:h})),Boolean(n)&&i.a.createElement("div",null,i.a.createElement(Le,{introCard:n,extra:p})))}}]),n}(i.a.Component);Zt($t,"propTypes",{className:l.a.string,result:l.a.object.isRequired}),Zt($t,"defaultProps",{result:{articleDesc:{},vipWorthInfo:{},goodsCard:{},btnInfo:{},progressInfo:{},zaInfo:{}},extra:{ua:{}}});var Xt=$t,en=n(57),tn=function(e){var t=e.answer,n=Object(o.useSelector)((function(e){return Object(Se.A)(e,null==t?void 0:t.id)}))||{},i=n.isRequesting,c=n.error,l=n.result,u=Boolean(!i&&!c&&!l),s=Object(o.useDispatch)();Object(a.useEffect)((function(){u&&s(Object(Se.w)(t.id))}),[u,s,t.id]);var f=Object(o.useSelector)(en.uaSelector),p=Object(d.f)().isDarkMode;return Object(r.b)(Xt,{result:l,extra:{ua:f,isDarkMode:p}})},nn=Object(Ne.a)(null)((function(e){var t=e.answer;return"paid"===(null==t?void 0:t.answerType)?Object(r.b)(tn,{answer:t}):null}))},1746:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(1),o=n(61),a=n(888),i=n(74),c=n(44),l=n(0),u=n.n(l),s=n(98),f=Object.assign;var d=function(e){return u.a.createElement(s.a,f({width:"20",height:"20",fill:"none",viewBox:"0 0 20 20"},e),u.a.createElement("path",{fill:"url(#paint0_linear_269:46630)",d:"M2.8 2a.8.8 0 00-.8.8v11.4a.8.8 0 00.8.8h11.4a.8.8 0 00.8-.8V2.8a.8.8 0 00-.8-.8H2.8zm1.051 1.25a.6.6 0 00-.6.6v9.3a.6.6 0 00.6.6h9.3a.6.6 0 00.6-.6v-9.3a.6.6 0 00-.6-.6h-9.3z",fillRule:"evenodd",clipRule:"evenodd"}),u.a.createElement("path",{fill:"#06F",d:"M2.8 2a.8.8 0 00-.8.8v11.4a.8.8 0 00.8.8h11.4a.8.8 0 00.8-.8V2.8a.8.8 0 00-.8-.8H2.8zm1.051 1.25a.6.6 0 00-.6.6v9.3a.6.6 0 00.6.6h9.3a.6.6 0 00.6-.6v-9.3a.6.6 0 00-.6-.6h-9.3z",fillRule:"evenodd",clipRule:"evenodd"}),u.a.createElement("rect",{width:"13",height:"13",x:"4.5",y:"4.5",fill:"url(#paint1_linear_269:46630)",rx:".8"}),u.a.createElement("rect",{width:"13",height:"13",x:"4.5",y:"4.5",fill:"#06F",rx:".8"}),u.a.createElement("path",{fill:"#fff",stroke:"#fff",d:"M8.962 11.153h.725V13.5H8.3v-2.754c0-.66.293-1.181.7-1.567.064-.06.129-.116.196-.168a2.654 2.654 0 00-.205.227c-.295.369-.53.864-.53 1.415v.5h.5zM12.974 11.153h.726V13.5h-1.387v-2.754c0-.66.293-1.181.7-1.567.063-.06.129-.116.195-.168a2.657 2.657 0 00-.204.227c-.295.369-.53.864-.53 1.415v.5h.5z"}),u.a.createElement("defs",null,u.a.createElement("linearGradient",{id:"paint0_linear_269:46630",x1:"15",x2:"2",y1:"2",y2:"15",gradientUnits:"userSpaceOnUse"},u.a.createElement("stop",{stopColor:"#06F"}),u.a.createElement("stop",{offset:"1",stopColor:"#00D1FF"})),u.a.createElement("linearGradient",{id:"paint1_linear_269:46630",x1:"17.5",x2:"4.5",y1:"4.5",y2:"17.5",gradientUnits:"userSpaceOnUse"},u.a.createElement("stop",{stopColor:"#06F"}),u.a.createElement("stop",{offset:"1",stopColor:"#00D1FF"}))))},p=n(30);function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=e.title,l=e.question,u=(l=void 0===l?{}:l).title,s=e.url,f=e.id,h="answer"===t?"原回答：".concat(u):"原文章：".concat(n),v=Object(c.d)((function(){window.open(s)}));return Object(r.b)(i.b,{content:{type:p.ab[t],token:String(f)},children:Object(r.c)(i.a,{shouldTrackShow:!0,zaText:"zvideo_origin_content",zaType:"Card",zaAction:"OpenUrl",extra:{link:{url:s}},as:o.Flex,bg:"GBK10A",padding:"12px 10px 12px 18px",justifyContent:"space-between",onClick:v,css:{cursor:"pointer"},children:[Object(r.c)(o.Flex,{children:[Object(r.b)(d,{css:{marginRight:"6.5px"}}),Object(r.b)(o.Text,{color:"GBK06A",fontSize:"14px",lineHeight:"19.6px",children:h})]}),Object(r.b)(a.a,{size:20,css:function(e){return{flexShrink:"0",fill:e.colors.GBK06A}}})]})})}var v=n(49),b=n(26),m=n(83),g=n(86),y=n(1008),O=n(206),j=n(178),C=n(113),w=n(430),k=n(898),x=(n(1048),function(e){var t=e.author,n=t.author,a=t.identity,c=t.id,u=Object(b.useSelector)((function(e){return Object(C.c)(e,{urlToken:n})})),s=u||{},f=s.avatarUrl,d=s.isFollowing,p=s.name,h=Object(l.useRef)(),v=Object(l.useCallback)((function(){return window.open("https://www.zhihu.com/people/".concat(n))}),[n]),g=Object(l.useCallback)((function(){return h.current.trackEvent({eventType:"Click",elementLocation:{type:"Button",text:d?"取消关注":"关注"},action:d?"UnFollow":"Follow"}),!0}),[d]);return u?Object(r.c)(i.b,{content:{type:"User",token:n,id:c},children:[Object(r.b)(i.d,{ref:h}),Object(r.c)(o.Flex,{mt:"16px",css:{"& + &":{marginTop:"24px"}},alignItems:"center",children:[Object(r.b)(O.a,{url:f,size:38,css:{cursor:"pointer"},onClick:v}),Object(r.c)(o.Box,{ml:"14px",flex:"1",children:[Object(r.b)(o.Box,{color:"GBK03A",fontSize:"15px",lineHeight:"17px",fontWeight:"bold",onClick:v,css:[Object(m.d)(1),{cursor:"pointer"}],children:p}),Object(r.b)(o.Box,{color:"GBK04A",fontSize:"14px",lineHeight:"16px",mt:"3px",children:a})]}),Object(r.b)(k.a,{useCustomZa:!0,preset:"primary",type:"people",id:n,isFollowing:d,onClick:g,css:{padding:"0 14px",minWidth:"0px"}})]})]}):null}),R=function(e){var t,n,a,c,l,u=e.item,s=e.index;if("ANSWER"===u.type)a="Answer",c=(l=u.answer).question.title;else{if("ARTICLE"!==u.type)return null;a="Post",c=(l=u.article).title}var f=l,d=f.id,p=f.thumbnailInfo,h=f.url,v=f.voteupCount,b=f.commentCount,g=null==p||null===(t=p.thumbnails)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.url,y="".concat(Object(j.cnNiceNumber)(v),"赞同 · ").concat(Object(j.cnNiceNumber)(b),"评论");return Object(r.b)(i.b,{content:{type:a,id:String(d)},children:Object(r.c)(i.a,{as:"a",view:{elementLocation:{card:{index:s}}},zaType:"Card",zaAction:"OpenUrl",zaText:"视频引用的原文",extra:{link:{url:h}},href:h,target:"_blank",css:function(e){return{marginTop:"16px",display:"flex",alignItems:"center",height:"84px",borderRadius:"8px",padding:"0 12px",backgroundColor:e.colors.GBK10A}},children:[g&&Object(r.b)(o.Image,{src:g,width:"60px",height:"60px",mr:"12px",css:{borderRadius:"6px"}}),Object(r.c)(o.Box,{flex:"1",children:[Object(r.b)(o.Box,{fontWeight:"bold",fontSize:"15px",css:Object(m.d)(1),children:c}),Object(r.b)(o.Box,{color:"GBK06A",fontSize:"13px",children:y})]})]})})},E=function(e){var t,n,c=e.id,u=e.subAuthor,s=e.before,f=e.after,h=e.content,j=h||{},C=j.type,k=j.id,E=p.ab[C],N=Object(b.useDispatch)(),S=Object(b.useSelector)((function(e){return e.zvideos.creationReferences[c]})),T=Object(l.useState)(!1),z=Object(v.a)(T,2),P=z[0],_=z[1],A=Object(l.useCallback)((function(){_(!0),N(Object(w.m)(c))}),[N,c]);return u?Object(r.c)(r.a,{children:[Object(r.b)(i.b,{block:"CreationReferencesBar",content:h?{type:E,token:k}:{},children:Object(r.c)(i.e,{zaText:!0,shouldTrackClick:!0,zaType:"Card",as:o.Flex,onClick:A,justifyContent:"space-between",alignItems:"center",pl:"16px",pr:"10px",py:"12px",color:"GBK06A",bg:"GBK10A",fontSize:"14px",lineHeight:"20px",css:{whiteSpace:"pre-wrap",cursor:"pointer"},children:[Object(r.c)(o.Flex,{children:[Object(r.b)(d,{css:{marginRight:"6.5px"}}),Object(r.b)(o.Box,{flexShrink:"0",children:s}),Object(r.c)(o.Flex,{alignItems:"center",mx:"6px",children:[Object(r.b)(O.a,{url:u.avatarUrl,round:!0,size:18,css:function(e){return{border:"1px solid ".concat(e.colors.GBK99A)}}}),Object(r.b)(o.Box,{flex:"1",ml:"6px",css:Object(m.d)(1),children:u.name})]}),Object(r.b)(o.Box,{flexShrink:"0",children:f})]}),Object(r.b)(a.a,{size:20,css:{flexShrink:"0"}})]})}),Object(r.b)(g.b,{onClose:function(){return _(!1)},title:"引用详情",children:P&&(S?Object(r.c)(i.b,{block:"CreationReferencesModal",children:[Object(r.b)(o.Box,{fontSize:"15px",fontWeight:"bold",children:"作者"}),null===(t=S.authors)||void 0===t?void 0:t.map((function(e){return Object(r.b)(x,{author:e},e.author)})),Object(r.b)(o.Box,{my:"24px",css:function(e){return{borderTop:"1px solid ".concat(e.colors.GBK10A)}}}),Object(r.b)(o.Box,{fontSize:"15px",fontWeight:"bold",children:"视频引用的原文"}),null===(n=S.originalContent)||void 0===n?void 0:n.map((function(e,t){return Object(r.b)(R,{item:e,index:t},t)}))]}):Object(r.c)(r.a,{children:[Object(r.b)(y.a,{variant:"P01"}),Object(r.b)(y.a,{variant:"T02"})]}))})]}):null},N=n(1109),S=function(e){var t=e.id,n=e.creationRelationship;if(!n)return null;if(Object(N.e)(n)){var o,a=Object(N.a)(n);return(null!==(o=null==a?void 0:a.author)&&void 0!==o?o:null)&&Object(r.b)(h,Object.assign({},a))}if(Object(N.f)(n)){var i,c=Object(N.d)(n),l=null!==(i=null==c?void 0:c.author)&&void 0!==i?i:null,u="answer"===(null==c?void 0:c.type)?"回答":"文章";return l&&Object(r.b)(E,{id:t,subAuthor:l,before:"本视频引用",after:"的".concat(u,"进行创作"),content:c})}return null}},1751:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(1),o=n(0),a=n.n(o),i=n(178),c=n(1054),l=n(997),u=n(44),s=n(98),f=Object.assign;var d=function(e){return a.a.createElement(s.a,f({width:"8",height:"10",fill:"none",viewBox:"0 0 8 10"},e),a.a.createElement("path",{fill:"#121212",d:"M1.315 9.302a.6.6 0 01-.915-.51v-7.52a.6.6 0 01.914-.51l6.11 3.754a.6.6 0 010 1.022l-6.11 3.764z",fillRule:"evenodd",clipRule:"evenodd"}))},p=n(42),h=n.n(p),v=n(1048),b=function(e,t){return null!=e&&e.plainText?"".concat(e.plaintext," · "):Object(v.isReferenceRelation)(t)?"引用创作 · ":null};function m(e){var t=e.videoId,n=e.zvideoId,a=e.title,s=e.playCount,f=void 0===s?0:s,p=e.voteupCount,v=void 0===p?0:p,m=e.isComplete,g=void 0!==m&&m,y=e.startTime,O=void 0===y?0:y,j=e.creationReferences,C=e.creationRelationship,w=e.shouldExpandState,k=e.videoRef,x=e.alwaysShowVolumeButton,R=e.itemId,E=e.itemType,N=Number(O/1e3),S=Object(o.useRef)(),T=Object(o.useRef)({currentTime:0}),z=Object(o.useRef)(Object(l.c)(t,"*",!0));Object(o.useEffect)((function(){var e=z.current.subscribeMessage((function(e,t){e===l.b.DOM.TIMEUPDATE&&(T.current.currentTime=t.currentTime)}));return function(){return e.unsubscribe()}}),[]);return Object(r.c)("div",{className:"VideoAnswerPlayer",children:[Object(r.b)("div",{className:"VideoAnswerPlayer-video",children:Object(r.b)(c.a,{zaProps:{type:"Answer",token:R},ref:Object(u.h)(S,k),className:"VideoAnswerPlayer-iframe",type:"video",src:"https://".concat(h.a.videoHost,"/video/").concat(t,"?").concat(new URLSearchParams([["itemId",R],["itemType",E]])),iframeProps:{allowFullScreen:!0},griffithProps:{alwaysShowVolumeButton:x}})}),w&&Object(r.c)("div",{role:"button",tabIndex:0,"aria-label":"跳转到对应视频",className:"VideoAnswerPlayer-stateBar",onClick:function(){z.current.dispatchMessage(S.current.contentWindow,l.a.PLAYER.PAUSE,{});var e=(T.current.currentTime+N).toFixed(1);window.open("https://www.zhihu.com/zvideo/".concat(n,"?playTime=").concat(e))},children:[Object(r.c)("div",{className:"VideoAnswerPlayer-state",children:[Object(r.b)("div",{className:"VideoAnswerPlayer-state--title",children:a}),Object(r.c)("div",{className:"VideoAnswerPlayer-state--data",children:[b(j,C),Object(i.cnNiceNumber)(f),"播放",v>0?" · ".concat(Object(i.cnNiceNumber)(v),"赞同"):null]})]}),!g&&Object(r.c)("div",{className:"VideoAnswerPlayer-action",children:[Object(r.b)(d,{style:{marginRight:"6px"}}),"完整版"]})]})]})}},1757:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(40),o=n.n(r),a=n(59),i=n(1),c=n(26),l=n(74),u=n(160),s=n(5),f=Object(s.a)("coCreation",["CANCEL"]);function d(e){var t=e.contentType,n=e.contentId,r=Object(c.useDispatch)(),s=function(){var e=Object(a.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.confirm("",{title:"你确定要取消联合创作吗？",text:{ok:"同意"}});case 2:return e.next=4,r((o=t,a=n,{API:{types:f.CANCEL,endpoint:"creation-relationship/cancel",method:"PUT",body:{content_type:o,content_id:String(a)}}}));case 4:window.location.reload();case 5:case"end":return e.stop()}var o,a}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.b)(l.a,{zaType:"Button",zaText:!0,zaBlock:"CancelCoCreation",onClick:s,children:"取消联合创作"})}},2236:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(27),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M10.241 19.313a.97.97 0 0 0-.77.2 7.908 7.908 0 0 1-3.772 1.482.409.409 0 0 1-.38-.637 5.825 5.825 0 0 0 1.11-2.237.605.605 0 0 0-.227-.59A7.935 7.935 0 0 1 3 11.25C3 6.7 7.03 3 12 3s9 3.7 9 8.25-4.373 9.108-10.759 8.063z",fillRule:"evenodd"}))};i.defaultProps={name:"Comment"},t.a=i},2246:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(27),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M2.931 7.89c-1.067.24-1.275 1.669-.318 2.207l5.277 2.908 8.168-4.776c.25-.127.477.198.273.39L9.05 14.66l.927 5.953c.18 1.084 1.593 1.376 2.182.456l9.644-15.242c.584-.892-.212-2.029-1.234-1.796L2.93 7.89z",fillRule:"evenodd"}))};i.defaultProps={name:"Share"},t.a=i},2249:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(27),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M13.362 19.12l-1.951 1.73-.014.012a.595.595 0 0 1-.84-.078L9.178 19.12H7.481a2.985 2.985 0 0 1-2.966-3.292l.708-6.962c.151-1.489.348-2.183.789-2.891a3.963 3.963 0 0 1 1.635-1.481C8.395 4.126 9.103 4 10.596 4h5.923a2.985 2.985 0 0 1 2.966 3.292l-.708 6.962c-.151 1.488-.348 2.182-.789 2.89a3.963 3.963 0 0 1-1.635 1.482c-.748.367-1.456.494-2.949.494h-.042zm1.21-6.804a.198.198 0 0 1-.197-.23l.24-1.566a.199.199 0 0 1 .197-.169h1.01a.797.797 0 0 0 .795-.773.624.624 0 0 0-.624-.625h-.884a.198.198 0 0 1-.195-.233l.302-1.75a.676.676 0 0 0-.662-.789.9.9 0 0 0-.886.743l-.334 1.865a.199.199 0 0 1-.196.164h-1.62a.198.198 0 0 1-.196-.234l.314-1.748a.673.673 0 0 0-.659-.79.9.9 0 0 0-.886.743l-.334 1.865a.199.199 0 0 1-.195.164H8.51a.797.797 0 0 0-.795.773c0 .345.28.625.624.625h.942a.198.198 0 0 1 .197.23l-.24 1.566a.199.199 0 0 1-.197.17H7.979a.797.797 0 0 0-.794.772c0 .345.279.625.623.625h.959a.198.198 0 0 1 .196.23l-.308 1.968a.678.678 0 0 0 .666.78c.43 0 .796-.313.863-.74l.323-2.07a.199.199 0 0 1 .197-.168h1.64a.198.198 0 0 1 .196.23l-.306 1.96a.685.685 0 0 0 .673.788.883.883 0 0 0 .872-.748l.322-2.062a.199.199 0 0 1 .197-.168h1.01a.809.809 0 0 0 .805-.779.618.618 0 0 0-.618-.619h-.924zm-1.518-1.735l-.24 1.566a.199.199 0 0 1-.196.17h-1.623a.198.198 0 0 1-.197-.23l.24-1.567a.199.199 0 0 1 .197-.169h1.623a.198.198 0 0 1 .196.23z",fillRule:"evenodd"}))};i.defaultProps={name:"Hashtag"},t.a=i},2253:function(e,t,n){"use strict";var r=n(1667);n.o(r,"animated")&&n.d(t,"animated",(function(){return r.animated})),n.o(r,"useSpring")&&n.d(t,"useSpring",(function(){return r.useSpring})),n.o(r,"useTransition")&&n.d(t,"useTransition",(function(){return r.useTransition}))},2807:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(27),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M19.722 18a.249.249 0 0 1-.242-.2 1 1 0 0 0-.906-.797L18.5 17h-.875a5.135 5.135 0 0 1-.527 1.003L17 18c1.524 0 2.783 1.237 2.974 2.72a.25.25 0 0 1-.249.28h-1.503a.249.249 0 0 1-.242-.2 1 1 0 0 0-.906-.797L17 20H7c-.465 0-.855.375-.967.818a.243.243 0 0 1-.237.182H4.385c-.266 0-.386-.12-.374-.262a3 3 0 0 1 2.876-2.736h.014a5.162 5.162 0 0 1-.527-1.001L5.5 17c-.465 0-.855.374-.967.818a.243.243 0 0 1-.237.182H2.885c-.266 0-.386-.12-.374-.262a3 3 0 0 1 2.876-2.736L5.5 15H6L6 14.895a4.736 4.736 0 0 1-3.684-5.329l.03-.173.442-2.365a3 3 0 0 1 1.94-5.017.25.25 0 0 1 .27.25v1.514a.249.249 0 0 1-.2.245A1 1 0 1 0 5.98 5.2a.25.25 0 0 1 .245-.2h1.514a.25.25 0 0 1 .25.271 3 3 0 0 1-3.342 2.708l-.334 1.782a2.735 2.735 0 0 0 2.089 3.172 5.012 5.012 0 0 1 1.076-1.637 2.006 2.006 0 0 1-.426-1.754 1.972 1.972 0 0 1 1.492-1.491A2.003 2.003 0 0 1 11 10h2a2.002 2.002 0 0 1 2.457-1.949c.741.164 1.328.75 1.492 1.492.148.669-.039 1.299-.426 1.754a5.021 5.021 0 0 1 1.077 1.64 2.903 2.903 0 0 0 2.248-3.406l-.031-.139-.357-1.427a3 3 0 0 1-3.448-2.692.251.251 0 0 1 .25-.273h1.515c.118 0 .22.083.243.198a1 1 0 1 0 1.178-1.178.248.248 0 0 1-.198-.243V2.263c0-.148.126-.264.273-.251A3.001 3.001 0 0 1 21.27 6.96l.486 1.946a4.906 4.906 0 0 1-3.759 5.992c.002.033.002.068.002.102h.5c1.524 0 2.783 1.236 2.975 2.72a.25.25 0 0 1-.25.28h-1.503zM13.5 12h-3C9.12 12 8 13.344 8 15c0 1.614 1.061 2.929 2.391 2.997L10.5 18h3c1.38 0 2.5-1.344 2.5-3 0-1.614-1.061-2.929-2.392-2.997L13.5 12z",fillRule:"evenodd"}))};i.defaultProps={name:"Crab"},t.a=i},2808:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(27),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M15.465 4.544l2.272.406c.67.12 1.193.644 1.313 1.313l.406 2.272c.042.231.132.45.266.643l1.32 1.894a1.624 1.624 0 0 1 0 1.856l-1.32 1.894a1.624 1.624 0 0 0-.266.643l-.406 2.272a1.624 1.624 0 0 1-1.313 1.313l-2.272.406c-.231.042-.45.132-.643.266l-1.894 1.32a1.624 1.624 0 0 1-1.856 0l-1.894-1.32a1.624 1.624 0 0 0-.643-.266l-2.272-.406a1.624 1.624 0 0 1-1.313-1.313l-.406-2.272a1.624 1.624 0 0 0-.266-.643l-1.32-1.894a1.624 1.624 0 0 1 0-1.856l1.32-1.894c.134-.193.224-.412.266-.643l.406-2.272c.12-.67.644-1.193 1.313-1.313l2.272-.406c.231-.042.45-.132.643-.266l1.894-1.32a1.624 1.624 0 0 1 1.856 0l1.894 1.32.643.266zM12 14.187c.526 0 .977-.209 1.351-.625.375-.416.562-.916.562-1.501V8.659c0-.584-.187-1.085-.562-1.501-.374-.416-.825-.625-1.35-.625-.527 0-.978.209-1.352.625a2.166 2.166 0 0 0-.562 1.501v3.402c0 .585.187 1.085.562 1.501.374.416.825.625 1.351.625zm3.436-3.159a.373.373 0 0 0-.278-.121c-.107 0-.199.04-.277.121a.402.402 0 0 0-.117.289v.82c0 .79-.27 1.466-.812 2.027-.54.562-1.191.843-1.952.843-.76 0-1.412-.281-1.953-.843a2.818 2.818 0 0 1-.81-2.027v-.82a.402.402 0 0 0-.118-.289.373.373 0 0 0-.277-.121c-.107 0-.2.04-.278.121a.401.401 0 0 0-.117.289v.82c0 .944.303 1.765.91 2.463.606.698 1.356 1.098 2.248 1.2v1.94c-.002.22.13.33.395.33s.397-.11.395-.33V15.8c.892-.102 1.642-.502 2.248-1.2.607-.698.91-1.52.91-2.463v-.82a.401.401 0 0 0-.117-.289z",fillRule:"evenodd"}))};i.defaultProps={name:"LabelRelevant"},t.a=i},2809:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(27),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M12.868 2.899l6.597 3.8c.537.31.868.881.868 1.5v7.602c0 .619-.33 1.19-.868 1.5l-6.597 3.8c-.537.31-1.199.31-1.736 0l-6.597-3.8a1.731 1.731 0 0 1-.868-1.5V8.199c0-.619.33-1.19.868-1.5l6.597-3.8a1.74 1.74 0 0 1 1.736 0zm-2.614 11.85a.29.29 0 0 1 .255.148l1.239 2.207a.289.289 0 0 0 .504 0l1.24-2.207a.29.29 0 0 1 .254-.148l2.52.023a.29.29 0 0 0 .253-.434l-1.284-2.192a.288.288 0 0 1 0-.292l1.284-2.192a.288.288 0 0 0-.253-.434l-2.52.023a.29.29 0 0 1-.255-.148l-1.239-2.207a.289.289 0 0 0-.504 0l-1.24 2.207a.29.29 0 0 1-.254.148l-2.52-.023a.29.29 0 0 0-.253.434l1.284 2.192a.288.288 0 0 1 0 .292L7.48 14.338a.288.288 0 0 0 .253.434l2.52-.023z",fillRule:"evenodd"}))};i.defaultProps={name:"LabelEditorRecommendation"},t.a=i},2810:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(27),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M3.85 5.266c1.093-.4 2.175-.6 3.245-.6 1.338 0 2.675.313 4.01.939a.6.6 0 0 1 .346.543v10.31a.24.24 0 0 1-.342.216c-1.337-.626-2.675-.94-4.014-.94-1.186 0-2.387.246-3.604.738a.6.6 0 0 1-.824-.557V6.957a1.8 1.8 0 0 1 1.182-1.69zm9.045.339c1.335-.626 2.672-.938 4.01-.938 1.07 0 2.152.2 3.246.6a1.8 1.8 0 0 1 1.182 1.69v8.958a.6.6 0 0 1-.824.557c-1.217-.492-2.418-.737-3.604-.737-1.339 0-2.677.313-4.014.94a.24.24 0 0 1-.342-.218V6.148a.6.6 0 0 1 .346-.543zm4.01 11.282c1.311 0 2.619.27 3.918.806.419.172.62.656.45 1.081a.813.813 0 0 1-1.065.457c-1.108-.457-2.207-.684-3.303-.684-1.08 0-2.163.22-3.254.664h.001a1.8 1.8 0 0 1-.649.121l-2.079.001c-.195 0-.39-.04-.568-.12-1.094-.445-2.18-.666-3.261-.666-1.096 0-2.195.227-3.303.684a.813.813 0 0 1-1.065-.457.834.834 0 0 1 .45-1.081c1.3-.536 2.607-.806 3.918-.806a10.009 10.009 0 0 1 3.391.604 3 3 0 0 0 1.025.18l.973.001a3 3 0 0 0 1.028-.18 10.01 10.01 0 0 1 3.393-.604z",fillRule:"evenodd"}))};i.defaultProps={name:"LabelWeekly"},t.a=i},2811:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(27),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M10.037 3.2h3.926c2.377 0 3.24.248 4.109.712a4.846 4.846 0 0 1 2.016 2.016c.464.87.712 1.732.712 4.109v3.926c0 2.377-.248 3.24-.712 4.109a4.846 4.846 0 0 1-2.016 2.016c-.87.464-1.732.712-4.109.712h-3.926c-2.377 0-3.24-.248-4.109-.712a4.846 4.846 0 0 1-2.016-2.016c-.464-.87-.712-1.732-.712-4.109v-3.926c0-2.377.248-3.24.712-4.109a4.846 4.846 0 0 1 2.016-2.016c.87-.464 1.732-.712 4.109-.712zM12 17.61a1.027 1.027 0 0 0 0-2.053A3.557 3.557 0 1 1 15.557 12a1.027 1.027 0 1 0 2.053 0A5.61 5.61 0 1 0 12 17.61z",fillRule:"evenodd"}))};i.defaultProps={name:"LabelDaily"},t.a=i},2812:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(27),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M15.712 4.011l2.435.435a1.74 1.74 0 0 1 1.407 1.407l.435 2.435c.044.247.141.482.285.688l1.414 2.03a1.74 1.74 0 0 1 0 1.989l-1.414 2.029a1.74 1.74 0 0 0-.285.688l-.435 2.435a1.74 1.74 0 0 1-1.407 1.407l-2.435.435a1.74 1.74 0 0 0-.688.285l-2.03 1.414a1.74 1.74 0 0 1-1.989 0l-2.029-1.414a1.74 1.74 0 0 0-.688-.285l-2.435-.435a1.74 1.74 0 0 1-1.407-1.407l-.435-2.435a1.74 1.74 0 0 0-.285-.688l-1.414-2.03a1.74 1.74 0 0 1 0-1.989l1.414-2.029a1.74 1.74 0 0 0 .285-.688l.435-2.435a1.74 1.74 0 0 1 1.407-1.407l2.435-.435a1.74 1.74 0 0 0 .688-.285l2.03-1.414a1.74 1.74 0 0 1 1.989 0l2.029 1.414.688.285zM11.875 8.84a4.21 4.21 0 1 0 0 8.42 4.21 4.21 0 0 0 0-8.42zm2.086 4.044l-.8.815.19 1.152c.063.386-.149.555-.487.37l-.989-.545-.988.544c-.332.183-.551.025-.486-.37l.188-1.15-.8-.816c-.268-.274-.192-.54.186-.598l1.106-.168.494-1.047c.166-.352.432-.359.601 0l.494 1.047 1.106.168c.37.057.46.319.185.598zm2.066-6.143h-2.65a.298.298 0 0 0-.291.217l-.817 1.504s1.75.098 2.782 1.027l1.22-2.298a.268.268 0 0 0 .062-.164c0-.158-.137-.286-.306-.286zM11.73 8.46l-.816-1.503a.298.298 0 0 0-.292-.217h-2.65c-.169 0-.306.128-.306.286a.27.27 0 0 0 .062.164l1.22 2.298c1.033-.929 2.782-1.027 2.782-1.027z"}))};i.defaultProps={name:"LabelProfessional"},t.a=i},2813:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(27),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M12.3 3a9.3 9.3 0 1 1 0 18.6 9.3 9.3 0 0 1 0-18.6zM7.209 9.9v2.075a.729.729 0 0 1 .194 1.43l-.104.022-.09.006v1.055l.008.109c.037.248.2.461.43.562l.103.036 8.725 2.365.098.02a.733.733 0 0 0 .801-.535l.02-.095.006-.097v-1.96a.729.729 0 0 1-.099-1.452l.099-.007-.008-.11a.733.733 0 0 0-.444-.566l-.105-.034L7.71 10.47l-.106-.03c-.233-.078-.361-.207-.39-.436L7.21 9.9zm7.277 4.993a.729.729 0 1 1-.001 1.458.729.729 0 0 1 0-1.458zm-2.55-2.188a1.094 1.094 0 1 1-.002 2.187 1.094 1.094 0 0 1 .002-2.187zm-2.422-1.07a.6.6 0 1 1 0 1.2.6.6 0 0 1 0-1.2zM12.925 7.2l-.108-.116a1.663 1.663 0 0 0-1.813-.355l-.14.067L7.554 8.56l-.089.057c-.41.307-.332.987.136 1.183l.1.032 8.806 2.156.058.007a.22.22 0 0 0 .19-.32l-.03-.043-2.024-2.363a.723.723 0 0 1-.379.107.703.703 0 0 1-.712-.694c0-.144.045-.278.122-.389l.063-.079-.87-1.014z",fillRule:"evenodd"}))};i.defaultProps={name:"Cheese"},t.a=i},2814:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(27),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M12.3 3a9.3 9.3 0 1 1 0 18.6 9.3 9.3 0 0 1 0-18.6zm4.5 15H7.2v.6h9.6V18zm-9.99-5.785l-.394 1.082c-.028.078.008.167.084.213l.04.02.678.247-.162.443 8.989 3.272.161-.444.678.247c.087.032.18.004.226-.063l.019-.036.393-1.082L6.81 12.215zm.25-.673l-.045.11 10.713 3.899c.326-.897-.162-1.906-1.097-2.311l-.119-.047-7.05-2.567c-.971-.353-2.02.056-2.403.916zm6.467-5.502l-1.462 4.895 2.255.821 2.026-4.69a1.5 1.5 0 1 0-2.82-1.026z",fillRule:"evenodd"}))};i.defaultProps={name:"Stamp"},t.a=i},2815:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(27),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M15.712 4.011l2.435.435a1.74 1.74 0 0 1 1.407 1.407l.435 2.435c.044.247.141.482.285.688l1.414 2.03a1.74 1.74 0 0 1 0 1.989l-1.414 2.029a1.74 1.74 0 0 0-.285.688l-.435 2.435a1.74 1.74 0 0 1-1.407 1.407l-2.435.435a1.74 1.74 0 0 0-.688.285l-2.03 1.414a1.74 1.74 0 0 1-1.989 0l-2.029-1.414a1.74 1.74 0 0 0-.688-.285l-2.435-.435a1.74 1.74 0 0 1-1.407-1.407l-.435-2.435a1.74 1.74 0 0 0-.285-.688l-1.414-2.03a1.74 1.74 0 0 1 0-1.989l1.414-2.029a1.74 1.74 0 0 0 .285-.688l.435-2.435a1.74 1.74 0 0 1 1.407-1.407l2.435-.435a1.74 1.74 0 0 0 .688-.285l2.03-1.414a1.74 1.74 0 0 1 1.989 0l2.029 1.414.688.285zM7.874 14.585l-.551 1.838a.204.204 0 0 0 .255.254l1.836-.55c.347-.105.662-.293.918-.548l4.46-4.462a.273.273 0 0 0 0-.385l-1.524-1.524a.273.273 0 0 0-.386 0l-4.46 4.461c-.256.256-.444.57-.548.916zm8.581-6.317l-.723-.723a.786.786 0 0 0-1.111 0l-.882.88a.262.262 0 0 0 0 .371l1.465 1.465a.262.262 0 0 0 .37 0l.881-.881a.786.786 0 0 0 0-1.112z",fillRule:"evenodd"}))};i.defaultProps={name:"BadgeWrite"},t.a=i},2816:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(27),i=function(e){return o.a.createElement(a.a,e,o.a.createElement("path",{d:"M15.333 19.333l-2.764 2.765a.333.333 0 0 1-.569-.236v-2.529h3.333zm0-13.333c.737 0 1.334.597 1.334 1.333V16A2.667 2.667 0 0 1 14 18.667H7.333A1.333 1.333 0 0 1 6 17.333v-10C6 6.597 6.597 6 7.333 6zm.394-1.987a2.933 2.933 0 0 1 2.93 2.791l.004.142v8.838c0 .693-.53 1.262-1.205 1.327l-.129.006V6.947a1.6 1.6 0 0 0-1.49-1.597l-.11-.004H7.333c0-.736.597-1.333 1.334-1.333h7.06z",fillRule:"evenodd"}))};i.defaultProps={name:"BlueBook"},t.a=i},898:function(e,t,n){"use strict";var r=n(15),o=n(16),a=n(17),i=n(18),c=n(9),l=n(1),u=n(3),s=n.n(u),f=n(0),d=n(19),p=n(26),h=n(12),v=n.n(h),b=n(933),m=n.n(b),g=n(850),y=n(36),O=n(35),j=n(74),C=n(433),w=n(57),k=n(1001),x=n(113),R=n(121),E=n(219),N=n(367),S=n(428),T=n(179),z=n(446),P=n(30);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(i.a)(this,n)}}var A={default:"default",primary:"primary"},I=function(e){Object(a.a)(n,e);var t=_(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).zaRef=Object(f.createRef)(),e.state={hovered:!1,isFetching:!1},e.handleMouseEnter=function(){e.setState({hovered:!0})},e.handleMouseLeave=function(){e.setState({hovered:!1})},e.toggleFollow=function(t){var n=e.props,r=n.isFollowing,o=n.type,a=n.id,i=n.zaId,c=n.useCustomZa,l=n.onFollowButtonClick,u=!r;c||(O.a.trackEvent(t.target,Object.assign({action:u?"Follow":"UnFollow",element:"Button",element_name:P.bb[o]},i&&{id:i})),e.zaRef.current.trackEvent({action:u?"Follow":"UnFollow",eventType:"Click",elementLocation:{type:"Button",text:u?"关注问题":"取消关注"}}));var s="toggleFollow".concat(o.slice(0,1).toUpperCase()).concat(o.slice(1)),f=e.props[s](a,u);m()(f)&&(e.setState({isFetching:!0}),f.then((function(){e.setState({isFetching:!1}),l&&l()})).catch((function(){return e.setState({isFetching:!1})})))},e.handleToggleFollow=function(t){e.props.authRequired?e.props.authRequired(e.toggleFollow,P.X.follow,!0)(t):e.props.ua.Zhihu?e.toggleFollow(t):e.context.authRequired(e.toggleFollow,P.X.follow)(t)},e.handleClick=function(t){var n=e.props.onClick;n&&!n(t)||(e.handleToggleFollow(t),t.stopPropagation())},e}return Object(o.a)(n,[{key:"render",value:function(){var e,t,n,r=this.state.hovered,o=this.props,a=o.onRef,i=o.preset,c=o.entityHidden,u=o.type,s=o.isFollowing,f=o.isFollowed,d=o.gender,p=o.className,h=o.children,b=o.isMobile,m=o.disabled,O=o.canShowMutualFollowStatus;s?(e="primary",n=r?"取消关注":O&&f?"互相关注":"已关注",t={color:"grey"}):(e=i,t={color:"blue"},n=h||("people"===u||"rewardPeople"===u?[Object(l.b)(g.a,{className:"FollowButton-icon",text:!0,center:!0},"icon"),"关注".concat("number"==typeof d&&-1!==d?P.O[d]:"")]:"关注".concat(c?"":C.b[u])));var w=this.state.isFetching;return Object(l.c)(y.c,Object.assign(Object.assign(Object.assign({onRef:a,preset:e,onClick:this.handleClick,className:v()("FollowButton",p)},t),!b&&{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}),{},{disabled:m||w,children:[Object(l.b)(j.d,{ref:this.zaRef}),n]}))}}]),n}(f.Component);I.contextTypes={authRequired:s.a.func},I.propTypes={preset:s.a.oneOf(Object.values(A)),type:s.a.oneOf(C.a).isRequired,id:s.a.oneOfType([s.a.number,s.a.string]).isRequired,zaId:s.a.number,useCustomZa:s.a.bool},I.defaultTypes={preset:A.default},I.PRESETS=A;t.a=Object(d.compose)(Object(p.connect)((function(e){return{ua:e.env.userAgent,isMobile:Object(w.isMobileSelector)(e,{includeTablet:!0})}}),{toggleFollowQuestion:R.qb,toggleFollowCollection:E.d,toggleFollowColumn:N.e,toggleFollowRoundtable:S.m,toggleFollowTopic:T.M,toggleFollowPeople:x.a,toggleFollowRewardPeople:z.o,toggleFollowClub_mask:k.a}))(I)},916:function(e,t,n){"use strict";var r=n(15),o=n(16),a=n(17),i=n(18),c=n(9),l=n(1),u=n(3),s=n.n(u),f=n(0),d=n(26),p=n(12),h=n.n(p),v=n(1146),b=n.n(v),m=n(63),g=n.n(m),y=n(2769),O=n(1177),j=n(1176),C=n(2246),w=n(122),k=n(36),x=n(35),R=n(74),E=n(115),N=n(433),S=n(245),T=n(520),z=n(29),P=n(30);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(i.a)(this,n)}}function A(e){return e&&e.startsWith("//")?"https:".concat(e):e}function I(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(e[t]))})).join("&")}var M=function(e){Object(a.a)(n,e);var t=_(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={qrCodeUrl:"",url:""},e.togglerRef=Object(f.createRef)(),e.shouldShowMenu=function(){var t=e.props,n=t.onTogglerClick,r=t.disabled;return!1!==n()&&!r},e.handleTogglerClick=function(t){e.shouldShowMenu()?(e.loadQrcodeImage(),e.onShare(t)):t.preventDefault()},e.handleMouseEnter=function(t){e.shouldShowMenu()?(e.loadQrcodeImage(),e.onShare(t)):t.preventDefault()},e.open=function(t){e.shouldShowMenu()&&(e.loadQrcodeImage(),e.menu.popover.open(),e.onShare(t))},e.onShare=function(){var t=e.props,n=t.id,r=t.type,o=t.getShareText,a=t.zaShareId;"live"!==r&&"club"!==r&&o(n,r),x.a.trackEvent(e.togglerRef.current,Object.assign({action:"Share",element:"Button",is_intent:!0,element_name:P.bb[r]},a&&{id:a}))},e.copyLink=function(){var t=e.props,n=t.type,r=t.title,o=t.authorName,a=t.href,i=t.showNotification,c=N.b[n]||"",l=r?"".concat(r," - "):"",u=o&&"匿名用户"!==o&&c?"".concat(o,"的").concat(c," - "):"",s=a?Object(E.toAbsoluteUrl)(a):e.url();b()("".concat(l).concat(u,"知乎\n").concat(A(s))),i("链接复制成功！")},e.url=function(){var t=e.props,n=t.id,r=t.type;return A(Object(E.toAbsoluteUrl)(e.props.url))||"".concat(location.origin,"/").concat(r,"/").concat(n)},e.loadQrcodeImage=function(){var t=e.state.qrCodeUrl;if(!t){var n="".concat(location.protocol,"//www.zhihu.com/"),r=e.url();t="".concat(n,"qrcode?").concat(I({url:"".concat(r).concat("#showWechatShareTip")})),e.setState({qrCodeUrl:t,url:r})}},e.shareToWeibo=function(){var t={appKey:"3063806388"},n=e.props.shareText;n&&(t.title=n);var r="http://service.weibo.com/share/share.php?".concat(I(t));window.open(r,"_blank","width=615,height=505")||(location.href=r)},e}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.positionStatus!==e.positionStatus&&this.menu.popover.close()}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.togglerClassName,o=t.positionStatus,a=t.toggler,i=t.type,c=t.disabled,u=t.placement,s=t.toggleEvent,d=t.stickHover,p=t.children,v=this.state.qrCodeUrl,b=Object(l.c)("div",{className:h()("ShareMenu-toggler",r),children:[v&&Object(l.b)("img",{className:"ShareMenu-fakeQRCode",src:v,alt:"微信二维码"}),Object(f.cloneElement)(a,{onMouseEnter:this.loadQrcodeImage,disabled:c,ref:this.togglerRef})]}),m="hover"===s?{onMouseEnter:this.handleMouseEnter}:{onClick:this.handleTogglerClick};return Object(l.c)(f.Fragment,{children:[Object(l.b)(S.c,{keyMap:{SHARE:"f x"},handlers:{SHARE:this.open}}),Object(l.c)(R.a,Object.assign(Object.assign({as:w.c,zaText:!0,zaType:"Button",zaAction:"Share",className:h()("ShareMenu",n),positionStatus:o,ref:function(t){e.menu=t},toggler:b,placement:u,toggleEvent:s,stickHover:d},m),{},{children:[Object(l.c)(R.a,{as:w.b,zaType:"Button",zaAction:"Share",zaText:!0,className:"ShareMenu-button",onClick:this.copyLink,children:[Object(l.b)(y.a,{size:20,className:"ShareMenu-Icon--normal",color:"#9FADC7"}),"复制链接"]}),"live"===i||Object(l.c)(R.a,{as:w.b,zaType:"Button",zaAction:"Share",zaText:!0,className:"ShareMenu-button",onClick:this.shareToWeibo,children:[Object(l.b)(O.a,{size:17,className:"ShareMenu-Icon--small"}),"新浪微博"]}),Object(l.c)(w.b,{tag:"div",className:"ShareMenu-wechat",noActive:!0,children:[Object(l.c)(k.c,{className:"ShareMenu-button",preset:"plain",children:[Object(l.b)(j.a,{size:17,className:"ShareMenu-Icon--small",color:"#60C84D"}),"微信扫一扫"]}),Object(l.b)("img",{className:"ShareMenu-qrCode",src:v,alt:"微信二维码"})]}),p]}))]})}}]),n}(f.Component);M.propTypes={toggler:s.a.node,onTogglerClick:s.a.func,zaShareId:s.a.number},M.defaultProps={toggler:Object(l.b)(k.c,{preset:"plain",icon:C.a,label:"分享"}),onTogglerClick:g.a};t.a=Object(d.connect)((function(e,t){var n=t.id,r=t.type,o=e.shareTexts;return{shareText:(null==o?void 0:o["".concat(r).concat(n)])||t.shareText}}),{showNotification:z.h,getShareText:T.b})(M)},917:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return x}));var r=n(31),o=n.n(r),a=n(39),i=n.n(a),c=n(0),l=n.n(c),u=n(12),s=n.n(u),f=n(7),d=["className","title","options","children"],p=function(e){var t=e.className,n=e.title,r=e.options,a=e.children,c=o()(e,d);return Object(f.g)("div",i()({className:s()("List",t)},c),(n||r)&&Object(f.g)("div",{className:"List-header"},Object(f.g)("h4",{className:"List-headerText"},n),Object(f.g)("div",{className:"List-headerOptions"},r)),a)},h=n(21),v=n.n(h),b=n(23),m=n.n(b),g=n(22),y=n.n(g),O=n(25),j=n.n(O),C=n(14),w=n.n(C);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j()(this,n)}}var x=function(e){y()(n,e);var t=k(n);function n(){return v()(this,n),t.apply(this,arguments)}return m()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.tabIndex,r=e.meta,o=e.children,a=e.onRef;return Object(f.g)("div",{className:s()("List-item",t),tabIndex:n,ref:a},r&&Object(f.g)("div",{className:"List-itemMeta"},r),o)}}]),n}(l.a.Component);n(960)},923:function(e,t,n){"use strict";var r=n(15),o=n(16),a=n(17),i=n(18),c=n(9),l=n(1),u=n(3),s=n.n(u),f=n(0),d=n(161),p=n(1080);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(i.a)(this,n)}}var v=function(e){Object(a.a)(n,e);var t=h(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handlePackup=function(){var t=e.props.onClose;window.scrollTo(0,e.originPageYOffset),t&&t()},e}return Object(o.a)(n,[{key:"componentWillReceiveProps",value:function(e){"bottom"===e.commentPattern&&e.shown&&!this.props.shown&&(this.originPageYOffset=window.pageYOffset)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.containerClassName,r=e.shown,o=e.showPackupButton,a=e.parent,i=e.commentPattern,c=e.commentInputPosition,u=e.onClose,s=e.byComment,f=e.needLoadCommentPermission,h=e.isMobile,v=e.onOrderChange,b=e.onItemLike,m=e.onPaginationClick,g=e.autoFocus,y=e.onMount,O=e.zaInfo;return r?"bottom"===i?Object(l.b)(p.a,{className:t,containerClassName:n,autoFocus:g,parent:a,commentPattern:i,commentInputPosition:c,showPackupButton:o,handlePackupButton:this.handlePackup,needLoadCommentPermission:f,isMobile:h,onOrderChange:v,onItemLike:b,onPaginationClick:m,onMount:y,zaInfo:O}):Object(l.b)(d.b,{size:"fullPage",onClose:u,maskClosable:!1,children:r&&"fixed"===i&&Object(l.b)(p.a,{className:t,containerClassName:n,parent:a,commentPattern:i,byComment:s,needLoadCommentPermission:f,onOrderChange:v,onItemLike:b,onPaginationClick:m,onMount:y,zaInfo:O})}):null}}]),n}(f.Component);v.propTypes={className:s.a.string,containerClassName:s.a.string,byComment:s.a.oneOfType([s.a.number,s.a.string]),parent:s.a.object,shown:s.a.bool,showPackupButton:s.a.bool,commentPattern:s.a.string,commentInputPosition:s.a.oneOf(["top","bottom"]),onClose:s.a.func,needLoadCommentPermission:s.a.bool,isMobile:s.a.bool,onOrderChange:s.a.func,onItemLike:s.a.func,onPaginationClick:s.a.func,autoFocus:s.a.bool,onMount:s.a.func,zaInfo:s.a.object},v.defaultProps={commentPattern:"fixed",showPackupButton:!0,commentInputPosition:"bottom"},t.a=v},928:function(e,t,n){"use strict";var r=n(15),o=n(16),a=n(17),i=n(18),c=n(9),l=n(1),u=n(3),s=n.n(u),f=n(0),d=n(74),p=n(2236),h=n(36),v=n(35),b=n(178),m=n(245);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(i.a)(this,n)}}var y=function(e){Object(a.a)(n,e);var t=g(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).buttonRef=Object(f.createRef)(),e.handleClick=function(t){var n=e.props,r=n.zaInfos,o=r.toggleComment,a=r.getCommentAction,i=n.positionStatus,c=n.onClick,l=n.commentsShown;if(v.a.trackEvent(e.buttonRef.current,Object.assign({action:a?a(!l):"Comment",element:"Button",is_intent:!0},o&&{id:o})),c){var u="fixed"===i?"fixed":"bottom",s={commentsShown:!e.props.commentsShown,commentsAutoFocus:!(t instanceof KeyboardEvent),commentPattern:u};t instanceof KeyboardEvent&&"bottom"===u&&e.buttonRef.current.focus(),c(t,s)}},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.onInstance(this)}},{key:"componentWillUnmount",value:function(){this.props.onInstance(null)}},{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.count,o=t.commentsShown,a=t.commentClosed;o?e="收起评论":e=r&&!a?"".concat(Object(b.formatNumber)(r)," 条评论"):"添加评论";return Object(l.c)(f.Fragment,{children:[Object(l.b)(m.c,{keyMap:{COMMENT:"c"},handlers:{COMMENT:this.handleClick}}),Object(l.b)(d.a,{as:h.c,zaText:o?"收起评论":"展开评论",zaType:"Button",onRef:this.buttonRef,preset:"plain",className:n,onClick:this.handleClick,icon:p.a,label:e})]})}}]),n}(f.Component);y.propTypes={commentsShown:s.a.bool,count:s.a.number,zaInfos:s.a.shape({id:s.a.number,getCommentAction:s.a.func}),onInstance:s.a.func},y.defaultProps={zaInfos:{},onInstance:function(){return null}};t.a=y},933:function(e,t){function n(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}e.exports=n,e.exports.default=n},936:function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},951:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var r=n(976),o=n.n(r),a=n(30);function i(e){if("number"!=typeof e)return null;var t=Math.floor(e/60),n=Math.floor(e%60);return"".concat(String(t),":").concat(o()(String(n),2,"0"))}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.multiple,r=void 0!==n&&n,o=t.numLimit,i=void 0===o?a.U:o,c=t.uploadPartiallyWhenExceedsLimit,l=void 0===c||c,u=Array.from(e).filter((function(e){return a.a.VIDEO.some((function(t){return e.name.toLowerCase().endsWith(t)}))}));if(0===u.length)return{message:"视频格式不支持",abortUpload:!0};var s=u.filter((function(e){return e.size>102400}));return 0===s.length?{message:"视频必须大于 100KB，请重新选择上传",abortUpload:!0}:!r&&s.length>1?{message:"一次仅能上传一个视频，请分开上传",abortUpload:!1,validFiles:[s[0]]}:r&&s.length>i?0===i?{message:"上传个数已达上限",abortUpload:!0}:l?{message:"最多可上传 ".concat(i," 个视频，已默认选择").concat(i>1?"前":"第"," ").concat(i," 个视频"),abortUpload:!1,validFiles:s.slice(0,i)}:{message:"一次最多上传 ".concat(i," 个视频, 请重新选择上传"),abortUpload:!0}:{message:null,abortUpload:!1,validFiles:s}}},960:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(0);var r=n(12),o=n.n(r),a=n(7),i=function(e){var t=e.avatar,n=e.bottom,r=e.button,i=e.className,c=e.height,l=e.icon,u=e.inline,s=e.right,f=e.style,d=void 0===f?{}:f,p=e.title,h=e.width,v=Object.assign({},d);return h&&(v.width="".concat(h,"px")),c&&(v.height="".concat(c,"px")),n&&(v.marginBottom="".concat(n,"px")),s&&(v.marginRight="".concat(s,"px")),Object(a.g)("div",{className:o()("Holder",i,{"Holder--inline":u,"Holder--title":p,"Holder--icon":l,"Holder--button":r,"Holder--avatar":t}),style:v})}},976:function(e,t,n){var r=n(1040),o=n(977),a=n(366),i=n(443);e.exports=function(e,t,n){e=i(e);var c=(t=a(t))?o(e):0;return t&&c<t?r(t-c,n)+e:e}},977:function(e,t,n){var r=n(1042),o=n(936),a=n(1043);e.exports=function(e){return o(e)?a(e):r(e)}},987:function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"…";return e.length>t?e.slice(0,t)+n:e}function o(e,t){for(var n,r=0,o="",a=e.length,i=0;i<a&&((n=e[i]).charCodeAt(0)<128?r+=1:r+=2,o+=n,!(r>=t-1));i+=1);return o}n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c}));var a=null;function i(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"…",c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"undefined"==typeof document?t=o(n=e.replace(/<.+?>/g,""),r):((a=a||document.createElement("div")).textContent=e,t=o(n=a.textContent.replace(/<.+?>/g,""),r));var l=!1;return t!==n&&(l=!0,t=t.slice(0,t.length-i.length),t+=i),c?{output:t,truncated:l}:t}function c(e){return/\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]/g.test(e)}}}]);
//# sourceMappingURL=main.shared_2be74298eb613028564a557af567913a02d56791.7439a59dc8aa51f05073.js.map